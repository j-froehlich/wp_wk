(function(d,c){if(typeof define==="function"){define("pikaday-responsive",["exports"],function(a){return(a["default"]=c())})}else{if(typeof module==="object"){module.exports=c()}else{d.pikadayResponsive=c()}}}(this,function(){var c=jQuery;if(!moment){console.error("You need to load moment.js in order to use pikaday-responsive.");return}if(!jQuery){console.error("You need to load jQuery in order to use pikaday-responsive.");return}if(!Pikaday){console.error("You need to load pikaday in order to use pikaday-responsive.");return}var d={format:"YYYY-MM-DD",outputFormat:"YYYY-MM-DD",checkIfNativeDate:function(){return false},classes:"",placeholder:"",pikadayOptions:{},dayOffset:0};return function(u,a){var b=c(u);var s=c.extend({},d,a);var n;var p;var v;var q={pikaday:null,value:null,date:null,element:b[0]};if(!b.length||b[0].tagName!=="INPUT"){console.error("pikadayResponsive expects an input-field as its first element.",b[0]);return false}b.attr("type","hidden");b.wrap("<div class='pikaday__container'></div>");n=b.parent(".pikaday__container");if(s.checkIfNativeDate()){p=c("<input type='date' class='pikaday__invisible' placeholder='"+s.placeholder+"' />");n.append(p);v=c("<input type='text' readonly='readonly' class='pikaday__display pikaday__display--native "+s.classes+"' placeholder='"+s.placeholder+"' />");n.append(v);p.on("change",function(){var e=c(this).val();v.removeClass("is-empty");if(!e){q.date=null;q.value=null;v.addClass("is-empty")}else{q.date=moment(e,"YYYY-MM-DD");q.value=q.date.format(s.outputFormat)}if(q.value*1===parseInt(q.value,10)){q.value*=1}b.val(q.value);if(q.date){v.val(q.date.format(s.format))}else{v.val(null)}b.trigger("change");b.trigger("change-date",[q])})}else{p=c("<input type='text' class='pikaday__display pikaday__display--pikaday "+s.classes+"' placeholder='"+s.placeholder+"' />");n.append(p);var r=false;var t=null;q.pikaday=new Pikaday(c.extend({},s.pikadayOptions,{field:p[0],format:s.format}));p.on("change",function(){if(r){return}r=true;t=window.setTimeout(function(){r=false},10);var e=c(this).val();p.removeClass("is-empty");if(!e){q.date=null;q.value=null;p.addClass("is-empty")}else{q.date=moment(e,s.format);q.date.add(s.dayOffset,"day");q.value=q.date.format(s.outputFormat);c(this).val(q.date.format(s.format))}if(q.value*1===parseInt(q.value,10)){q.value*=1}b.val(q.value);setTimeout(function(){b.trigger("change");b.trigger("change-date",[q])},1)})}var o=function(f,e){if(!f){if(q.pikaday){q.pikaday.setDate(null)}else{p.val(null);p.trigger("change")}return null}if(typeof f==="object"&&typeof f.format!=="function"){f=moment(f)}if(typeof f==="string"){if(typeof e==="undefined"||!e){e=s.outputFormat}f=moment(f,e)}if(typeof f==="number"){f=moment(f)}if(q.pikaday){q.pikaday.setMoment(f)}else{p.val(f.format("YYYY-MM-DD"));p.trigger("change")}return f};if(b.val()){o(b.val())}q.setDate=o;return q}}));