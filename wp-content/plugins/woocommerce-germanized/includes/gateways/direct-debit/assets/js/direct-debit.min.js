(function(c){function b(d){return IBAN.isValid(d)}function a(d){var e=/^([a-zA-Z]){4}([a-zA-Z]){2}([0-9a-zA-Z]){2}([0-9a-zA-Z]{3})?$/;return e.test(d)}c(function(){c("form.checkout, form#order_review").on("blur input change","#direct-debit-form input#direct-debit-account-holder",function(){if(!c(this).val()){c(this).parents("p.form-row").removeClass("woocommerce-validated");c(this).parents("p.form-row").addClass("woocommerce-invalid woocommerce-invalid-required-field")}});c("form.checkout, form#order_review").on("blur input change","#direct-debit-form input#direct-debit-account-iban",function(){if(!b(c(this).val())){c(this).parents("p.form-row").removeClass("woocommerce-validated");c(this).parents("p.form-row").addClass("woocommerce-invalid woocommerce-invalid-required-field")}});c("form.checkout, form#order_review").on("blur input change","#direct-debit-form input#direct-debit-account-bic",function(){if(!a(c(this).val())){c(this).parents("p.form-row").removeClass("woocommerce-validated");c(this).parents("p.form-row").addClass("woocommerce-invalid woocommerce-invalid-required-field")}});c(".direct-debit-checkbox").hide();c("form.checkout, form#order_review").on("blur input change","input, select",function(){c(".direct-debit-checkbox").hide();if(c("#direct-debit-form").length){if(c("#payment_method_direct-debit").is(":checked")&&c("input#direct-debit-account-holder").val()&&c("input#direct-debit-account-iban").val()&&c("input#direct-debit-account-bic").val()){c(".direct-debit-checkbox").show()}}});c(document).on("click","a#show-direct-debit-trigger",function(g){g.preventDefault();var d=c(this).attr("href");var f={country:c("#billing_country").val(),postcode:c("input#billing_postcode").val(),city:c("#billing_city").val(),address:c("input#billing_address_1").val(),address_2:c("input#billing_address_2").val(),debit_holder:c("input#direct-debit-account-holder").val(),debit_iban:c("input#direct-debit-account-iban").val(),debit_swift:c("input#direct-debit-account-bic").val(),user:c("input#createaccount").val()};d+="&ajax=true&"+jQuery.param(f);c("#show-direct-debit-pretty").attr("href",d);c("#show-direct-debit-pretty").trigger("click")});c("a#show-direct-debit-pretty").prettyPhoto({social_tools:false,theme:"pp_woocommerce",horizontal_padding:20,opacity:0.8,deeplinking:false})})}(jQuery));