!function(c,b,d,a){c.site=c.fn.site=function(j){var C,e,F=(new Date).getTime(),n=[],z=arguments[0],E="string"==typeof z,x=[].slice.call(arguments,1),w=c.isPlainObject(j)?c.extend(!0,{},c.site.settings,j):c.extend({},c.site.settings),k=w.namespace,t=w.error,i="module-"+k,q=c(d),D=q,B=this,A=D.data(i);return C={initialize:function(){C.instantiate()},instantiate:function(){C.verbose("Storing instance of site",C),A=C,D.data(i,C)},normalize:function(){C.fix.console(),C.fix.requestAnimationFrame()},fix:{console:function(){C.debug("Normalizing window.console"),console!==a&&console.log!==a||(C.verbose("Console not available, normalizing events"),C.disable.console()),"undefined"!=typeof console.group&&"undefined"!=typeof console.groupEnd&&"undefined"!=typeof console.groupCollapsed||(C.verbose("Console group not available, normalizing events"),b.console.group=function(){},b.console.groupEnd=function(){},b.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(C.verbose("Mark timeline not available, normalizing events"),b.console.markTimeline=function(){})},consoleClear:function(){C.debug("Disabling programmatic console clearing"),b.console.clear=function(){}},requestAnimationFrame:function(){C.debug("Normalizing requestAnimationFrame"),b.requestAnimationFrame===a&&(C.debug("RequestAnimationFrame not available, normalizing event"),b.requestAnimationFrame=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)})}},moduleExists:function(f){return c.fn[f]!==a&&c.fn[f].settings!==a},enabled:{modules:function(f){var g=[];return f=f||w.modules,c.each(f,function(l,h){C.moduleExists(h)&&g.push(h)}),g}},disabled:{modules:function(f){var g=[];return f=f||w.modules,c.each(f,function(l,h){C.moduleExists(h)||g.push(h)}),g}},change:{setting:function(f,l,h,g){h="string"==typeof h?"all"===h?w.modules:[h]:h||w.modules,g=g!==a?g:!0,c.each(h,function(p,u){var r,m=C.moduleExists(u)?c.fn[u].settings.namespace||!1:!0;C.moduleExists(u)&&(C.verbose("Changing default setting",f,l,u),c.fn[u].settings[f]=l,g&&m&&(r=c(":data(module-"+m+")"),r.length>0&&(C.verbose("Modifying existing settings",r),r[u]("setting",f,l))))})},settings:function(f,h,g){h="string"==typeof h?[h]:h||w.modules,g=g!==a?g:!0,c.each(h,function(o,l){var m;C.moduleExists(l)&&(C.verbose("Changing default setting",f,l),c.extend(!0,c.fn[l].settings,f),g&&k&&(m=c(":data(module-"+k+")"),m.length>0&&(C.verbose("Modifying existing settings",m),m[l]("setting",f))))})}},enable:{console:function(){C.console(!0)},debug:function(g,f){g=g||w.modules,C.debug("Enabling debug for modules",g),C.change.setting("debug",!0,g,f)},verbose:function(g,f){g=g||w.modules,C.debug("Enabling verbose debug for modules",g),C.change.setting("verbose",!0,g,f)}},disable:{console:function(){C.console(!1)},debug:function(g,f){g=g||w.modules,C.debug("Disabling debug for modules",g),C.change.setting("debug",!1,g,f)},verbose:function(g,f){g=g||w.modules,C.debug("Disabling verbose debug for modules",g),C.change.setting("verbose",!1,g,f)}},console:function(f){if(f){if(A.cache.console===a){return void C.error(t.console)}C.debug("Restoring console function"),b.console=A.cache.console}else{C.debug("Disabling console function"),A.cache.console=b.console,b.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}}},destroy:function(){C.verbose("Destroying previous site for",D),D.removeData(i)},cache:{},setting:function(f,g){if(c.isPlainObject(f)){c.extend(!0,w,f)}else{if(g===a){return w[f]}w[f]=g}},internal:function(f,g){if(c.isPlainObject(f)){c.extend(!0,C,f)}else{if(g===a){return C[f]}C[f]=g}},debug:function(){w.debug&&(w.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,w.name+":"),C.debug.apply(console,arguments)))},verbose:function(){w.verbose&&w.debug&&(w.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,w.name+":"),C.error.apply(console,arguments)},performance:{log:function(h){var g,l,f;w.performance&&(g=(new Date).getTime(),f=F||g,l=g-f,F=g,n.push({Element:B,Name:h[0],Arguments:[].slice.call(h,1)||"","Execution Time":l})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var f=w.name+":",g=0;F=!1,clearTimeout(C.performance.timer),c.each(n,function(l,h){g+=h["Execution Time"]}),f+=" "+g+"ms",(console.group!==a||console.table!==a)&&n.length>0&&(console.groupCollapsed(f),console.table?console.table(n):c.each(n,function(l,h){console.log(h.Name+": "+h["Execution Time"]+"ms")}),console.groupEnd()),n=[]}},invoke:function(h,v,p){var m,f,r,g=A;return v=v||x,p=B||p,"string"==typeof h&&g!==a&&(h=h.split(/[\. ]/),m=h.length-1,c.each(h,function(u,s){var l=u!=m?s+h[u+1].charAt(0).toUpperCase()+h[u+1].slice(1):h;if(c.isPlainObject(g[l])&&u!=m){g=g[l]}else{if(g[l]!==a){return f=g[l],!1}if(!c.isPlainObject(g[s])||u==m){return g[s]!==a?(f=g[s],!1):(C.error(t.method,h),!1)}g=g[s]}})),c.isFunction(f)?r=f.apply(p,v):f!==a&&(r=f),c.isArray(e)?e.push(r):e!==a?e=[e,r]:r!==a&&(e=r),f}},E?(A===a&&C.initialize(),C.invoke(z)):(A!==a&&C.destroy(),C.initialize()),e!==a?e:this},c.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(e){return function(f){return !!c.data(f,e)}}):function(f,g,e){return !!c.data(f,e[3])}})}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.form=function(p){var g,m=c(this),e=m.selector||"",q=(new Date).getTime(),h=[],k=arguments[0],n=arguments[1],j="string"==typeof k,i=[].slice.call(arguments,1);return m.each(function(){var U,Y,Q,X,H,Z,u,B,L,G,V,l,f,N,o,r,J,I,s,K=c(this),M=this,W=[],t=!1;s={initialize:function(){s.get.settings(),j?(I===a&&s.instantiate(),s.invoke(k)):(I!==a&&I.invoke("destroy"),s.verbose("Initializing form validation",K,B),s.bindEvents(),s.set.defaults(),s.instantiate())},instantiate:function(){s.verbose("Storing instance of module",s),I=s,K.data(r,s)},destroy:function(){s.verbose("Destroying previous module",I),s.removeEvents(),K.removeData(r)},refresh:function(){s.verbose("Refreshing selector cache"),U=K.find(V.field),Y=K.find(V.group),Q=K.find(V.message),X=K.find(V.prompt),H=K.find(V.submit),Z=K.find(V.clear),u=K.find(V.reset)},submit:function(){s.verbose("Submitting form",K),K.submit()},attachEvents:function(v,w){w=w||"submit",c(v).on("click"+J,function(x){s[w](),x.preventDefault()})},bindEvents:function(){s.verbose("Attaching form events"),K.on("submit"+J,s.validate.form).on("blur"+J,V.field,s.event.field.blur).on("click"+J,V.submit,s.submit).on("click"+J,V.reset,s.reset).on("click"+J,V.clear,s.clear),B.keyboardShortcuts&&K.on("keydown"+J,V.field,s.event.field.keydown),U.each(function(){var w=c(this),x=w.prop("type"),v=s.get.changeEvent(x,w);c(this).on(v+J,s.event.field.change)})},clear:function(){U.each(function(){var y=c(this),D=y.parent(),x=y.closest(Y),C=x.find(V.prompt),w=y.data(G.defaultValue)||"",A=D.is(V.uiCheckbox),z=D.is(V.uiDropdown),v=x.hasClass(l.error);v&&(s.verbose("Resetting error on field",x),x.removeClass(l.error),C.remove()),z?(s.verbose("Resetting dropdown value",D,w),D.dropdown("clear")):A?y.prop("checked",!1):(s.verbose("Resetting field value",y,w),y.val(""))})},reset:function(){U.each(function(){var x=c(this),D=x.parent(),A=x.closest(Y),w=A.find(V.prompt),z=x.data(G.defaultValue),y=D.is(V.uiCheckbox),v=D.is(V.uiDropdown),C=A.hasClass(l.error);z!==a&&(C&&(s.verbose("Resetting error on field",A),A.removeClass(l.error),w.remove()),v?(s.verbose("Resetting dropdown value",D,z),D.dropdown("restore defaults")):y?(s.verbose("Resetting checkbox value",D,z),x.prop("checked",z)):(s.verbose("Resetting field value",x,z),x.val(z)))})},determine:{isValid:function(){var v=!0;return c.each(L,function(w,x){s.validate.field(x,w,!0)||(v=!1)}),v}},is:{bracketedRule:function(v){return v.type&&v.type.match(B.regExp.bracket)},empty:function(v){return v&&0!==v.length?v.is('input[type="checkbox"]')?!v.is(":checked"):s.is.blank(v):!0},blank:function(v){return""===c.trim(v.val())},valid:function(v){var w=!0;return v?(s.verbose("Checking if field is valid",v),s.validate.field(L[v],v,!1)):(s.verbose("Checking if form is valid"),c.each(L,function(y,x){s.is.valid(y)||(w=!1)}),w)}},removeEvents:function(){K.off(J),U.off(J),H.off(J),U.off(J)},event:{field:{keydown:function(x){var C=c(this),w=x.which,A=C.is(V.input),v=C.is(V.checkbox),z=C.closest(V.uiDropdown).length>0,y={enter:13,escape:27};w==y.escape&&(s.verbose("Escape key pressed blurring field"),C.blur()),x.ctrlKey||w!=y.enter||!A||z||v||(t||(C.one("keyup"+J,s.event.field.keyup),s.submit(),s.debug("Enter pressed on input submitting form")),t=!0)},keyup:function(){t=!1},blur:function(w){var y=c(this),v=y.closest(Y),x=s.get.validation(y);v.hasClass(l.error)?(s.debug("Revalidating field",y,x),x&&s.validate.field(x)):"blur"!=B.on&&"change"!=B.on||x&&s.validate.field(x)},change:function(w){var y=c(this),v=y.closest(Y),x=s.get.validation(y);x&&("change"==B.on||v.hasClass(l.error)&&B.revalidate)&&(clearTimeout(s.timer),s.timer=setTimeout(function(){s.debug("Revalidating field",y,s.get.validation(y)),s.validate.field(x)},B.delay))}}},get:{ancillaryValue:function(v){return v.type&&(v.value||s.is.bracketedRule(v))?v.value!==a?v.value:v.type.match(B.regExp.bracket)[1]+"":!1},ruleName:function(v){return s.is.bracketedRule(v)?v.type.replace(v.type.match(B.regExp.bracket)[0],""):v.type},changeEvent:function(w,v){return"checkbox"==w||"radio"==w||"hidden"==w||v.is("select")?"change":s.get.inputEvent()},inputEvent:function(){return d.createElement("input").oninput!==a?"input":d.createElement("input").onpropertychange!==a?"propertychange":"keyup"},prompt:function(A,E){var x,z,w,D=s.get.ruleName(A),v=s.get.ancillaryValue(A),F=A.prompt||B.prompt[D]||B.text.unspecifiedRule,y=-1!==F.search("{value}"),C=-1!==F.search("{name}");return(C||y)&&(z=s.get.field(E.identifier)),y&&(F=F.replace("{value}",z.val())),C&&(x=z.closest(V.group).find("label").eq(0),w=1==x.length?x.text():z.prop("placeholder")||B.text.unspecifiedField,F=F.replace("{name}",w)),F=F.replace("{identifier}",E.identifier),F=F.replace("{ruleValue}",v),A.prompt||s.verbose("Using default validation prompt for type",F,D),F},settings:function(){if(c.isPlainObject(p)){var x,w=Object.keys(p),v=w.length>0?p[w[0]].identifier!==a&&p[w[0]].rules!==a:!1;v?(B=c.extend(!0,{},c.fn.form.settings,n),L=c.extend({},c.fn.form.settings.defaults,p),s.error(B.error.oldSyntax,M),s.verbose("Extending settings from legacy parameters",L,B)):(p.fields&&(x=Object.keys(p.fields),("string"==typeof p.fields[x[0]]||c.isArray(p.fields[x[0]]))&&c.each(p.fields,function(z,y){"string"==typeof y&&(y=[y]),p.fields[z]={rules:[]},c.each(y,function(C,A){p.fields[z].rules.push({type:A})})})),B=c.extend(!0,{},c.fn.form.settings,p),L=c.extend({},c.fn.form.settings.defaults,B.fields),s.verbose("Extending settings",L,B))}else{B=c.fn.form.settings,L=c.fn.form.settings.defaults,s.verbose("Using default form validation",L,B)}o=B.namespace,G=B.metadata,V=B.selector,l=B.className,f=B.regExp,N=B.error,r="module-"+o,J="."+o,I=K.data(r),s.refresh()},field:function(v){return s.verbose("Finding field with identifier",v),v=s.escape.string(v),U.filter("#"+v).length>0?U.filter("#"+v):U.filter('[name="'+v+'"]').length>0?U.filter('[name="'+v+'"]'):U.filter('[name="'+v+'[]"]').length>0?U.filter('[name="'+v+'[]"]'):U.filter("[data-"+G.validate+'="'+v+'"]').length>0?U.filter("[data-"+G.validate+'="'+v+'"]'):c("<input/>")},fields:function(v){var w=c();return c.each(v,function(y,x){w=w.add(s.get.field(x))}),w},validation:function(w){var x,v;return L?(c.each(L,function(y,z){v=z.identifier||y,s.get.field(v)[0]==w[0]&&(z.identifier=v,x=z)}),x||!1):!1},value:function(w){var v,x=[];return x.push(w),v=s.get.values.call(M,x),v[w]},values:function(w){var x=c.isArray(w)?s.get.fields(w):U,v={};return x.each(function(O,A){var z=c(A),E=(z.prop("type"),z.prop("name")),y=z.val(),P=z.is(V.checkbox),C=z.is(V.radio),D=-1!==E.indexOf("[]"),F=P?z.is(":checked"):!1;E&&(D?(E=E.replace("[]",""),v[E]||(v[E]=[]),P?F?v[E].push(y||!0):v[E].push(!1):v[E].push(y)):C?F&&(v[E]=y):P?F?v[E]=y||!0:v[E]=!1:v[E]=y)}),v}},has:{field:function(v){return s.verbose("Checking for existence of a field with identifier",v),v=s.escape.string(v),"string"!=typeof v&&s.error(N.identifier,v),U.filter("#"+v).length>0?!0:U.filter('[name="'+v+'"]').length>0?!0:U.filter("[data-"+G.validate+'="'+v+'"]').length>0}},escape:{string:function(v){return v=String(v),v.replace(f.escape,"\\$&")}},add:{prompt:function(w,A){var z=s.get.field(w),v=z.closest(Y),y=v.children(V.prompt),x=0!==y.length;A="string"==typeof A?[A]:A,s.verbose("Adding field error state",w),v.addClass(l.error),B.inline&&(x||(y=B.templates.prompt(A),y.appendTo(v)),y.html(A[0]),x?s.verbose("Inline errors are disabled, no inline error added",w):B.transition&&c.fn.transition!==a&&K.transition("is supported")?(s.verbose("Displaying error with css transition",B.transition),y.transition(B.transition+" in",B.duration)):(s.verbose("Displaying error with fallback javascript animation"),y.fadeIn(B.duration)))},errors:function(v){s.debug("Adding form error messages",v),s.set.error(),Q.html(B.templates.error(v))}},remove:{prompt:function(w){var y=s.get.field(w),x=y.closest(Y),v=x.children(V.prompt);x.removeClass(l.error),B.inline&&v.is(":visible")&&(s.verbose("Removing prompt for field",w),B.transition&&c.fn.transition!==a&&K.transition("is supported")?v.transition(B.transition+" out",B.duration,function(){v.remove()}):v.fadeOut(B.duration,function(){v.remove()}))}},set:{success:function(){K.removeClass(l.error).addClass(l.success)},defaults:function(){U.each(function(){var w=c(this),x=w.filter(V.checkbox).length>0,v=x?w.is(":checked"):w.val();w.data(G.defaultValue,v)})},error:function(){K.removeClass(l.success).addClass(l.error)},value:function(w,v){var x={};return x[w]=v,s.set.values.call(M,x)},values:function(v){c.isEmptyObject(v)||c.each(v,function(F,y){var A,x=s.get.field(F),D=x.parent(),w=c.isArray(y),O=D.is(V.uiCheckbox),z=D.is(V.uiDropdown),C=x.is(V.radio)&&O,E=x.length>0;E&&(w&&O?(s.verbose("Selecting multiple",y,x),D.checkbox("uncheck"),c.each(y,function(R,P){A=x.filter('[value="'+P+'"]'),D=A.parent(),A.length>0&&D.checkbox("check")})):C?(s.verbose("Selecting radio value",y,x),x.filter('[value="'+y+'"]').parent(V.uiCheckbox).checkbox("check")):O?(s.verbose("Setting checkbox value",y,D),y===!0?D.checkbox("check"):D.checkbox("uncheck")):z?(s.verbose("Setting dropdown value",y,D),D.dropdown("set selected",y)):(s.verbose("Setting field value",y,x),x.val(y)))})}},validate:{form:function(w,v){var x=s.get.values();if(t){return !1}if(W=[],s.determine.isValid()){if(s.debug("Form has no validation errors, submitting"),s.set.success(),v!==!0){return B.onSuccess.call(M,w,x)}}else{if(s.debug("Form has errors"),s.set.error(),B.inline||s.add.errors(W),K.data("moduleApi")!==a&&w.stopImmediatePropagation(),v!==!0){return B.onFailure.call(M,W,x)}}},field:function(x,D,A){A=A!==a?A:!0,"string"==typeof x&&(s.verbose("Validating field",x),D=x,x=L[x]);var w=x.identifier||D,z=s.get.field(w),y=x.depends?s.get.field(x.depends):!1,v=!0,C=[];return x.identifier||(s.debug("Using field name as identifier",w),x.identifier=w),z.prop("disabled")?(s.debug("Field is disabled. Skipping",w),v=!0):x.optional&&s.is.blank(z)?(s.debug("Field is optional and blank. Skipping",w),v=!0):x.depends&&s.is.empty(y)?(s.debug("Field depends on another value that is not present or empty. Skipping",y),v=!0):x.rules!==a&&c.each(x.rules,function(E,F){s.has.field(w)&&!s.validate.rule(x,F)&&(s.debug("Field is invalid",w,F.type),C.push(s.get.prompt(F,x)),v=!1)}),v?(A&&(s.remove.prompt(w,C),B.onValid.call(z)),!0):(A&&(W=W.concat(C),s.add.prompt(w,C),B.onInvalid.call(z,C)),!1)},rule:function(x,C){var A=s.get.field(x.identifier),w=(C.type,A.val()),z=s.get.ancillaryValue(C),y=s.get.ruleName(C),v=B.rules[y];return c.isFunction(v)?(w=w===a||""===w||null===w?"":c.trim(w+""),v.call(A,w,z)):void s.error(N.noRule,y)}},setting:function(v,w){if(c.isPlainObject(v)){c.extend(!0,B,v)}else{if(w===a){return B[v]}B[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,s,v)}else{if(w===a){return s[v]}s[v]=w}},debug:function(){!B.silent&&B.debug&&(B.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,B.name+":"),s.debug.apply(console,arguments)))},verbose:function(){!B.silent&&B.verbose&&B.debug&&(B.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,B.name+":"),s.verbose.apply(console,arguments)))},error:function(){B.silent||(s.error=Function.prototype.bind.call(console.error,console,B.name+":"),s.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;B.performance&&(w=(new Date).getTime(),v=q||w,y=w-v,q=w,h.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:M,"Execution Time":y})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var v=B.name+":",w=0;q=!1,clearTimeout(s.performance.timer),c.each(h,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),m.length>1&&(v+=" ("+m.length+")"),(console.group!==a||console.table!==a)&&h.length>0&&(console.groupCollapsed(v),console.table?console.table(h):c.each(h,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(x,C,w){var z,y,v,A=I;return C=C||i,w=M||w,"string"==typeof x&&A!==a&&(x=x.split(/[\. ]/),z=x.length-1,c.each(x,function(F,E){var D=F!=z?E+x[F+1].charAt(0).toUpperCase()+x[F+1].slice(1):x;if(c.isPlainObject(A[D])&&F!=z){A=A[D]}else{if(A[D]!==a){return y=A[D],!1}if(!c.isPlainObject(A[E])||F==z){return A[E]!==a?(y=A[E],!1):!1}A=A[E]}})),c.isFunction(y)?v=y.apply(w,C):y!==a&&(v=y),c.isArray(g)?g.push(v):g!==a?g=[g,v]:v!==a&&(g=v),y}},s.initialize()}),g!==a?g:this},c.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return !0},onFailure:function(){return !1},metadata:{defaultValue:"default",validate:"validate"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(e){var f='<ul class="list">';return c.each(e,function(h,g){f+="<li>"+g+"</li>"}),f+="</ul>",c(f)},prompt:function(e){return c("<div/>").addClass("ui basic red pointing prompt label").html(e[0])}},rules:{empty:function(e){return !(e===a||""===e||c.isArray(e)&&0===e.length)},checked:function(){return c(this).filter(":checked").length>0},email:function(e){return c.fn.form.settings.regExp.email.test(e)},url:function(e){return c.fn.form.settings.regExp.url.test(e)},regExp:function(f,h){if(h instanceof RegExp){return f.match(h)}var e,g=h.match(c.fn.form.settings.regExp.flags);return g&&(h=g.length>=2?g[1]:h,e=g.length>=3?g[2]:""),f.match(new RegExp(h,e))},integer:function(f,j){var i,e,h,g=c.fn.form.settings.regExp.integer;return j&&-1===["",".."].indexOf(j)&&(-1==j.indexOf("..")?g.test(j)&&(i=e=j-0):(h=j.split("..",2),g.test(h[0])&&(i=h[0]-0),g.test(h[1])&&(e=h[1]-0))),g.test(f)&&(i===a||f>=i)&&(e===a||e>=f)},decimal:function(e){return c.fn.form.settings.regExp.decimal.test(e)},number:function(e){return c.fn.form.settings.regExp.number.test(e)},is:function(g,f){return f="string"==typeof f?f.toLowerCase():f,g="string"==typeof g?g.toLowerCase():g,g==f},isExactly:function(g,f){return g==f},not:function(g,f){return g="string"==typeof g?g.toLowerCase():g,f="string"==typeof f?f.toLowerCase():f,g!=f},notExactly:function(g,f){return g!=f},contains:function(e,f){return f=f.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(f,"i"))},containsExactly:function(e,f){return f=f.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(f))},doesntContain:function(e,f){return f=f.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(f,"i"))},doesntContainExactly:function(e,f){return f=f.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(f))},minLength:function(g,f){return g!==a?g.length>=f:!1},length:function(g,f){return g!==a?g.length>=f:!1},exactLength:function(g,f){return g!==a?g.length==f:!1},maxLength:function(g,f){return g!==a?g.length<=f:!1},match:function(e,g){var f;c(this);return c('[data-validate="'+g+'"]').length>0?f=c('[data-validate="'+g+'"]').val():c("#"+g).length>0?f=c("#"+g).val():c('[name="'+g+'"]').length>0?f=c('[name="'+g+'"]').val():c('[name="'+g+'[]"]').length>0&&(f=c('[name="'+g+'[]"]')),f!==a?e.toString()==f.toString():!1},different:function(e,g){var f;c(this);return c('[data-validate="'+g+'"]').length>0?f=c('[data-validate="'+g+'"]').val():c("#"+g).length>0?f=c("#"+g).val():c('[name="'+g+'"]').length>0?f=c('[name="'+g+'"]').val():c('[name="'+g+'[]"]').length>0&&(f=c('[name="'+g+'[]"]')),f!==a?e.toString()!==f.toString():!1},creditCard:function(x,h){var k,g,v={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},e={},y=!1,j="string"==typeof h?h.split(","):!1;if("string"==typeof x&&0!==x.length){if(x=x.replace(/[\-]/g,""),j&&(c.each(j,function(l,f){g=v[f],g&&(e={length:-1!==c.inArray(x.length,g.length),pattern:-1!==x.search(g.pattern)},e.length&&e.pattern&&(y=!0))}),!y)){return !1}if(k={number:-1!==c.inArray(x.length,v.unionPay.length),pattern:-1!==x.search(v.unionPay.pattern)},k.number&&k.pattern){return !0}for(var q=x.length,w=0,p=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],m=0;q--;){m+=p[w][parseInt(x.charAt(q),10)],w^=1}return m%10===0&&m>0}},minCount:function(g,f){return 0==f?!0:1==f?""!==g:g.split(",").length>=f},exactCount:function(g,f){return 0==f?""===g:1==f?""!==g&&-1===g.search(","):g.split(",").length==f},maxCount:function(g,f){return 0==f?!1:1==f?-1===g.search(","):g.split(",").length<=f}}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.accordion=function(m){var j,f=c(this),i=(new Date).getTime(),h=[],e=arguments[0],k="string"==typeof e,g=[].slice.call(arguments,1);b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(l){setTimeout(l,0)};return f.each(function(){var A,z,o=c.isPlainObject(m)?c.extend(!0,{},c.fn.accordion.settings,m):c.extend({},c.fn.accordion.settings),u=o.className,n=o.namespace,t=o.selector,G=o.error,D="."+n,B="module-"+n,E=f.selector||"",l=c(this),F=l.find(t.title),r=l.find(t.content),s=this,q=l.data(B);z={initialize:function(){z.debug("Initializing",l),z.bind.events(),o.observeChanges&&z.observeChanges(),z.instantiate()},instantiate:function(){q=z,l.data(B,z)},destroy:function(){z.debug("Destroying previous instance",l),l.off(D).removeData(B)},refresh:function(){F=l.find(t.title),r=l.find(t.content)},observeChanges:function(){"MutationObserver" in b&&(A=new MutationObserver(function(p){z.debug("DOM tree modified, updating selector cache"),z.refresh()}),A.observe(s,{childList:!0,subtree:!0}),z.debug("Setting up mutation observer",A))},bind:{events:function(){z.debug("Binding delegated events"),l.on(o.on+D,t.trigger,z.event.click)}},event:{click:function(){z.toggle.call(this)}},toggle:function(w){var H=w!==a?"number"==typeof w?F.eq(w):c(w).closest(t.title):c(this).closest(t.title),C=H.next(r),v=C.hasClass(u.animating),y=C.hasClass(u.active),x=y&&!v,p=!y&&v;z.debug("Toggling visibility of content",H),x||p?o.collapsible?z.close.call(H):z.debug("Cannot close accordion content collapsing is disabled"):z.open.call(H)},open:function(v){var C=v!==a?"number"==typeof v?F.eq(v):c(v).closest(t.title):c(this).closest(t.title),y=C.next(r),p=y.hasClass(u.animating),x=y.hasClass(u.active),w=x||p;return w?void z.debug("Accordion already open, skipping",y):(z.debug("Opening accordion content",C),o.onOpening.call(y),o.exclusive&&z.closeOthers.call(C),C.addClass(u.active),y.stop(!0,!0).addClass(u.animating),o.animateChildren&&(c.fn.transition!==a&&l.transition("is supported")?y.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:o.debug,verbose:o.verbose,duration:o.duration}):y.children().stop(!0,!0).animate({opacity:1},o.duration,z.resetOpacity)),void y.slideDown(o.duration,o.easing,function(){y.removeClass(u.animating).addClass(u.active),z.reset.display.call(this),o.onOpen.call(this),o.onChange.call(this)}))},close:function(w){var H=w!==a?"number"==typeof w?F.eq(w):c(w).closest(t.title):c(this).closest(t.title),C=H.next(r),v=C.hasClass(u.animating),y=C.hasClass(u.active),x=!y&&v,p=y&&v;!y&&!x||p||(z.debug("Closing accordion content",C),o.onClosing.call(C),H.removeClass(u.active),C.stop(!0,!0).addClass(u.animating),o.animateChildren&&(c.fn.transition!==a&&l.transition("is supported")?C.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:o.debug,verbose:o.verbose,duration:o.duration}):C.children().stop(!0,!0).animate({opacity:0},o.duration,z.resetOpacity)),C.slideUp(o.duration,o.easing,function(){C.removeClass(u.animating).removeClass(u.active),z.reset.display.call(this),o.onClose.call(this),o.onChange.call(this)}))},closeOthers:function(I){var w,v,C,p=I!==a?F.eq(I):c(this).closest(t.title),J=p.parents(t.content).prev(t.title),x=p.closest(t.accordion),y=t.title+"."+u.active+":visible",H=t.content+"."+u.active+":visible";o.closeNested?(w=x.find(y).not(J),C=w.next(r)):(w=x.find(y).not(J),v=x.find(H).find(y).not(J),w=w.not(v),C=w.next(r)),w.length>0&&(z.debug("Exclusive enabled, closing other content",w),w.removeClass(u.active),C.removeClass(u.animating).stop(!0,!0),o.animateChildren&&(c.fn.transition!==a&&l.transition("is supported")?C.children().transition({animation:"fade out",useFailSafe:!0,debug:o.debug,verbose:o.verbose,duration:o.duration}):C.children().stop(!0,!0).animate({opacity:0},o.duration,z.resetOpacity)),C.slideUp(o.duration,o.easing,function(){c(this).removeClass(u.active),z.reset.display.call(this)}))},reset:{display:function(){z.verbose("Removing inline display from element",this),c(this).css("display",""),""===c(this).attr("style")&&c(this).attr("style","").removeAttr("style")},opacity:function(){z.verbose("Removing inline opacity from element",this),c(this).css("opacity",""),""===c(this).attr("style")&&c(this).attr("style","").removeAttr("style")}},setting:function(p,v){if(z.debug("Changing setting",p,v),c.isPlainObject(p)){c.extend(!0,o,p)}else{if(v===a){return o[p]}c.isPlainObject(o[p])?c.extend(!0,o[p],v):o[p]=v}},internal:function(p,v){return z.debug("Changing internal",p,v),v===a?z[p]:void (c.isPlainObject(p)?c.extend(!0,z,p):z[p]=v)},debug:function(){!o.silent&&o.debug&&(o.performance?z.performance.log(arguments):(z.debug=Function.prototype.bind.call(console.info,console,o.name+":"),z.debug.apply(console,arguments)))},verbose:function(){!o.silent&&o.verbose&&o.debug&&(o.performance?z.performance.log(arguments):(z.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),z.verbose.apply(console,arguments)))},error:function(){o.silent||(z.error=Function.prototype.bind.call(console.error,console,o.name+":"),z.error.apply(console,arguments))},performance:{log:function(w){var v,x,p;o.performance&&(v=(new Date).getTime(),p=i||v,x=v-p,i=v,h.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:s,"Execution Time":x})),clearTimeout(z.performance.timer),z.performance.timer=setTimeout(z.performance.display,500)},display:function(){var p=o.name+":",v=0;i=!1,clearTimeout(z.performance.timer),c.each(h,function(x,w){v+=w["Execution Time"]}),p+=" "+v+"ms",E&&(p+=" '"+E+"'"),(console.group!==a||console.table!==a)&&h.length>0&&(console.groupCollapsed(p),console.table?console.table(h):c.each(h,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(w,H,v){var y,x,p,C=q;return H=H||g,v=s||v,"string"==typeof w&&C!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(K,J){var I=K!=y?J+w[K+1].charAt(0).toUpperCase()+w[K+1].slice(1):w;if(c.isPlainObject(C[I])&&K!=y){C=C[I]}else{if(C[I]!==a){return x=C[I],!1}if(!c.isPlainObject(C[J])||K==y){return C[J]!==a?(x=C[J],!1):(z.error(G.method,w),!1)}C=C[J]}})),c.isFunction(x)?p=x.apply(v,H):x!==a&&(p=x),c.isArray(j)?j.push(p):j!==a?j=[j,p]:p!==a&&(j=p),x}},k?(q===a&&z.initialize(),z.invoke(e)):(q!==a&&q.invoke("destroy"),z.initialize())}),j!==a?j:this},c.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},c.extend(c.easing,{easeOutQuad:function(h,g,k,f,j){return -f*(g/=j)*(g-2)+k}})}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.checkbox=function(g){var m,e=c(this),p=e.selector||"",h=(new Date).getTime(),k=[],n=arguments[0],j="string"==typeof n,i=[].slice.call(arguments,1);return e.each(function(){var f,s,F=c.extend(!0,{},c.fn.checkbox.settings,g),o=F.className,D=F.namespace,K=F.selector,H=F.error,G="."+D,I="module-"+D,l=c(this),J=c(this).children(K.label),u=c(this).children(K.input),z=u[0],t=!1,q=!1,B=l.data(I),E=this;s={initialize:function(){s.verbose("Initializing checkbox",F),s.create.label(),s.bind.events(),s.set.tabbable(),s.hide.input(),s.observeChanges(),s.instantiate(),s.setup()},instantiate:function(){s.verbose("Storing instance of module",s),B=s,l.data(I,s)},destroy:function(){s.verbose("Destroying module"),s.unbind.events(),s.show.input(),l.removeData(I)},fix:{reference:function(){l.is(K.input)&&(s.debug("Behavior called on <input> adjusting invoked element"),l=l.closest(K.checkbox),s.refresh())}},setup:function(){s.set.initialLoad(),s.is.indeterminate()?(s.debug("Initial value is indeterminate"),s.indeterminate()):s.is.checked()?(s.debug("Initial value is checked"),s.check()):(s.debug("Initial value is unchecked"),s.uncheck()),s.remove.initialLoad()},refresh:function(){J=l.children(K.label),u=l.children(K.input),z=u[0]},hide:{input:function(){s.verbose("Modifying <input> z-index to be unselectable"),u.addClass(o.hidden)}},show:{input:function(){s.verbose("Modifying <input> z-index to be selectable"),u.removeClass(o.hidden)}},observeChanges:function(){"MutationObserver" in b&&(f=new MutationObserver(function(r){s.debug("DOM tree modified, updating selector cache"),s.refresh()}),f.observe(E,{childList:!0,subtree:!0}),s.debug("Setting up mutation observer",f))},attachEvents:function(v,w){var r=c(v);w=c.isFunction(s[w])?s[w]:s.toggle,r.length>0?(s.debug("Attaching checkbox events to element",v,w),r.on("click"+G,w)):s.error(H.notFound)},event:{click:function(r){var v=c(r.target);return v.is(K.input)?void s.verbose("Using default check action on initialized checkbox"):v.is(K.link)?void s.debug("Clicking link inside checkbox, skipping toggle"):(s.toggle(),u.focus(),void r.preventDefault())},keydown:function(v){var r=v.which,w={enter:13,space:32,escape:27};r==w.escape?(s.verbose("Escape key pressed blurring field"),u.blur(),q=!0):v.ctrlKey||r!=w.space&&r!=w.enter?q=!1:(s.verbose("Enter/space key pressed, toggling checkbox"),s.toggle(),q=!0)},keyup:function(r){q&&r.preventDefault()}},check:function(){s.should.allowCheck()&&(s.debug("Checking checkbox",u),s.set.checked(),s.should.ignoreCallbacks()||(F.onChecked.call(z),F.onChange.call(z)))},uncheck:function(){s.should.allowUncheck()&&(s.debug("Unchecking checkbox"),s.set.unchecked(),s.should.ignoreCallbacks()||(F.onUnchecked.call(z),F.onChange.call(z)))},indeterminate:function(){return s.should.allowIndeterminate()?void s.debug("Checkbox is already indeterminate"):(s.debug("Making checkbox indeterminate"),s.set.indeterminate(),void (s.should.ignoreCallbacks()||(F.onIndeterminate.call(z),F.onChange.call(z))))},determinate:function(){return s.should.allowDeterminate()?void s.debug("Checkbox is already determinate"):(s.debug("Making checkbox determinate"),s.set.determinate(),void (s.should.ignoreCallbacks()||(F.onDeterminate.call(z),F.onChange.call(z))))},enable:function(){return s.is.enabled()?void s.debug("Checkbox is already enabled"):(s.debug("Enabling checkbox"),s.set.enabled(),F.onEnable.call(z),void F.onEnabled.call(z))},disable:function(){return s.is.disabled()?void s.debug("Checkbox is already disabled"):(s.debug("Disabling checkbox"),s.set.disabled(),F.onDisable.call(z),void F.onDisabled.call(z))},get:{radios:function(){var r=s.get.name();return c('input[name="'+r+'"]').closest(K.checkbox)},otherRadios:function(){return s.get.radios().not(l)},name:function(){return u.attr("name")}},is:{initialLoad:function(){return t},radio:function(){return u.hasClass(o.radio)||"radio"==u.attr("type")},indeterminate:function(){return u.prop("indeterminate")!==a&&u.prop("indeterminate")},checked:function(){return u.prop("checked")!==a&&u.prop("checked")},disabled:function(){return u.prop("disabled")!==a&&u.prop("disabled")},enabled:function(){return !s.is.disabled()},determinate:function(){return !s.is.indeterminate()},unchecked:function(){return !s.is.checked()}},should:{allowCheck:function(){return s.is.determinate()&&s.is.checked()&&!s.should.forceCallbacks()?(s.debug("Should not allow check, checkbox is already checked"),!1):F.beforeChecked.apply(z)===!1?(s.debug("Should not allow check, beforeChecked cancelled"),!1):!0},allowUncheck:function(){return s.is.determinate()&&s.is.unchecked()&&!s.should.forceCallbacks()?(s.debug("Should not allow uncheck, checkbox is already unchecked"),!1):F.beforeUnchecked.apply(z)===!1?(s.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1):!0},allowIndeterminate:function(){return s.is.indeterminate()&&!s.should.forceCallbacks()?(s.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):F.beforeIndeterminate.apply(z)===!1?(s.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1):!0},allowDeterminate:function(){return s.is.determinate()&&!s.should.forceCallbacks()?(s.debug("Should not allow determinate, checkbox is already determinate"),!1):F.beforeDeterminate.apply(z)===!1?(s.debug("Should not allow determinate, beforeDeterminate cancelled"),!1):!0},forceCallbacks:function(){return s.is.initialLoad()&&F.fireOnInit},ignoreCallbacks:function(){return t&&!F.fireOnInit}},can:{change:function(){return !(l.hasClass(o.disabled)||l.hasClass(o.readOnly)||u.prop("disabled")||u.prop("readonly"))},uncheck:function(){return"boolean"==typeof F.uncheckable?F.uncheckable:!s.is.radio()}},set:{initialLoad:function(){t=!0},checked:function(){return s.verbose("Setting class to checked"),l.removeClass(o.indeterminate).addClass(o.checked),s.is.radio()&&s.uncheckOthers(),!s.is.indeterminate()&&s.is.checked()?void s.debug("Input is already checked, skipping input property change"):(s.verbose("Setting state to checked",z),u.prop("indeterminate",!1).prop("checked",!0),void s.trigger.change())},unchecked:function(){return s.verbose("Removing checked class"),l.removeClass(o.indeterminate).removeClass(o.checked),!s.is.indeterminate()&&s.is.unchecked()?void s.debug("Input is already unchecked"):(s.debug("Setting state to unchecked"),u.prop("indeterminate",!1).prop("checked",!1),void s.trigger.change())},indeterminate:function(){return s.verbose("Setting class to indeterminate"),l.addClass(o.indeterminate),s.is.indeterminate()?void s.debug("Input is already indeterminate, skipping input property change"):(s.debug("Setting state to indeterminate"),u.prop("indeterminate",!0),void s.trigger.change())},determinate:function(){return s.verbose("Removing indeterminate class"),l.removeClass(o.indeterminate),s.is.determinate()?void s.debug("Input is already determinate, skipping input property change"):(s.debug("Setting state to determinate"),void u.prop("indeterminate",!1))},disabled:function(){return s.verbose("Setting class to disabled"),l.addClass(o.disabled),s.is.disabled()?void s.debug("Input is already disabled, skipping input property change"):(s.debug("Setting state to disabled"),u.prop("disabled","disabled"),void s.trigger.change())},enabled:function(){return s.verbose("Removing disabled class"),l.removeClass(o.disabled),s.is.enabled()?void s.debug("Input is already enabled, skipping input property change"):(s.debug("Setting state to enabled"),u.prop("disabled",!1),void s.trigger.change())},tabbable:function(){s.verbose("Adding tabindex to checkbox"),u.attr("tabindex")===a&&u.attr("tabindex",0)}},remove:{initialLoad:function(){t=!1}},trigger:{change:function(){var v=d.createEvent("HTMLEvents"),r=u[0];r&&(s.verbose("Triggering native change event"),v.initEvent("change",!0,!1),r.dispatchEvent(v))}},create:{label:function(){u.prevAll(K.label).length>0?(u.prev(K.label).detach().insertAfter(u),s.debug("Moving existing label",J)):s.has.label()||(J=c("<label>").insertAfter(u),s.debug("Creating label",J))}},has:{label:function(){return J.length>0}},bind:{events:function(){s.verbose("Attaching checkbox events"),l.on("click"+G,s.event.click).on("keydown"+G,K.input,s.event.keydown).on("keyup"+G,K.input,s.event.keyup)}},unbind:{events:function(){s.debug("Removing events"),l.off(G)}},uncheckOthers:function(){var r=s.get.otherRadios();s.debug("Unchecking other radios",r),r.removeClass(o.checked)},toggle:function(){return s.can.change()?void (s.is.indeterminate()||s.is.unchecked()?(s.debug("Currently unchecked"),s.check()):s.is.checked()&&s.can.uncheck()&&(s.debug("Currently checked"),s.uncheck())):void (s.is.radio()||s.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(r,v){if(s.debug("Changing setting",r,v),c.isPlainObject(r)){c.extend(!0,F,r)}else{if(v===a){return F[r]}c.isPlainObject(F[r])?c.extend(!0,F[r],v):F[r]=v}},internal:function(r,v){if(c.isPlainObject(r)){c.extend(!0,s,r)}else{if(v===a){return s[r]}s[r]=v}},debug:function(){!F.silent&&F.debug&&(F.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,F.name+":"),s.debug.apply(console,arguments)))},verbose:function(){!F.silent&&F.verbose&&F.debug&&(F.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,F.name+":"),s.verbose.apply(console,arguments)))},error:function(){F.silent||(s.error=Function.prototype.bind.call(console.error,console,F.name+":"),s.error.apply(console,arguments))},performance:{log:function(w){var v,x,r;F.performance&&(v=(new Date).getTime(),r=h||v,x=v-r,h=v,k.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:E,"Execution Time":x})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var r=F.name+":",v=0;h=!1,clearTimeout(s.performance.timer),c.each(k,function(x,w){v+=w["Execution Time"]}),r+=" "+v+"ms",p&&(r+=" '"+p+"'"),(console.group!==a||console.table!==a)&&k.length>0&&(console.groupCollapsed(r),console.table?console.table(k):c.each(k,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(w,L,A){var y,x,v,C=B;return L=L||i,A=E||A,"string"==typeof w&&C!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(N,M){var r=N!=y?M+w[N+1].charAt(0).toUpperCase()+w[N+1].slice(1):w;if(c.isPlainObject(C[r])&&N!=y){C=C[r]}else{if(C[r]!==a){return x=C[r],!1}if(!c.isPlainObject(C[M])||N==y){return C[M]!==a?(x=C[M],!1):(s.error(H.method,w),!1)}C=C[M]}})),c.isFunction(x)?v=x.apply(A,L):x!==a&&(v=x),c.isArray(m)?m.push(v):m!==a?m=[m,v]:v!==a&&(m=v),x}},j?(B===a&&s.initialize(),s.invoke(n)):(B!==a&&B.invoke("destroy"),s.initialize())}),m!==a?m:this},c.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.dimmer=function(h){var k,f=c(this),j=(new Date).getTime(),i=[],e=arguments[0],m="string"==typeof e,g=[].slice.call(arguments,1);return f.each(function(){var A,z,o,u=c.isPlainObject(h)?c.extend(!0,{},c.fn.dimmer.settings,h):c.extend({},c.fn.dimmer.settings),n=u.selector,t=u.namespace,G=u.className,D=u.error,B="."+t,E="module-"+t,l=f.selector||"",F="ontouchstart" in d.documentElement?"touchstart":"click",r=c(this),s=this,q=r.data(E);o={preinitialize:function(){o.is.dimmer()?(z=r.parent(),A=r):(z=r,A=o.has.dimmer()?u.dimmerName?z.find(n.dimmer).filter("."+u.dimmerName):z.find(n.dimmer):o.create(),o.set.variation())},initialize:function(){o.debug("Initializing dimmer",u),o.bind.events(),o.set.dimmable(),o.instantiate()},instantiate:function(){o.verbose("Storing instance of module",o),q=o,r.data(E,q)},destroy:function(){o.verbose("Destroying previous module",A),o.unbind.events(),o.remove.variation(),z.off(B)},bind:{events:function(){"hover"==u.on?z.on("mouseenter"+B,o.show).on("mouseleave"+B,o.hide):"click"==u.on&&z.on(F+B,o.toggle),o.is.page()&&(o.debug("Setting as a page dimmer",z),o.set.pageDimmer()),o.is.closable()&&(o.verbose("Adding dimmer close event",A),z.on(F+B,n.dimmer,o.event.click))}},unbind:{events:function(){r.removeData(E),z.off(B)}},event:{click:function(p){o.verbose("Determining if event occured on dimmer",p),(0===A.find(p.target).length||c(p.target).is(n.content))&&(o.hide(),p.stopImmediatePropagation())}},addContent:function(p){var v=c(p);o.debug("Add content to dimmer",v),v.parent()[0]!==A[0]&&v.detach().appendTo(A)},create:function(){var p=c(u.template.dimmer());return u.dimmerName&&(o.debug("Creating named dimmer",u.dimmerName),p.addClass(u.dimmerName)),p.appendTo(z),p},show:function(p){p=c.isFunction(p)?p:function(){},o.debug("Showing dimmer",A,u),o.is.dimmed()&&!o.is.animating()||!o.is.enabled()?o.debug("Dimmer is already shown or disabled"):(o.animate.show(p),u.onShow.call(s),u.onChange.call(s))},hide:function(p){p=c.isFunction(p)?p:function(){},o.is.dimmed()||o.is.animating()?(o.debug("Hiding dimmer",A),o.animate.hide(p),u.onHide.call(s),u.onChange.call(s)):o.debug("Dimmer is not visible")},toggle:function(){o.verbose("Toggling dimmer visibility",A),o.is.dimmed()?o.hide():o.show()},animate:{show:function(p){p=c.isFunction(p)?p:function(){},u.useCSS&&c.fn.transition!==a&&A.transition("is supported")?("auto"!==u.opacity&&o.set.opacity(),A.transition({animation:u.transition+" in",queue:!1,duration:o.get.duration(),useFailSafe:!0,onStart:function(){o.set.dimmed()},onComplete:function(){o.set.active(),p()}})):(o.verbose("Showing dimmer animation with javascript"),o.set.dimmed(),"auto"==u.opacity&&(u.opacity=0.8),A.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(o.get.duration(),u.opacity,function(){A.removeAttr("style"),o.set.active(),p()}))},hide:function(p){p=c.isFunction(p)?p:function(){},u.useCSS&&c.fn.transition!==a&&A.transition("is supported")?(o.verbose("Hiding dimmer with css"),A.transition({animation:u.transition+" out",queue:!1,duration:o.get.duration(),useFailSafe:!0,onStart:function(){o.remove.dimmed()},onComplete:function(){o.remove.active(),p()}})):(o.verbose("Hiding dimmer with javascript"),o.remove.dimmed(),A.stop().fadeOut(o.get.duration(),function(){o.remove.active(),A.removeAttr("style"),p()}))}},get:{dimmer:function(){return A},duration:function(){return"object"==typeof u.duration?o.is.active()?u.duration.hide:u.duration.show:u.duration}},has:{dimmer:function(){return u.dimmerName?r.find(n.dimmer).filter("."+u.dimmerName).length>0:r.find(n.dimmer).length>0}},is:{active:function(){return A.hasClass(G.active)},animating:function(){return A.is(":animated")||A.hasClass(G.animating)},closable:function(){return"auto"==u.closable?"hover"!=u.on:u.closable},dimmer:function(){return r.hasClass(G.dimmer)},dimmable:function(){return r.hasClass(G.dimmable)},dimmed:function(){return z.hasClass(G.dimmed)},disabled:function(){return z.hasClass(G.disabled)},enabled:function(){return !o.is.disabled()},page:function(){return z.is("body")},pageDimmer:function(){return A.hasClass(G.pageDimmer)}},can:{show:function(){return !A.hasClass(G.disabled)}},set:{opacity:function(w){var v=A.css("background-color"),y=v.split(","),p=y&&3==y.length,x=y&&4==y.length;w=0===u.opacity?0:u.opacity||w,p||x?(y[3]=w+")",v=y.join(",")):v="rgba(0, 0, 0, "+w+")",o.debug("Setting opacity to",w),A.css("background-color",v)},active:function(){A.addClass(G.active)},dimmable:function(){z.addClass(G.dimmable)},dimmed:function(){z.addClass(G.dimmed)},pageDimmer:function(){A.addClass(G.pageDimmer)},disabled:function(){A.addClass(G.disabled)},variation:function(p){p=p||u.variation,p&&A.addClass(p)}},remove:{active:function(){A.removeClass(G.active)},dimmed:function(){z.removeClass(G.dimmed)},disabled:function(){A.removeClass(G.disabled)},variation:function(p){p=p||u.variation,p&&A.removeClass(p)}},setting:function(p,v){if(o.debug("Changing setting",p,v),c.isPlainObject(p)){c.extend(!0,u,p)}else{if(v===a){return u[p]}c.isPlainObject(u[p])?c.extend(!0,u[p],v):u[p]=v}},internal:function(p,v){if(c.isPlainObject(p)){c.extend(!0,o,p)}else{if(v===a){return o[p]}o[p]=v}},debug:function(){!u.silent&&u.debug&&(u.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,u.name+":"),o.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),o.verbose.apply(console,arguments)))},error:function(){u.silent||(o.error=Function.prototype.bind.call(console.error,console,u.name+":"),o.error.apply(console,arguments))},performance:{log:function(w){var v,x,p;u.performance&&(v=(new Date).getTime(),p=j||v,x=v-p,j=v,i.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:s,"Execution Time":x})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var p=u.name+":",v=0;j=!1,clearTimeout(o.performance.timer),c.each(i,function(x,w){v+=w["Execution Time"]}),p+=" "+v+"ms",l&&(p+=" '"+l+"'"),f.length>1&&(p+=" ("+f.length+")"),(console.group!==a||console.table!==a)&&i.length>0&&(console.groupCollapsed(p),console.table?console.table(i):c.each(i,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(w,H,v){var y,x,p,C=q;return H=H||g,v=s||v,"string"==typeof w&&C!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(K,J){var I=K!=y?J+w[K+1].charAt(0).toUpperCase()+w[K+1].slice(1):w;if(c.isPlainObject(C[I])&&K!=y){C=C[I]}else{if(C[I]!==a){return x=C[I],!1}if(!c.isPlainObject(C[J])||K==y){return C[J]!==a?(x=C[J],!1):(o.error(D.method,w),!1)}C=C[J]}})),c.isFunction(x)?p=x.apply(v,H):x!==a&&(p=x),c.isArray(k)?k.push(p):k!==a?k=[k,p]:p!==a&&(k=p),x}},o.preinitialize(),m?(q===a&&o.initialize(),o.invoke(e)):(q!==a&&q.invoke("destroy"),o.initialize())}),k!==a?k:this},c.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return c("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.dropdown=function(h){var t,e=c(this),w=c(d),j=e.selector||"",q="ontouchstart" in d.documentElement,v=(new Date).getTime(),p=[],n=arguments[0],i="string"==typeof n,k=[].slice.call(arguments,1);return e.each(function(ay){var aB,aw,aC,at,au,an,av,az,u=c.isPlainObject(h)?c.extend(!0,{},c.fn.dropdown.settings,h):c.extend({},c.fn.dropdown.settings),s=u.className,ap=u.message,G=u.fields,ab=u.keys,al=u.metadata,ak=u.namespace,ac=u.regExp,am=u.selector,ax=u.error,aA=u.templates,ar="."+ak,ai="module-"+ak,ae=c(this),af=c(u.context),ad=ae.find(am.text),o=ae.find(am.search),aj=ae.find(am.sizer),r=ae.find(am.input),m=ae.find(am.icon),ao=ae.prev().find(am.text).length>0?ae.prev().find(am.text):ae.prev(),aa=ae.children(am.menu),l=aa.find(am.item),aq=!1,g=!1,f=!1,ag=this,ah=ae.data(ai);az={initialize:function(){az.debug("Initializing dropdown",u),az.is.alreadySetup()?az.setup.reference():(az.setup.layout(),az.refreshData(),az.save.defaults(),az.restore.selected(),az.create.id(),az.bind.events(),az.observeChanges(),az.instantiate())},instantiate:function(){az.verbose("Storing instance of dropdown",az),ah=az,ae.data(ai,az)},destroy:function(){az.verbose("Destroying previous dropdown",ae),az.remove.tabbable(),ae.off(ar).removeData(ai),aa.off(ar),w.off(at),az.disconnect.menuObserver(),az.disconnect.selectObserver()},observeChanges:function(){"MutationObserver" in b&&(an=new MutationObserver(az.event.select.mutation),av=new MutationObserver(az.event.menu.mutation),az.debug("Setting up mutation observer",an,av),az.observe.select(),az.observe.menu())},disconnect:{menuObserver:function(){av&&av.disconnect()},selectObserver:function(){an&&an.disconnect()}},observe:{select:function(){az.has.input()&&an.observe(r[0],{childList:!0,subtree:!0})},menu:function(){az.has.menu()&&av.observe(aa[0],{childList:!0,subtree:!0})}},create:{id:function(){au=(Math.random().toString(16)+"000000000").substr(2,8),at="."+au,az.verbose("Creating unique id for element",au)},userChoice:function(y){var A,z,x;return(y=y||az.get.userValues())?(y=c.isArray(y)?y:[y],c.each(y,function(B,C){az.get.item(C)===!1&&(x=u.templates.addition(az.add.variables(ap.addResult,C)),z=c("<div />").html(x).attr("data-"+al.value,C).attr("data-"+al.text,C).addClass(s.addition).addClass(s.item),u.hideAdditions&&z.addClass(s.hidden),A=A===a?z:A.add(z),az.verbose("Creating user choices for value",C,z))}),A):!1},userLabels:function(x){var y=az.get.userValues();y&&(az.debug("Adding user labels",y),c.each(y,function(A,z){az.verbose("Adding custom user value"),az.add.label(z,z)}))},menu:function(){aa=c("<div />").addClass(s.menu).appendTo(ae)},sizer:function(){aj=c("<span />").addClass(s.sizer).insertAfter(o)}},search:function(x){x=x!==a?x:az.get.query(),az.verbose("Searching for query",x),az.has.minCharacters(x)?az.filter(x):az.hide()},select:{firstUnfiltered:function(){az.verbose("Selecting first non-filtered element"),az.remove.selectedItem(),l.not(am.unselectable).not(am.addition+am.hidden).eq(0).addClass(s.selected)},nextAvailable:function(z){z=z.eq(0);var y=z.nextAll(am.item).not(am.unselectable).eq(0),A=z.prevAll(am.item).not(am.unselectable).eq(0),x=y.length>0;x?(az.verbose("Moving selection to",y),y.addClass(s.selected)):(az.verbose("Moving selection to",A),A.addClass(s.selected))}},setup:{api:function(){var x={debug:u.debug,urlData:{value:az.get.value(),query:az.get.query()},on:!1};az.verbose("First request, initializing API"),ae.api(x)},layout:function(){ae.is("select")&&(az.setup.select(),az.setup.returnedObject()),az.has.menu()||az.create.menu(),az.is.search()&&!az.has.search()&&(az.verbose("Adding search input"),o=c("<input />").addClass(s.search).prop("autocomplete","off").insertBefore(ad)),az.is.multiple()&&az.is.searchSelection()&&!az.has.sizer()&&az.create.sizer(),u.allowTab&&az.set.tabbable()},select:function(){var x=az.get.selectValues();az.debug("Dropdown initialized on a select",x),ae.is("select")&&(r=ae),r.parent(am.dropdown).length>0?(az.debug("UI dropdown already exists. Creating dropdown menu only"),ae=r.closest(am.dropdown),az.has.menu()||az.create.menu(),aa=ae.children(am.menu),az.setup.menu(x)):(az.debug("Creating entire dropdown from select"),ae=c("<div />").attr("class",r.attr("class")).addClass(s.selection).addClass(s.dropdown).html(aA.dropdown(x)).insertBefore(r),r.hasClass(s.multiple)&&r.prop("multiple")===!1&&(az.error(ax.missingMultiple),r.prop("multiple",!0)),r.is("[multiple]")&&az.set.multiple(),r.prop("disabled")&&(az.debug("Disabling dropdown"),ae.addClass(s.disabled)),r.removeAttr("class").detach().prependTo(ae)),az.refresh()},menu:function(x){aa.html(aA.menu(x,G)),l=aa.find(am.item)},reference:function(){az.debug("Dropdown behavior was called on select, replacing with closest dropdown"),ae=ae.parent(am.dropdown),az.refresh(),az.setup.returnedObject(),i&&(ah=az,az.invoke(n))},returnedObject:function(){var y=e.slice(0,ay),x=e.slice(ay+1);e=y.add(ae).add(x)}},refresh:function(){az.refreshSelectors(),az.refreshData()},refreshItems:function(){l=aa.find(am.item)},refreshSelectors:function(){az.verbose("Refreshing selector cache"),ad=ae.find(am.text),o=ae.find(am.search),r=ae.find(am.input),m=ae.find(am.icon),ao=ae.prev().find(am.text).length>0?ae.prev().find(am.text):ae.prev(),aa=ae.children(am.menu),l=aa.find(am.item)},refreshData:function(){az.verbose("Refreshing cached metadata"),l.removeData(al.text).removeData(al.value)},clearData:function(){az.verbose("Clearing metadata"),l.removeData(al.text).removeData(al.value),ae.removeData(al.defaultText).removeData(al.defaultValue).removeData(al.placeholderText)},toggle:function(){az.verbose("Toggling menu visibility"),az.is.active()?az.hide():az.show()},show:function(x){if(x=c.isFunction(x)?x:function(){},!az.can.show()&&az.is.remote()&&(az.debug("No API results retrieved, searching before show"),az.queryRemote(az.get.query(),az.show)),az.can.show()&&!az.is.active()){if(az.debug("Showing dropdown"),!az.has.message()||az.has.maxSelections()||az.has.allResultsFiltered()||az.remove.message(),az.is.allFiltered()){return !0}u.onShow.call(ag)!==!1&&az.animate.show(function(){az.can.click()&&az.bind.intent(),az.has.menuSearch()&&az.focusSearch(),az.set.visible(),x.call(ag)})}},hide:function(x){x=c.isFunction(x)?x:function(){},az.is.active()&&(az.debug("Hiding dropdown"),u.onHide.call(ag)!==!1&&az.animate.hide(function(){az.remove.visible(),x.call(ag)}))},hideOthers:function(){az.verbose("Finding other dropdowns to hide"),e.not(ae).has(am.menu+"."+s.visible).dropdown("hide")},hideMenu:function(){az.verbose("Hiding menu  instantaneously"),az.remove.active(),az.remove.visible(),aa.transition("hide")},hideSubMenus:function(){var x=aa.children(am.item).find(am.menu);az.verbose("Hiding sub menus",x),x.transition("hide")},bind:{events:function(){q&&az.bind.touchEvents(),az.bind.keyboardEvents(),az.bind.inputEvents(),az.bind.mouseEvents()},touchEvents:function(){az.debug("Touch device detected binding additional touch events"),az.is.searchSelection()||az.is.single()&&ae.on("touchstart"+ar,az.event.test.toggle),aa.on("touchstart"+ar,am.item,az.event.item.mouseenter)},keyboardEvents:function(){az.verbose("Binding keyboard events"),ae.on("keydown"+ar,az.event.keydown),az.has.search()&&ae.on(az.get.inputEvent()+ar,am.search,az.event.input),az.is.multiple()&&w.on("keydown"+at,az.event.document.keydown)},inputEvents:function(){az.verbose("Binding input change events"),ae.on("change"+ar,am.input,az.event.change)},mouseEvents:function(){az.verbose("Binding mouse events"),az.is.multiple()&&ae.on("click"+ar,am.label,az.event.label.click).on("click"+ar,am.remove,az.event.remove.click),az.is.searchSelection()?(ae.on("mousedown"+ar,az.event.mousedown).on("mouseup"+ar,az.event.mouseup).on("mousedown"+ar,am.menu,az.event.menu.mousedown).on("mouseup"+ar,am.menu,az.event.menu.mouseup).on("click"+ar,am.icon,az.event.icon.click).on("focus"+ar,am.search,az.event.search.focus).on("click"+ar,am.search,az.event.search.focus).on("blur"+ar,am.search,az.event.search.blur).on("click"+ar,am.text,az.event.text.focus),az.is.multiple()&&ae.on("click"+ar,az.event.click)):("click"==u.on?ae.on("click"+ar,am.icon,az.event.icon.click).on("click"+ar,az.event.test.toggle):"hover"==u.on?ae.on("mouseenter"+ar,az.delay.show).on("mouseleave"+ar,az.delay.hide):ae.on(u.on+ar,az.toggle),ae.on("mousedown"+ar,az.event.mousedown).on("mouseup"+ar,az.event.mouseup).on("focus"+ar,az.event.focus),az.has.menuSearch()?ae.on("blur"+ar,am.search,az.event.search.blur):ae.on("blur"+ar,az.event.blur)),aa.on("mouseenter"+ar,am.item,az.event.item.mouseenter).on("mouseleave"+ar,am.item,az.event.item.mouseleave).on("click"+ar,am.item,az.event.item.click)},intent:function(){az.verbose("Binding hide intent event to document"),q&&w.on("touchstart"+at,az.event.test.touch).on("touchmove"+at,az.event.test.touch),w.on("click"+at,az.event.test.hide)}},unbind:{intent:function(){az.verbose("Removing hide intent event from document"),q&&w.off("touchstart"+at).off("touchmove"+at),w.off("click"+at)}},filter:function(y){var x=y!==a?y:az.get.query(),z=function(){az.is.multiple()&&az.filterActive(),az.select.firstUnfiltered(),az.has.allResultsFiltered()?u.onNoResults.call(ag,x)?u.allowAdditions?u.hideAdditions&&(az.verbose("User addition with no menu, setting empty style"),az.set.empty(),az.hideMenu()):(az.verbose("All items filtered, showing message",x),az.add.message(ap.noResults)):(az.verbose("All items filtered, hiding dropdown",x),az.hideMenu()):(az.remove.empty(),az.remove.message()),u.allowAdditions&&az.add.userSuggestion(y),az.is.searchSelection()&&az.can.show()&&az.is.focusedOnSearch()&&az.show()};u.useLabels&&az.has.maxSelections()||(u.apiSettings?az.can.useAPI()?az.queryRemote(x,function(){u.filterRemoteData&&az.filterItems(x),z()}):az.error(ax.noAPI):(az.filterItems(x),z()))},queryRemote:function(y,z){var x={errorDuration:!1,cache:"local",throttle:u.throttle,urlData:{query:y},onError:function(){az.add.message(ap.serverError),z()},onFailure:function(){az.add.message(ap.serverError),z()},onSuccess:function(A){az.remove.message(),az.setup.menu({values:A[G.remoteValues]}),z()}};ae.api("get request")||az.setup.api(),x=c.extend(!0,{},x,u.apiSettings),ae.api("setting",x).api("query")},filterItems:function(y){var B=y!==a?y:az.get.query(),A=null,x=az.escape.string(B),z=new RegExp("^"+x,"igm");az.has.query()&&(A=[],az.verbose("Searching for matching values",B),l.each(function(){var E,D,C=c(this);if("both"==u.match||"text"==u.match){if(E=String(az.get.choiceText(C,!1)),-1!==E.search(z)){return A.push(this),!0}if("exact"===u.fullTextSearch&&az.exactSearch(B,E)){return A.push(this),!0}if(u.fullTextSearch===!0&&az.fuzzySearch(B,E)){return A.push(this),!0}}if("both"==u.match||"value"==u.match){if(D=String(az.get.choiceValue(C,E)),-1!==D.search(z)){return A.push(this),!0}if("exact"===u.fullTextSearch&&az.exactSearch(B,D)){return A.push(this),!0}if(u.fullTextSearch===!0&&az.fuzzySearch(B,D)){return A.push(this),!0}}})),az.debug("Showing only matched items",B),az.remove.filteredItem(),A&&l.not(A).addClass(s.filtered)},fuzzySearch:function(B,z){var D=z.length,y=B.length;if(B=B.toLowerCase(),z=z.toLowerCase(),y>D){return !1}if(y===D){return B===z}B:for(var C=0,x=0;y>C;C++){for(var A=B.charCodeAt(C);D>x;){if(z.charCodeAt(x++)===A){continue B}}return !1}return !0},exactSearch:function(y,x){return y=y.toLowerCase(),x=x.toLowerCase(),x.indexOf(y)>-1},filterActive:function(){u.useLabels&&l.filter("."+s.active).addClass(s.filtered)},focusSearch:function(x){az.has.search()&&!az.is.focusedOnSearch()&&(x?(ae.off("focus"+ar,am.search),o.focus(),ae.on("focus"+ar,am.search,az.event.search.focus)):o.focus())},forceSelection:function(){var z=l.not(s.filtered).filter("."+s.selected).eq(0),y=l.not(s.filtered).filter("."+s.active).eq(0),A=z.length>0?z:y,x=A.length>0;return x&&!az.is.multiple()?(az.debug("Forcing partial selection to selected item",A),void az.event.item.click.call(A,{},!0)):void (u.allowAdditions?(az.set.selected(az.get.query()),az.remove.searchTerm()):az.remove.searchTerm())},event:{change:function(){f||(az.debug("Input changed, updating selection"),az.set.selected())},focus:function(){u.showOnFocus&&!aq&&az.is.hidden()&&!aw&&az.show()},blur:function(x){aw=d.activeElement===this,aq||aw||(az.remove.activeLabel(),az.hide())},mousedown:function(){az.is.searchSelection()?aC=!0:aq=!0},mouseup:function(){az.is.searchSelection()?aC=!1:aq=!1},click:function(x){var y=c(x.target);y.is(ae)&&(az.is.focusedOnSearch()?az.show():az.focusSearch())},search:{focus:function(){aq=!0,az.is.multiple()&&az.remove.activeLabel(),u.showOnFocus&&az.search()},blur:function(x){aw=d.activeElement===this,az.is.searchSelection()&&!aC&&(g||aw||(u.forceSelection&&az.forceSelection(),az.hide())),aC=!1}},icon:{click:function(x){az.toggle()}},text:{focus:function(x){aq=!0,az.focusSearch()}},input:function(x){(az.is.multiple()||az.is.searchSelection())&&az.set.filtered(),clearTimeout(az.timer),az.timer=setTimeout(az.search,u.delay.search)},label:{click:function(z){var D=c(this),y=ae.find(am.label),C=y.filter("."+s.active),x=D.nextAll("."+s.active),B=D.prevAll("."+s.active),A=x.length>0?D.nextUntil(x).add(C).add(D):D.prevUntil(B).add(C).add(D);z.shiftKey?(C.removeClass(s.active),A.addClass(s.active)):z.ctrlKey?D.toggleClass(s.active):(C.removeClass(s.active),D.addClass(s.active)),u.onLabelSelect.apply(this,y.filter("."+s.active))}},remove:{click:function(){var x=c(this).parent();x.hasClass(s.active)?az.remove.activeLabels():az.remove.activeLabels(x)}},test:{toggle:function(y){var x=az.is.multiple()?az.show:az.toggle;az.is.bubbledLabelClick(y)||az.is.bubbledIconClick(y)||az.determine.eventOnElement(y,x)&&y.preventDefault()},touch:function(x){az.determine.eventOnElement(x,function(){"touchstart"==x.type?az.timer=setTimeout(function(){az.hide()},u.delay.touch):"touchmove"==x.type&&clearTimeout(az.timer)}),x.stopPropagation()},hide:function(x){az.determine.eventInModule(x,az.hide)}},select:{mutation:function(x){az.debug("<select> modified, recreating menu"),az.setup.select()}},menu:{mutation:function(z){var D=z[0],y=c(D.addedNodes?D.addedNodes[0]:!1),C=c(D.removedNodes?D.removedNodes[0]:!1),x=y.add(C),B=x.is(am.addition)||x.closest(am.addition).length>0,A=x.is(am.message)||x.closest(am.message).length>0;B||A?(az.debug("Updating item selector cache"),az.refreshItems()):(az.debug("Menu modified, updating selector cache"),az.refresh())},mousedown:function(){g=!0},mouseup:function(){g=!1}},item:{mouseenter:function(z){var D=c(z.target),y=c(this),C=y.children(am.menu),x=y.siblings(am.item).children(am.menu),B=C.length>0,A=C.find(D).length>0;!A&&B&&(clearTimeout(az.itemTimer),az.itemTimer=setTimeout(function(){az.verbose("Showing sub-menu",C),c.each(x,function(){az.animate.hide(!1,c(this))}),az.animate.show(!1,C)},u.delay.show),z.preventDefault())},mouseleave:function(x){var y=c(this).children(am.menu);y.length>0&&(clearTimeout(az.itemTimer),az.itemTimer=setTimeout(function(){az.verbose("Hiding sub-menu",y),az.animate.hide(!1,y)},u.delay.hide))},click:function(E,A){var y=c(this),C=c(E?E.target:""),x=y.find(am.menu),F=az.get.choiceText(y),z=az.get.choiceValue(y,F),B=x.length>0,D=x.find(C).length>0;az.has.menuSearch()&&c(d.activeElement).blur(),D||B&&!u.allowCategorySelection||(az.is.searchSelection()&&(u.allowAdditions&&az.remove.userAddition(),az.remove.searchTerm(),az.is.focusedOnSearch()||1==A||az.focusSearch(!0)),u.useLabels||(az.remove.filteredItem(),az.set.scrollPosition(y)),az.determine.selectAction.call(this,F,z))}},document:{keydown:function(F){var L=F.which,z=az.is.inObject(L,ab);if(z){var C=ae.find(am.label),y=C.filter("."+s.active),J=(y.data(al.value),C.index(y)),x=C.length,M=y.length>0,B=y.length>1,I=0===J,K=J+1==x,H=az.is.searchSelection(),E=az.is.focusedOnSearch(),A=az.is.focused(),D=E&&0===az.get.caretPosition();if(H&&!M&&!E){return}L==ab.leftArrow?!A&&!D||M?M&&(F.shiftKey?az.verbose("Adding previous label to selection"):(az.verbose("Selecting previous label"),C.removeClass(s.active)),I&&!B?y.addClass(s.active):y.prev(am.siblingLabel).addClass(s.active).end(),F.preventDefault()):(az.verbose("Selecting previous label"),C.last().addClass(s.active)):L==ab.rightArrow?(A&&!M&&C.first().addClass(s.active),M&&(F.shiftKey?az.verbose("Adding next label to selection"):(az.verbose("Selecting next label"),C.removeClass(s.active)),K?H?E?C.removeClass(s.active):az.focusSearch():B?y.next(am.siblingLabel).addClass(s.active):y.addClass(s.active):y.next(am.siblingLabel).addClass(s.active),F.preventDefault())):L==ab.deleteKey||L==ab.backspace?M?(az.verbose("Removing active labels"),K&&H&&!E&&az.focusSearch(),y.last().next(am.siblingLabel).addClass(s.active),az.remove.activeLabels(y),F.preventDefault()):D&&!M&&L==ab.backspace&&(az.verbose("Removing last label on input backspace"),y=C.last().addClass(s.active),az.remove.activeLabels(y)):y.removeClass(s.active)}}},keydown:function(I){var N=I.which,A=az.is.inObject(N,ab);if(A){var D,z,L=l.not(am.unselectable).filter("."+s.selected).eq(0),x=aa.children("."+s.active).eq(0),O=L.length>0?L:x,C=O.length>0?O.siblings(":not(."+s.filtered+")").addBack():aa.children(":not(."+s.filtered+")"),K=O.children(am.menu),M=O.closest(am.menu),J=M.hasClass(s.visible)||M.hasClass(s.animating)||M.parent(am.menu).length>0,H=K.length>0,B=O.length>0,F=O.not(am.unselectable).length>0,y=N==ab.delimiter&&u.allowAdditions&&az.is.multiple(),E=u.allowAdditions&&u.hideAdditions&&(N==ab.enter||y)&&F;if(E&&(az.verbose("Selecting item from keyboard shortcut",O),az.event.item.click.call(O,I),az.is.searchSelection()&&az.remove.searchTerm()),az.is.visible()){if((N==ab.enter||y)&&(N==ab.enter&&B&&H&&!u.allowCategorySelection?(az.verbose("Pressed enter on unselectable category, opening sub menu"),N=ab.rightArrow):F&&(az.verbose("Selecting item from keyboard shortcut",O),az.event.item.click.call(O,I),az.is.searchSelection()&&az.remove.searchTerm()),I.preventDefault()),B&&(N==ab.leftArrow&&(z=M[0]!==aa[0],z&&(az.verbose("Left key pressed, closing sub-menu"),az.animate.hide(!1,M),O.removeClass(s.selected),M.closest(am.item).addClass(s.selected),I.preventDefault())),N==ab.rightArrow&&H&&(az.verbose("Right key pressed, opening sub-menu"),az.animate.show(!1,K),O.removeClass(s.selected),K.find(am.item).eq(0).addClass(s.selected),I.preventDefault())),N==ab.upArrow){if(D=B&&J?O.prevAll(am.item+":not("+am.unselectable+")").eq(0):l.eq(0),C.index(D)<0){return az.verbose("Up key pressed but reached top of current menu"),void I.preventDefault()}az.verbose("Up key pressed, changing active item"),O.removeClass(s.selected),D.addClass(s.selected),az.set.scrollPosition(D),u.selectOnKeydown&&az.is.single()&&az.set.selectedItem(D),I.preventDefault()}if(N==ab.downArrow){if(D=B&&J?D=O.nextAll(am.item+":not("+am.unselectable+")").eq(0):l.eq(0),0===D.length){return az.verbose("Down key pressed but reached bottom of current menu"),void I.preventDefault()}az.verbose("Down key pressed, changing active item"),l.removeClass(s.selected),D.addClass(s.selected),az.set.scrollPosition(D),u.selectOnKeydown&&az.is.single()&&az.set.selectedItem(D),I.preventDefault()}N==ab.pageUp&&(az.scrollPage("up"),I.preventDefault()),N==ab.pageDown&&(az.scrollPage("down"),I.preventDefault()),N==ab.escape&&(az.verbose("Escape key pressed, closing dropdown"),az.hide())}else{y&&I.preventDefault(),N!=ab.downArrow||az.is.visible()||(az.verbose("Down key pressed, showing dropdown"),az.select.firstUnfiltered(),az.show(),I.preventDefault())}}else{az.has.search()||az.set.selectedLetter(String.fromCharCode(N))}}},trigger:{change:function(){var y=d.createEvent("HTMLEvents"),x=r[0];x&&(az.verbose("Triggering native change event"),y.initEvent("change",!0,!1),x.dispatchEvent(y))}},determine:{selectAction:function(x,y){az.verbose("Determining action",u.action),c.isFunction(az.action[u.action])?(az.verbose("Triggering preset action",u.action,x,y),az.action[u.action].call(ag,x,y,this)):c.isFunction(u.action)?(az.verbose("Triggering user action",u.action,x,y),u.action.call(ag,x,y,this)):az.error(ax.action,u.action)},eventInModule:function(z,y){var B=c(z.target),x=B.closest(d.documentElement).length>0,A=B.closest(ae).length>0;return y=c.isFunction(y)?y:function(){},x&&!A?(az.verbose("Triggering event",y),y(),!0):(az.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(A,z){var D=c(A.target),y=D.closest(am.siblingLabel),C=d.body.contains(A.target),B=0===ae.find(y).length,x=0===D.closest(aa).length;return z=c.isFunction(z)?z:function(){},C&&B&&x?(az.verbose("Triggering event",z),z(),!0):(az.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(x,z,y){if(z=z!==a?z:x,az.can.activate(c(y))){if(az.set.selected(z,c(y)),az.is.multiple()&&!az.is.allFiltered()){return}az.hideAndClear()}},select:function(x,z,y){if(z=z!==a?z:x,az.can.activate(c(y))){if(az.set.value(z,c(y)),az.is.multiple()&&!az.is.allFiltered()){return}az.hideAndClear()}},combo:function(x,z,y){z=z!==a?z:x,az.set.selected(z,c(y)),az.hideAndClear()},hide:function(y,x,z){az.set.value(x,y),az.hideAndClear()}},get:{id:function(){return au},defaultText:function(){return ae.data(al.defaultText)},defaultValue:function(){return ae.data(al.defaultValue)},placeholderText:function(){return ae.data(al.placeholderText)||""},text:function(){return ad.text()},query:function(){return c.trim(o.val())},searchWidth:function(x){return x=x!==a?x:o.val(),aj.text(x),Math.ceil(aj.width()+1)},selectionCount:function(){var x,y=az.get.values();return x=az.is.multiple()?c.isArray(y)?y.length:0:""!==az.get.value()?1:0},transition:function(x){return"auto"==u.transition?az.is.upward(x)?"slide up":"slide down":u.transition},userValues:function(){var x=az.get.values();return x?(x=c.isArray(x)?x:[x],c.grep(x,function(y){return az.get.item(y)===!1})):!1},uniqueArray:function(x){return c.grep(x,function(z,y){return c.inArray(z,x)===y})},caretPosition:function(){var z,y,x=o.get(0);return"selectionStart" in x?x.selectionStart:d.selection?(x.focus(),z=d.selection.createRange(),y=z.text.length,z.moveStart("character",-x.value.length),z.text.length-y):void 0},value:function(){var x=r.length>0?r.val():ae.data(al.value),y=c.isArray(x)&&1===x.length&&""===x[0];return x===a||y?"":x},values:function(){var x=az.get.value();return""===x?"":!az.has.selectInput()&&az.is.multiple()?"string"==typeof x?x.split(u.delimiter):"":x},remoteValues:function(){var x=az.get.values(),y=!1;return x&&("string"==typeof x&&(x=[x]),c.each(x,function(B,A){var z=az.read.remoteData(A);az.verbose("Restoring value from session data",z,A),z&&(y||(y={}),y[A]=z)})),y},choiceText:function(x,y){return y=y!==a?y:u.preserveHTML,x?(x.find(am.menu).length>0&&(az.verbose("Retrieving text of element with sub-menu"),x=x.clone(),x.find(am.menu).remove(),x.find(am.menuIcon).remove()),x.data(al.text)!==a?x.data(al.text):y?c.trim(x.html()):c.trim(x.text())):void 0},choiceValue:function(x,y){return y=y||az.get.choiceText(x),x?x.data(al.value)!==a?String(x.data(al.value)):"string"==typeof y?c.trim(y.toLowerCase()):String(y):!1},inputEvent:function(){var x=o[0];return x?x.oninput!==a?"input":x.onpropertychange!==a?"propertychange":"keyup":!1},selectValues:function(){var x={};return x.values=[],ae.find("option").each(function(){var B=c(this),A=B.html(),y=B.attr("disabled"),z=B.attr("value")!==a?B.attr("value"):A;"auto"===u.placeholder&&""===z?x.placeholder=A:x.values.push({name:A,value:z,disabled:y})}),u.placeholder&&"auto"!==u.placeholder&&(az.debug("Setting placeholder value to",u.placeholder),x.placeholder=u.placeholder),u.sortSelect?(x.values.sort(function(z,y){return z.name>y.name?1:-1}),az.debug("Retrieved and sorted values from select",x)):az.debug("Retrieved values from select",x),x},activeItem:function(){return l.filter("."+s.active)},selectedItem:function(){var x=l.not(am.unselectable).filter("."+s.selected);return x.length>0?x:l.eq(0)},itemWithAdditions:function(z){var y=az.get.item(z),A=az.create.userChoice(z),x=A&&A.length>0;return x&&(y=y.length>0?y.add(A):A),y},item:function(y,B){var A,x,z=!1;return y=y!==a?y:az.get.values()!==a?az.get.values():az.get.text(),A=x?y.length>0:y!==a&&null!==y,x=az.is.multiple()&&c.isArray(y),B=""===y||0===y?!0:B||!1,A&&l.each(function(){var E=c(this),D=az.get.choiceText(E),C=az.get.choiceValue(E,D);if(null!==C&&C!==a){if(x){-1===c.inArray(String(C),y)&&-1===c.inArray(D,y)||(z=z?z.add(E):E)}else{if(B){if(az.verbose("Ambiguous dropdown value using strict type check",E,y),C===y||D===y){return z=E,!0}}else{if(String(C)==String(y)||D==y){return az.verbose("Found select item by value",C,y),z=E,!0}}}}}),z}},check:{maxSelections:function(x){return u.maxSelections?(x=x!==a?x:az.get.selectionCount(),x>=u.maxSelections?(az.debug("Maximum selection count reached"),u.useLabels&&(l.addClass(s.filtered),az.add.message(ap.maxSelections)),!0):(az.verbose("No longer at maximum selection count"),az.remove.message(),az.remove.filteredItem(),az.is.searchSelection()&&az.filterItems(),!1)):!0}},restore:{defaults:function(){az.clear(),az.restore.defaultText(),az.restore.defaultValue()},defaultText:function(){var y=az.get.defaultText(),x=az.get.placeholderText;y===x?(az.debug("Restoring default placeholder text",y),az.set.placeholderText(y)):(az.debug("Restoring default text",y),az.set.text(y))},placeholderText:function(){az.set.placeholderText()},defaultValue:function(){var x=az.get.defaultValue();x!==a&&(az.debug("Restoring default value",x),""!==x?(az.set.value(x),az.set.selected()):(az.remove.activeItem(),az.remove.selectedItem()))},labels:function(){u.allowAdditions&&(u.useLabels||(az.error(ax.labels),u.useLabels=!0),az.debug("Restoring selected values"),az.create.userLabels()),az.check.maxSelections()},selected:function(){az.restore.values(),az.is.multiple()?(az.debug("Restoring previously selected values and labels"),az.restore.labels()):az.debug("Restoring previously selected values")},values:function(){az.set.initialLoad(),u.apiSettings&&u.saveRemoteData&&az.get.remoteValues()?az.restore.remoteValues():az.set.selected(),az.remove.initialLoad()},remoteValues:function(){var x=az.get.remoteValues();az.debug("Recreating selected from session data",x),x&&(az.is.single()?c.each(x,function(z,y){az.set.text(y)}):c.each(x,function(z,y){az.add.label(z,y)}))}},read:{remoteData:function(x){var y;return b.Storage===a?void az.error(ax.noStorage):(y=sessionStorage.getItem(x),y!==a?y:!1)}},save:{defaults:function(){az.save.defaultText(),az.save.placeholderText(),az.save.defaultValue()},defaultValue:function(){var x=az.get.value();az.verbose("Saving default value as",x),ae.data(al.defaultValue,x)},defaultText:function(){var x=az.get.text();az.verbose("Saving default text as",x),ae.data(al.defaultText,x)},placeholderText:function(){var x;u.placeholder!==!1&&ad.hasClass(s.placeholder)&&(x=az.get.text(),az.verbose("Saving placeholder text as",x),ae.data(al.placeholderText,x))},remoteData:function(x,y){return b.Storage===a?void az.error(ax.noStorage):(az.verbose("Saving remote data to session storage",y,x),void sessionStorage.setItem(y,x))}},clear:function(){az.is.multiple()&&u.useLabels?az.remove.labels():(az.remove.activeItem(),az.remove.selectedItem()),az.set.placeholderText(),az.clearValue()},clearValue:function(){az.set.value("")},scrollPage:function(D,J){var z,B,y,H=J||az.get.selectedItem(),x=H.closest(am.menu),K=x.outerHeight(),A=x.scrollTop(),F=l.eq(0).outerHeight(),I=Math.floor(K/F),E=(x.prop("scrollHeight"),"up"==D?A-F*I:A+F*I),C=l.not(am.unselectable);y="up"==D?C.index(H)-I:C.index(H)+I,z="up"==D?y>=0:y<C.length,B=z?C.eq(y):"up"==D?C.first():C.last(),B.length>0&&(az.debug("Scrolling page",D,B),H.removeClass(s.selected),B.addClass(s.selected),u.selectOnKeydown&&az.is.single()&&az.set.selectedItem(B),x.scrollTop(E))},set:{filtered:function(){var B=az.is.multiple(),z=az.is.searchSelection(),D=B&&z,y=z?az.get.query():"",C="string"==typeof y&&y.length>0,x=az.get.searchWidth(),A=""!==y;B&&C&&(az.verbose("Adjusting input width",x,u.glyphWidth),o.css("width",x)),C||D&&A?(az.verbose("Hiding placeholder text"),ad.addClass(s.filtered)):(!B||D&&!A)&&(az.verbose("Showing placeholder text"),ad.removeClass(s.filtered))},empty:function(){ae.addClass(s.empty)},loading:function(){ae.addClass(s.loading)},placeholderText:function(x){x=x||az.get.placeholderText(),az.debug("Setting placeholder text",x),az.set.text(x),ad.addClass(s.placeholder)},tabbable:function(){az.is.searchSelection()?(az.debug("Added tabindex to searchable dropdown"),o.val("").attr("tabindex",0),aa.attr("tabindex",-1)):(az.debug("Added tabindex to dropdown"),ae.attr("tabindex")===a&&(ae.attr("tabindex",0),aa.attr("tabindex",-1)))},initialLoad:function(){az.verbose("Setting initial load"),aB=!0},activeItem:function(x){u.allowAdditions&&x.filter(am.addition).length>0?x.addClass(s.filtered):x.addClass(s.active)},partialSearch:function(y){var x=az.get.query().length;o.val(y.substr(0,x))},scrollPosition:function(C,I){var z,y,F,x,J,A,E,H,D,B=5;C=C||az.get.selectedItem(),z=C.closest(am.menu),y=C&&C.length>0,I=I!==a?I:!1,C&&z.length>0&&y&&(x=C.position().top,z.addClass(s.loading),A=z.scrollTop(),J=z.offset().top,x=C.offset().top,F=A-J+x,I||(E=z.height(),D=F+B>A+E,H=A>F-B),az.debug("Scrolling to active item",F),(I||H||D)&&z.scrollTop(F),z.removeClass(s.loading))},text:function(x){"select"!==u.action&&("combo"==u.action?(az.debug("Changing combo button text",x,ao),u.preserveHTML?ao.html(x):ao.text(x)):(x!==az.get.placeholderText()&&ad.removeClass(s.placeholder),az.debug("Changing text",x,ad),ad.removeClass(s.filtered),u.preserveHTML?ad.html(x):ad.text(x)))},selectedItem:function(z){var y=az.get.choiceValue(z),A=az.get.choiceText(z,!1),x=az.get.choiceText(z,!0);az.debug("Setting user selection to item",z),az.remove.activeItem(),az.set.partialSearch(A),az.set.activeItem(z),az.set.selected(y,z),az.set.text(x)},selectedLetter:function(z){var B,y=l.filter("."+s.selected),A=y.length>0&&az.has.firstLetter(y,z),x=!1;A&&(B=y.nextAll(l).eq(0),az.has.firstLetter(B,z)&&(x=B)),x||l.each(function(){return az.has.firstLetter(c(this),z)?(x=c(this),!1):void 0}),x&&(az.verbose("Scrolling to next value with letter",z),az.set.scrollPosition(x),y.removeClass(s.selected),x.addClass(s.selected),u.selectOnKeydown&&az.is.single()&&az.set.selectedItem(x))},direction:function(x){"auto"==u.direction?az.is.onScreen(x)?az.remove.upward(x):az.set.upward(x):"upward"==u.direction&&az.set.upward(x)},upward:function(y){var x=y||ae;x.addClass(s.upward)},value:function(B,y,D){var C=az.escape.value(B),x=r.length>0,A=(!az.has.value(B),az.get.values()),z=B!==a?String(B):B;if(x){if(!u.allowReselection&&z==A&&(az.verbose("Skipping value update already same value",B,A),!az.is.initialLoad())){return}az.is.single()&&az.has.selectInput()&&az.can.extendSelect()&&(az.debug("Adding user option",B),az.add.optionValue(B)),az.debug("Updating input value",C,A),f=!0,r.val(C),u.fireOnInit===!1&&az.is.initialLoad()?az.debug("Input native change event ignored on initial load"):az.trigger.change(),f=!1}else{az.verbose("Storing value in metadata",C,r),C!==A&&ae.data(al.value,z)}u.fireOnInit===!1&&az.is.initialLoad()?az.verbose("No callback on initial load",u.onChange):u.onChange.call(ag,B,y,D)},active:function(){ae.addClass(s.active)},multiple:function(){ae.addClass(s.multiple)},visible:function(){ae.addClass(s.visible)},exactly:function(y,x){az.debug("Setting selected to exact values"),az.clear(),az.set.selected(y,x)},selected:function(y,z){var x=az.is.multiple();z=u.allowAdditions?z||az.get.itemWithAdditions(y):z||az.get.item(y),z&&(az.debug("Setting selected menu item to",z),az.is.multiple()&&az.remove.searchWidth(),az.is.single()?(az.remove.activeItem(),az.remove.selectedItem()):u.useLabels&&az.remove.selectedItem(),z.each(function(){var C=c(this),F=az.get.choiceText(C),B=az.get.choiceValue(C,F),E=C.hasClass(s.filtered),D=C.hasClass(s.active),A=C.hasClass(s.addition),H=x&&1==z.length;x?!D||A?(u.apiSettings&&u.saveRemoteData&&az.save.remoteData(F,B),u.useLabels?(az.add.value(B,F,C),az.add.label(B,F,H),az.set.activeItem(C),az.filterActive(),az.select.nextAvailable(z)):(az.add.value(B,F,C),az.set.text(az.add.variables(ap.count)),az.set.activeItem(C))):E||(az.debug("Selected active value, removing label"),az.remove.selected(B)):(u.apiSettings&&u.saveRemoteData&&az.save.remoteData(F,B),az.set.text(F),az.set.value(B,F,C),C.addClass(s.active).addClass(s.selected))}))}},add:{label:function(z,C,y){var B,x=az.is.searchSelection()?o:ad,A=az.escape.value(z);return B=c("<a />").addClass(s.label).attr("data-"+al.value,A).html(aA.label(A,C)),B=u.onLabelCreate.call(B,A,C),az.has.label(z)?void az.debug("Label already exists, skipping",A):(u.label.variation&&B.addClass(u.label.variation),void (y===!0?(az.debug("Animating in label",B),B.addClass(s.hidden).insertBefore(x).transition(u.label.transition,u.label.duration)):(az.debug("Adding selection label",B),B.insertBefore(x))))},message:function(y){var z=aa.children(am.message),x=u.templates.message(az.add.variables(y));z.length>0?z.html(x):z=c("<div/>").html(x).addClass(s.message).appendTo(aa)},optionValue:function(y){var A=az.escape.value(y),x=r.find('option[value="'+az.escape.string(A)+'"]'),z=x.length>0;z||(az.disconnect.selectObserver(),az.is.single()&&(az.verbose("Removing previous user addition"),r.find("option."+s.addition).remove()),c("<option/>").prop("value",A).addClass(s.addition).html(y).appendTo(r),az.verbose("Adding user addition as an <option>",y),az.observe.select())},userSuggestion:function(A){var z,C=aa.children(am.addition),y=az.get.item(A),B=y&&y.not(am.addition).length,x=C.length>0;if(!u.useLabels||!az.has.maxSelections()){if(""===A||B){return void C.remove()}x?(C.data(al.value,A).data(al.text,A).attr("data-"+al.value,A).attr("data-"+al.text,A).removeClass(s.filtered),u.hideAdditions||(z=u.templates.addition(az.add.variables(ap.addResult,A)),C.html(z)),az.verbose("Replacing user suggestion with new value",C)):(C=az.create.userChoice(A),C.prependTo(aa),az.verbose("Adding item choice to menu corresponding with user choice addition",C)),u.hideAdditions&&!az.is.allFiltered()||C.addClass(s.selected).siblings().removeClass(s.selected),az.refreshItems()}},variables:function(B,z){var D,y,C=-1!==B.search("{count}"),x=-1!==B.search("{maxCount}"),A=-1!==B.search("{term}");return az.verbose("Adding templated variables to message",B),C&&(D=az.get.selectionCount(),B=B.replace("{count}",D)),x&&(D=az.get.selectionCount(),B=B.replace("{maxCount}",u.maxSelections)),A&&(y=z||az.get.query(),B=B.replace("{term}",y)),B},value:function(z,B,y){var A,x=az.get.values();return""===z?void az.debug("Cannot select blank values from multiselect"):(c.isArray(x)?(A=x.concat([z]),A=az.get.uniqueArray(A)):A=[z],az.has.selectInput()?az.can.extendSelect()&&(az.debug("Adding value to select",z,A,r),az.add.optionValue(z)):(A=A.join(u.delimiter),az.debug("Setting hidden input to delimited value",A,r)),u.fireOnInit===!1&&az.is.initialLoad()?az.verbose("Skipping onadd callback on initial load",u.onAdd):u.onAdd.call(ag,z,B,y),az.set.value(A,z,B,y),void az.check.maxSelections())}},remove:{active:function(){ae.removeClass(s.active)},activeLabel:function(){ae.find(am.label).removeClass(s.active)},empty:function(){ae.removeClass(s.empty)},loading:function(){ae.removeClass(s.loading)},initialLoad:function(){aB=!1},upward:function(y){var x=y||ae;x.removeClass(s.upward)},visible:function(){ae.removeClass(s.visible)},activeItem:function(){l.removeClass(s.active)},filteredItem:function(){u.useLabels&&az.has.maxSelections()||(u.useLabels&&az.is.multiple()?l.not("."+s.active).removeClass(s.filtered):l.removeClass(s.filtered),az.remove.empty())},optionValue:function(z){var y=az.escape.value(z),A=r.find('option[value="'+az.escape.string(y)+'"]'),x=A.length>0;x&&A.hasClass(s.addition)&&(an&&(an.disconnect(),az.verbose("Temporarily disconnecting mutation observer")),A.remove(),az.verbose("Removing user addition as an <option>",y),an&&an.observe(r[0],{childList:!0,subtree:!0}))},message:function(){aa.children(am.message).remove()},searchWidth:function(){o.css("width","")},searchTerm:function(){az.verbose("Cleared search term"),o.val(""),az.set.filtered()},userAddition:function(){l.filter(am.addition).remove()},selected:function(x,y){return(y=u.allowAdditions?y||az.get.itemWithAdditions(x):y||az.get.item(x))?void y.each(function(){var A=c(this),B=az.get.choiceText(A),z=az.get.choiceValue(A,B);az.is.multiple()?u.useLabels?(az.remove.value(z,B,A),az.remove.label(z)):(az.remove.value(z,B,A),0===az.get.selectionCount()?az.set.placeholderText():az.set.text(az.add.variables(ap.count))):az.remove.value(z,B,A),A.removeClass(s.filtered).removeClass(s.active),u.useLabels&&A.removeClass(s.selected)}):!1},selectedItem:function(){l.removeClass(s.selected)},value:function(z,y,B){var x,A=az.get.values();az.has.selectInput()?(az.verbose("Input is <select> removing selected option",z),x=az.remove.arrayValue(z,A),az.remove.optionValue(z)):(az.verbose("Removing from delimited values",z),x=az.remove.arrayValue(z,A),x=x.join(u.delimiter)),u.fireOnInit===!1&&az.is.initialLoad()?az.verbose("No callback on initial load",u.onRemove):u.onRemove.call(ag,z,y,B),az.set.value(x,y,B),az.check.maxSelections()},arrayValue:function(x,y){return c.isArray(y)||(y=[y]),y=c.grep(y,function(z){return x!=z}),az.verbose("Removed value from delimited string",x,y),y},label:function(z,y){var A=ae.find(am.label),x=A.filter("[data-"+al.value+'="'+az.escape.string(z)+'"]');az.verbose("Removing label",x),x.remove()},activeLabels:function(x){x=x||ae.find(am.label).filter("."+s.active),az.verbose("Removing active label selections",x),az.remove.labels(x)},labels:function(x){x=x||ae.find(am.label),az.verbose("Removing labels",x),x.each(function(){var z=c(this),B=z.data(al.value),A=B!==a?String(B):B,y=az.is.userValue(A);return u.onLabelRemove.call(z,B)===!1?void az.debug("Label remove callback cancelled removal"):(az.remove.message(),void (y?(az.remove.value(A),az.remove.label(A)):az.remove.selected(A)))})},tabbable:function(){az.is.searchSelection()?(az.debug("Searchable dropdown initialized"),o.removeAttr("tabindex"),aa.removeAttr("tabindex")):(az.debug("Simple selection dropdown initialized"),ae.removeAttr("tabindex"),aa.removeAttr("tabindex"))}},has:{menuSearch:function(){return az.has.search()&&o.closest(aa).length>0},search:function(){return o.length>0},sizer:function(){return aj.length>0},selectInput:function(){return r.is("select")},minCharacters:function(x){return u.minCharacters?(x=x!==a?String(x):String(az.get.query()),x.length>=u.minCharacters):!0},firstLetter:function(z,y){var A,x;return z&&0!==z.length&&"string"==typeof y?(A=az.get.choiceText(z,!1),y=y.toLowerCase(),x=String(A).charAt(0).toLowerCase(),y==x):!1},input:function(){return r.length>0},items:function(){return l.length>0},menu:function(){return aa.length>0},message:function(){return 0!==aa.children(am.message).length},label:function(y){var x=az.escape.value(y),z=ae.find(am.label);return z.filter("[data-"+al.value+'="'+az.escape.string(x)+'"]').length>0},maxSelections:function(){return u.maxSelections&&az.get.selectionCount()>=u.maxSelections},allResultsFiltered:function(){var x=l.not(am.addition);return x.filter(am.unselectable).length===x.length},userSuggestion:function(){return aa.children(am.addition).length>0},query:function(){return""!==az.get.query()},value:function(y){var z=az.get.values(),x=c.isArray(z)?z&&-1!==c.inArray(y,z):z==y;return !!x}},is:{active:function(){return ae.hasClass(s.active)},bubbledLabelClick:function(x){return c(x.target).is("select, input")&&ae.closest("label").length>0},bubbledIconClick:function(x){return c(x.target).closest(m).length>0},alreadySetup:function(){return ae.is("select")&&ae.parent(am.dropdown).length>0&&0===ae.prev().length},animating:function(x){return x?x.transition&&x.transition("is animating"):aa.transition&&aa.transition("is animating")},disabled:function(){return ae.hasClass(s.disabled)},focused:function(){return d.activeElement===ae[0]},focusedOnSearch:function(){return d.activeElement===o[0]},allFiltered:function(){return(az.is.multiple()||az.has.search())&&!(0==u.hideAdditions&&az.has.userSuggestion())&&!az.has.message()&&az.has.allResultsFiltered()},hidden:function(x){return !az.is.visible(x)},initialLoad:function(){return aB},onScreen:function(z){var y,B=z||aa,x=!0,A={};return B.addClass(s.loading),y={context:{scrollTop:af.scrollTop(),height:af.outerHeight()},menu:{offset:B.offset(),height:B.outerHeight()}},az.is.verticallyScrollableContext()&&(y.menu.offset.top+=y.context.scrollTop),A={above:y.context.scrollTop<=y.menu.offset.top-y.menu.height,below:y.context.scrollTop+y.context.height>=y.menu.offset.top+y.menu.height},A.below?(az.verbose("Dropdown can fit in context downward",A),x=!0):A.below||A.above?(az.verbose("Dropdown cannot fit below, opening upward",A),x=!1):(az.verbose("Dropdown cannot fit in either direction, favoring downward",A),x=!0),B.removeClass(s.loading),x},inObject:function(y,z){var x=!1;return c.each(z,function(A,B){return B==y?(x=!0,!0):void 0}),x},multiple:function(){return ae.hasClass(s.multiple)},remote:function(){return u.apiSettings&&az.can.useAPI()},single:function(){return !az.is.multiple()},selectMutation:function(x){var y=!1;return c.each(x,function(A,z){return z.target&&c(z.target).is("select")?(y=!0,!0):void 0}),y},search:function(){return ae.hasClass(s.search)},searchSelection:function(){return az.has.search()&&1===o.parent(am.dropdown).length},selection:function(){return ae.hasClass(s.selection)},userValue:function(x){return -1!==c.inArray(x,az.get.userValues())},upward:function(y){var x=y||ae;return x.hasClass(s.upward)},visible:function(x){return x?x.hasClass(s.visible):aa.hasClass(s.visible)},verticallyScrollableContext:function(){var x=af.get(0)!==b?af.css("overflow-y"):!1;return"auto"==x||"scroll"==x}},can:{activate:function(x){return u.useLabels?!0:az.has.maxSelections()?!(!az.has.maxSelections()||!x.hasClass(s.active)):!0},click:function(){return q||"click"==u.on},extendSelect:function(){return u.allowAdditions||u.apiSettings},show:function(){return !az.is.disabled()&&(az.has.items()||az.has.message())},useAPI:function(){return c.fn.api!==a}},animate:{show:function(y,B){var A,x=B||aa,z=B?function(){}:function(){az.hideSubMenus(),az.hideOthers(),az.set.active()};y=c.isFunction(y)?y:function(){},az.verbose("Doing menu show animation",x),az.set.direction(B),A=az.get.transition(B),az.is.selection()&&az.set.scrollPosition(az.get.selectedItem(),!0),(az.is.hidden(x)||az.is.animating(x))&&("none"==A?(z(),x.transition("show"),y.call(ag)):c.fn.transition!==a&&ae.transition("is supported")?x.transition({animation:A+" in",debug:u.debug,verbose:u.verbose,duration:u.duration,queue:!0,onStart:z,onComplete:function(){y.call(ag)}}):az.error(ax.noTransition,A))},hide:function(y,B){var A=B||aa,x=(B?0.9*u.duration:u.duration,B?function(){}:function(){az.can.click()&&az.unbind.intent(),az.remove.active()}),z=az.get.transition(B);y=c.isFunction(y)?y:function(){},(az.is.visible(A)||az.is.animating(A))&&(az.verbose("Doing menu hide animation",A),"none"==z?(x(),A.transition("hide"),y.call(ag)):c.fn.transition!==a&&ae.transition("is supported")?A.transition({animation:z+" out",duration:u.duration,debug:u.debug,verbose:u.verbose,queue:!0,onStart:x,onComplete:function(){"auto"==u.direction&&az.remove.upward(B),y.call(ag)}}):az.error(ax.transition))}},hideAndClear:function(){az.remove.searchTerm(),az.has.maxSelections()||(az.has.search()?az.hide(function(){az.remove.filteredItem()}):az.hide())},delay:{show:function(){az.verbose("Delaying show event to ensure user intent"),clearTimeout(az.timer),az.timer=setTimeout(az.show,u.delay.show)},hide:function(){az.verbose("Delaying hide event to ensure user intent"),clearTimeout(az.timer),az.timer=setTimeout(az.hide,u.delay.hide)}},escape:{value:function(z){var C=c.isArray(z),y="string"==typeof z,B=!y&&!C,x=y&&-1!==z.search(ac.quote),A=[];return B||!x?z:(az.debug("Encoding quote values for use in select",z),C?(c.each(z,function(E,D){A.push(D.replace(ac.quote,"&quot;"))}),A):z.replace(ac.quote,"&quot;"))},string:function(x){return x=String(x),x.replace(ac.escape,"\\$&")}},setting:function(x,y){if(az.debug("Changing setting",x,y),c.isPlainObject(x)){c.extend(!0,u,x)}else{if(y===a){return u[x]}c.isPlainObject(u[x])?c.extend(!0,u[x],y):u[x]=y}},internal:function(x,y){if(c.isPlainObject(x)){c.extend(!0,az,x)}else{if(y===a){return az[x]}az[x]=y}},debug:function(){!u.silent&&u.debug&&(u.performance?az.performance.log(arguments):(az.debug=Function.prototype.bind.call(console.info,console,u.name+":"),az.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?az.performance.log(arguments):(az.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),az.verbose.apply(console,arguments)))},error:function(){u.silent||(az.error=Function.prototype.bind.call(console.error,console,u.name+":"),az.error.apply(console,arguments))},performance:{log:function(z){var y,A,x;u.performance&&(y=(new Date).getTime(),x=v||y,A=y-x,v=y,p.push({Name:z[0],Arguments:[].slice.call(z,1)||"",Element:ag,"Execution Time":A})),clearTimeout(az.performance.timer),az.performance.timer=setTimeout(az.performance.display,500)},display:function(){var x=u.name+":",y=0;v=!1,clearTimeout(az.performance.timer),c.each(p,function(A,z){y+=z["Execution Time"]}),x+=" "+y+"ms",j&&(x+=" '"+j+"'"),(console.group!==a||console.table!==a)&&p.length>0&&(console.groupCollapsed(x),console.table?console.table(p):c.each(p,function(A,z){console.log(z.Name+": "+z["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(y,D,B){var A,z,x,C=ah;return D=D||k,B=ag||B,"string"==typeof y&&C!==a&&(y=y.split(/[\. ]/),A=y.length-1,c.each(y,function(H,F){var E=H!=A?F+y[H+1].charAt(0).toUpperCase()+y[H+1].slice(1):y;if(c.isPlainObject(C[E])&&H!=A){C=C[E]}else{if(C[E]!==a){return z=C[E],!1}if(!c.isPlainObject(C[F])||H==A){return C[F]!==a?(z=C[F],!1):(az.error(ax.method,y),!1)}C=C[F]}})),c.isFunction(z)?x=z.apply(B,D):z!==a&&(x=z),c.isArray(t)?t.push(x):t!==a?t=[t,x]:x!==a&&(t=x),z}},i?(ah===a&&az.initialize(),az.invoke(n)):(ah!==a&&ah.invoke("destroy"),az.initialize())}),t!==a?t:e},c.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:b,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(g,f,h){},onAdd:function(g,f,h){},onRemove:function(g,f,h){},onLabelSelect:function(f){},onLabelCreate:function(e,f){return c(this)},onLabelRemove:function(f){return !0},onNoResults:function(f){return !0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},c.fn.dropdown.settings.templates={dropdown:function(f){var g=f.placeholder||!1,e=(f.values||{},"");return e+='<i class="dropdown icon"></i>',e+=f.placeholder?'<div class="default text">'+g+"</div>":'<div class="text"></div>',e+='<div class="menu">',c.each(f.values,function(i,h){e+=h.disabled?'<div class="disabled item" data-value="'+h.value+'">'+h.name+"</div>":'<div class="item" data-value="'+h.value+'">'+h.name+"</div>"}),e+="</div>"},menu:function(f,h){var e=f[h.values]||{},g="";return c.each(e,function(m,l){var k=l[h.text]?'data-text="'+l[h.text]+'"':"",j=l[h.disabled]?"disabled ":"";g+='<div class="'+j+'item" data-value="'+l[h.value]+'"'+k+">",g+=l[h.name],g+="</div>"}),g},label:function(g,f){return f+'<i class="delete icon"></i>'},message:function(f){return f},addition:function(f){return f}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.embed=function(g){var f,k=c(this),e=k.selector||"",p=(new Date).getTime(),h=[],j=arguments[0],m="string"==typeof j,i=[].slice.call(arguments,1);return k.each(function(){var E,q=c.isPlainObject(g)?c.extend(!0,{},c.fn.embed.settings,g):c.extend({},c.fn.embed.settings),D=q.selector,n=q.className,z=q.sources,J=q.error,G=q.metadata,F=q.namespace,H=q.templates,l="."+F,I="module-"+F,s=(c(b),c(this)),t=s.find(D.placeholder),r=s.find(D.icon),o=s.find(D.embed),u=this,B=s.data(I);E={initialize:function(){E.debug("Initializing embed"),E.determine.autoplay(),E.create(),E.bind.events(),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),B=E,s.data(I,E)},destroy:function(){E.verbose("Destroying previous instance of embed"),E.reset(),s.removeData(I).off(l)},refresh:function(){E.verbose("Refreshing selector cache"),t=s.find(D.placeholder),r=s.find(D.icon),o=s.find(D.embed)},bind:{events:function(){E.has.placeholder()&&(E.debug("Adding placeholder events"),s.on("click"+l,D.placeholder,E.createAndShow).on("click"+l,D.icon,E.createAndShow))}},create:function(){var v=E.get.placeholder();v?E.createPlaceholder():E.createAndShow()},createPlaceholder:function(w){var v=E.get.icon(),x=E.get.url();E.generate.embed(x);w=w||E.get.placeholder(),s.html(H.placeholder(w,v)),E.debug("Creating placeholder for embed",w,v)},createEmbed:function(v){E.refresh(),v=v||E.get.url(),o=c("<div/>").addClass(n.embed).html(E.generate.embed(v)).appendTo(s),q.onCreate.call(u,v),E.debug("Creating embed object",o)},changeEmbed:function(v){o.html(E.generate.embed(v))},createAndShow:function(){E.createEmbed(),E.show()},change:function(w,v,x){E.debug("Changing video to ",w,v,x),s.data(G.source,w).data(G.id,v),x?s.data(G.url,x):s.removeData(G.url),E.has.embed()?E.changeEmbed():E.create()},reset:function(){E.debug("Clearing embed and showing placeholder"),E.remove.active(),E.remove.embed(),E.showPlaceholder(),q.onReset.call(u)},show:function(){E.debug("Showing embed"),E.set.active(),q.onDisplay.call(u)},hide:function(){E.debug("Hiding embed"),E.showPlaceholder()},showPlaceholder:function(){E.debug("Showing placeholder image"),E.remove.active(),q.onPlaceholderDisplay.call(u)},get:{id:function(){return q.id||s.data(G.id)},placeholder:function(){return q.placeholder||s.data(G.placeholder)},icon:function(){return q.icon?q.icon:s.data(G.icon)!==a?s.data(G.icon):E.determine.icon()},source:function(v){return q.source?q.source:s.data(G.source)!==a?s.data(G.source):E.determine.source()},type:function(){var v=E.get.source();return z[v]!==a?z[v].type:!1},url:function(){return q.url?q.url:s.data(G.url)!==a?s.data(G.url):E.determine.url()}},determine:{autoplay:function(){E.should.autoplay()&&(q.autoplay=!0)},source:function(v){var w=!1;return v=v||E.get.url(),v&&c.each(z,function(y,x){return -1!==v.search(x.domain)?(w=y,!1):void 0}),w},icon:function(){var v=E.get.source();return z[v]!==a?z[v].icon:!1},url:function(){var w,v=q.id||s.data(G.id),x=q.source||s.data(G.source);return w=z[x]!==a?z[x].url.replace("{id}",v):!1,w&&s.data(G.url,w),w}},set:{active:function(){s.addClass(n.active)}},remove:{active:function(){s.removeClass(n.active)},embed:function(){o.empty()}},encode:{parameters:function(w){var v,x=[];for(v in w){x.push(encodeURIComponent(v)+"="+encodeURIComponent(w[v]))}return x.join("&amp;")}},generate:{embed:function(x){E.debug("Generating embed html");var w,y,v=E.get.source();return x=E.get.url(x),x?(y=E.generate.parameters(v),w=H.iframe(x,y)):E.error(J.noURL,s),w},parameters:function(v,x){var w=z[v]&&z[v].parameters!==a?z[v].parameters(q):{};return x=x||q.parameters,x&&(w=c.extend({},w,x)),w=q.onEmbed(w),E.encode.parameters(w)}},has:{embed:function(){return o.length>0},placeholder:function(){return q.placeholder||s.data(G.placeholder)}},should:{autoplay:function(){return"auto"===q.autoplay?q.placeholder||s.data(G.placeholder)!==a:q.autoplay}},is:{video:function(){return"video"==E.get.type()}},setting:function(v,w){if(E.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,q,v)}else{if(w===a){return q[v]}c.isPlainObject(q[v])?c.extend(!0,q[v],w):q[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,E,v)}else{if(w===a){return E[v]}E[v]=w}},debug:function(){!q.silent&&q.debug&&(q.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,q.name+":"),E.debug.apply(console,arguments)))},verbose:function(){!q.silent&&q.verbose&&q.debug&&(q.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,q.name+":"),E.verbose.apply(console,arguments)))},error:function(){q.silent||(E.error=Function.prototype.bind.call(console.error,console,q.name+":"),E.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;q.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,h.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:u,"Execution Time":y})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var v=q.name+":",w=0;p=!1,clearTimeout(E.performance.timer),c.each(h,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),k.length>1&&(v+=" ("+k.length+")"),(console.group!==a||console.table!==a)&&h.length>0&&(console.groupCollapsed(v),console.table?console.table(h):c.each(h,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(x,K,w){var A,y,v,C=B;return K=K||i,w=u||w,"string"==typeof x&&C!==a&&(x=x.split(/[\. ]/),A=x.length-1,c.each(x,function(N,M){var L=N!=A?M+x[N+1].charAt(0).toUpperCase()+x[N+1].slice(1):x;if(c.isPlainObject(C[L])&&N!=A){C=C[L]}else{if(C[L]!==a){return y=C[L],!1}if(!c.isPlainObject(C[M])||N==A){return C[M]!==a?(y=C[M],!1):(E.error(J.method,x),!1)}C=C[M]}})),c.isFunction(y)?v=y.apply(w,K):y!==a&&(v=y),c.isArray(f)?f.push(v):f!==a?f=[f,v]:v!==a&&(f=v),y}},m?(B===a&&E.initialize(),E.invoke(j)):(B!==a&&B.invoke("destroy"),E.initialize())}),f!==a?f:this},c.fn.embed.settings={name:"Embed",namespace:"embed",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(f){},onEmbed:function(f){return f},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(f){return{autohide:!f.brandedUI,autoplay:f.autoplay,color:f.color||a,hq:f.hd,jsapi:f.api,modestbranding:!f.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(f){return{api:f.api,autoplay:f.autoplay,byline:f.brandedUI,color:f.color||a,portrait:f.brandedUI,title:f.brandedUI}}}},templates:{iframe:function(g,f){var h=g;return f&&(h+="?"+f),'<iframe src="'+h+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(g,f){var h="";return f&&(h+='<i class="'+f+' icon"></i>'),g&&(h+='<img class="placeholder" src="'+g+'">'),h}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.modal=function(j){var y,e=c(this),A=c(b),n=c(d),x=c("body"),z=e.selector||"",w=(new Date).getTime(),v=[],k=arguments[0],t="string"==typeof k,i=[].slice.call(arguments,1),q=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)};return e.each(function(){var Q,H,Y,s,B,N,G,W,g,f=c.isPlainObject(j)?c.extend(!0,{},c.fn.modal.settings,j):c.extend({},c.fn.modal.settings),V=f.selector,h=f.className,l=f.namespace,K=f.error,J="."+l,m="module-"+l,L=c(this),U=c(f.context),X=L.find(V.close),p=this,u=L.data(m),o=!1;g={initialize:function(){g.verbose("Initializing dimmer",U),g.create.id(),g.create.dimmer(),g.refreshModals(),g.bind.events(),f.observeChanges&&g.observeChanges(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of modal"),u=g,L.data(m,u)},create:{dimmer:function(){var r={debug:f.debug,dimmerName:"modals",duration:{show:f.duration,hide:f.duration}},C=c.extend(!0,r,f.dimmerSettings);return f.inverted&&(C.variation=C.variation!==a?C.variation+" inverted":"inverted"),c.fn.dimmer===a?void g.error(K.dimmer):(g.debug("Creating dimmer with settings",C),s=U.dimmer(C),f.detachable?(g.verbose("Modal is detachable, moving content into dimmer"),s.dimmer("add content",L)):g.set.undetached(),f.blurring&&s.addClass(h.blurring),void (B=s.dimmer("get dimmer")))},id:function(){G=(Math.random().toString(16)+"000000000").substr(2,8),N="."+G,g.verbose("Creating unique id for element",G)}},destroy:function(){g.verbose("Destroying previous modal"),L.removeData(m).off(J),A.off(N),B.off(N),X.off(J),U.dimmer("destroy")},observeChanges:function(){"MutationObserver" in b&&(W=new MutationObserver(function(r){g.debug("DOM tree modified, refreshing"),g.refresh()}),W.observe(p,{childList:!0,subtree:!0}),g.debug("Setting up mutation observer",W))},refresh:function(){g.remove.scrolling(),g.cacheSizes(),g.set.screenHeight(),g.set.type(),g.set.position()},refreshModals:function(){H=L.siblings(V.modal),Q=H.add(L)},attachEvents:function(C,D){var r=c(C);D=c.isFunction(g[D])?g[D]:g.toggle,r.length>0?(g.debug("Attaching modal events to element",C,D),r.off(J).on("click"+J,D)):g.error(K.notFound,C)},bind:{events:function(){g.verbose("Attaching events"),L.on("click"+J,V.close,g.event.close).on("click"+J,V.approve,g.event.approve).on("click"+J,V.deny,g.event.deny),A.on("resize"+N,g.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){return o||f.onApprove.call(p,c(this))===!1?void g.verbose("Approve callback returned false cancelling hide"):(o=!0,void g.hide(function(){o=!1}))},deny:function(){return o||f.onDeny.call(p,c(this))===!1?void g.verbose("Deny callback returned false cancelling hide"):(o=!0,void g.hide(function(){o=!1}))},close:function(){g.hide()},click:function(D){var C=c(D.target),E=C.closest(V.modal).length>0,r=c.contains(d.documentElement,D.target);!E&&r&&(g.debug("Dimmer clicked, hiding all modals"),g.is.active()&&(g.remove.clickaway(),f.allowMultiple?g.hide():g.hideAll()))},debounce:function(C,r){clearTimeout(g.timer),g.timer=setTimeout(C,r)},keyboard:function(C){var r=C.which,D=27;r==D&&(f.closable?(g.debug("Escape key pressed hiding modal"),g.hide()):g.debug("Escape key pressed, but closable is set to false"),C.preventDefault())},resize:function(){s.dimmer("is active")&&q(g.refresh)}},toggle:function(){g.is.active()||g.is.animating()?g.hide():g.show()},show:function(r){r=c.isFunction(r)?r:function(){},g.refreshModals(),g.showModal(r)},hide:function(r){r=c.isFunction(r)?r:function(){},g.refreshModals(),g.hideModal(r)},showModal:function(r){r=c.isFunction(r)?r:function(){},g.is.animating()||!g.is.active()?(g.showDimmer(),g.cacheSizes(),g.set.position(),g.set.screenHeight(),g.set.type(),g.set.clickaway(),!f.allowMultiple&&g.others.active()?g.hideOthers(g.showModal):(f.onShow.call(p),f.transition&&c.fn.transition!==a&&L.transition("is supported")?(g.debug("Showing modal with css animations"),L.transition({debug:f.debug,animation:f.transition+" in",queue:f.queue,duration:f.duration,useFailSafe:!0,onComplete:function(){f.onVisible.apply(p),f.keyboardShortcuts&&g.add.keyboardShortcuts(),g.save.focus(),g.set.active(),f.autofocus&&g.set.autofocus(),r()}})):g.error(K.noTransition))):g.debug("Modal is already visible")},hideModal:function(r,C){return r=c.isFunction(r)?r:function(){},g.debug("Hiding modal"),f.onHide.call(p,c(this))===!1?void g.verbose("Hide callback returned false cancelling hide"):void ((g.is.animating()||g.is.active())&&(f.transition&&c.fn.transition!==a&&L.transition("is supported")?(g.remove.active(),L.transition({debug:f.debug,animation:f.transition+" out",queue:f.queue,duration:f.duration,useFailSafe:!0,onStart:function(){g.others.active()||C||g.hideDimmer(),f.keyboardShortcuts&&g.remove.keyboardShortcuts()},onComplete:function(){f.onHidden.call(p),g.restore.focus(),r()}})):g.error(K.noTransition)))},showDimmer:function(){s.dimmer("is animating")||!s.dimmer("is active")?(g.debug("Showing dimmer"),s.dimmer("show")):g.debug("Dimmer already visible")},hideDimmer:function(){return s.dimmer("is animating")||s.dimmer("is active")?void s.dimmer("hide",function(){g.remove.clickaway(),g.remove.screenHeight()}):void g.debug("Dimmer is not visible cannot hide")},hideAll:function(r){var C=Q.filter("."+h.active+", ."+h.animating);r=c.isFunction(r)?r:function(){},C.length>0&&(g.debug("Hiding all visible modals"),g.hideDimmer(),C.modal("hide modal",r))},hideOthers:function(r){var C=H.filter("."+h.active+", ."+h.animating);r=c.isFunction(r)?r:function(){},C.length>0&&(g.debug("Hiding other modals",H),C.modal("hide modal",r,!0))},others:{active:function(){return H.filter("."+h.active).length>0},animating:function(){return H.filter("."+h.animating).length>0}},add:{keyboardShortcuts:function(){g.verbose("Adding keyboard shortcuts"),n.on("keyup"+J,g.event.keyboard)}},save:{focus:function(){Y=c(d.activeElement).blur()}},restore:{focus:function(){Y&&Y.length>0&&Y.focus()}},remove:{active:function(){L.removeClass(h.active)},clickaway:function(){f.closable&&B.off("click"+N)},bodyStyle:function(){""===x.attr("style")&&(g.verbose("Removing style attribute"),x.removeAttr("style"))},screenHeight:function(){g.debug("Removing page height"),x.css("height","")},keyboardShortcuts:function(){g.verbose("Removing keyboard shortcuts"),n.off("keyup"+J)},scrolling:function(){s.removeClass(h.scrolling),L.removeClass(h.scrolling)}},cacheSizes:function(){var r=L.outerHeight();g.cache!==a&&0===r||(g.cache={pageHeight:c(d).outerHeight(),height:r+f.offset,contextHeight:"body"==f.context?c(b).height():s.height()}),g.debug("Caching modal and container sizes",g.cache)},can:{fit:function(){return g.cache.height+2*f.padding<g.cache.contextHeight}},is:{active:function(){return L.hasClass(h.active)},animating:function(){return L.transition("is supported")?L.transition("is animating"):L.is(":visible")},scrolling:function(){return s.hasClass(h.scrolling)},modernBrowser:function(){return !(b.ActiveXObject||"ActiveXObject" in b)}},set:{autofocus:function(){var C=L.find("[tabindex], :input").filter(":visible"),r=C.filter("[autofocus]"),D=r.length>0?r.first():C.first();D.length>0&&D.focus()},clickaway:function(){f.closable&&B.on("click"+N,g.event.click)},screenHeight:function(){g.can.fit()?x.css("height",""):(g.debug("Modal is taller than page content, resizing page height"),x.css("height",g.cache.height+2*f.padding))},active:function(){L.addClass(h.active)},scrolling:function(){s.addClass(h.scrolling),L.addClass(h.scrolling)},type:function(){g.can.fit()?(g.verbose("Modal fits on screen"),g.others.active()||g.others.animating()||g.remove.scrolling()):(g.verbose("Modal cannot fit on screen setting to scrolling"),g.set.scrolling())},position:function(){g.verbose("Centering modal on page",g.cache),g.can.fit()?L.css({top:"",marginTop:-(g.cache.height/2)}):L.css({marginTop:"",top:n.scrollTop()})},undetached:function(){s.addClass(h.undetached)}},setting:function(r,C){if(g.debug("Changing setting",r,C),c.isPlainObject(r)){c.extend(!0,f,r)}else{if(C===a){return f[r]}c.isPlainObject(f[r])?c.extend(!0,f[r],C):f[r]=C}},internal:function(r,C){if(c.isPlainObject(r)){c.extend(!0,g,r)}else{if(C===a){return g[r]}g[r]=C}},debug:function(){!f.silent&&f.debug&&(f.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,f.name+":"),g.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),g.verbose.apply(console,arguments)))},error:function(){f.silent||(g.error=Function.prototype.bind.call(console.error,console,f.name+":"),g.error.apply(console,arguments))},performance:{log:function(D){var C,E,r;f.performance&&(C=(new Date).getTime(),r=w||C,E=C-r,w=C,v.push({Name:D[0],Arguments:[].slice.call(D,1)||"",Element:p,"Execution Time":E})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var r=f.name+":",C=0;w=!1,clearTimeout(g.performance.timer),c.each(v,function(E,D){C+=D["Execution Time"]}),r+=" "+C+"ms",z&&(r+=" '"+z+"'"),(console.group!==a||console.table!==a)&&v.length>0&&(console.groupCollapsed(r),console.table?console.table(v):c.each(v,function(E,D){console.log(D.Name+": "+D["Execution Time"]+"ms")}),console.groupEnd()),v=[]}},invoke:function(D,O,I){var F,E,C,M=u;return O=O||i,I=p||I,"string"==typeof D&&M!==a&&(D=D.split(/[\. ]/),F=D.length-1,c.each(D,function(R,P){var r=R!=F?P+D[R+1].charAt(0).toUpperCase()+D[R+1].slice(1):D;if(c.isPlainObject(M[r])&&R!=F){M=M[r]}else{if(M[r]!==a){return E=M[r],!1}if(!c.isPlainObject(M[P])||R==F){return M[P]!==a?(E=M[P],!1):!1}M=M[P]}})),c.isFunction(E)?C=E.apply(I,O):E!==a&&(C=E),c.isArray(y)?y.push(C):y!==a?y=[y,C]:C!==a&&(y=C),E}},t?(u===a&&g.initialize(),g.invoke(k)):(u!==a&&u.invoke("destroy"),g.initialize())}),y!==a?y:this},c.fn.modal.settings={name:"Modal",namespace:"modal",silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return !0},onHidden:function(){},onApprove:function(){return !0},onDeny:function(){return !0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.nag=function(g){var f,k=c(this),e=k.selector||"",p=(new Date).getTime(),h=[],j=arguments[0],m="string"==typeof j,i=[].slice.call(arguments,1);return k.each(function(){var z,s=c.isPlainObject(g)?c.extend(!0,{},c.fn.nag.settings,g):c.extend({},c.fn.nag.settings),o=(s.className,s.selector),r=s.error,n=s.namespace,q="."+n,A=n+"-module",u=c(this),t=(u.find(o.close),c(s.context?s.context:"body")),w=this,l=u.data(A);b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(v){setTimeout(v,0)};z={initialize:function(){z.verbose("Initializing element"),u.on("click"+q,o.close,z.dismiss).data(A,z),s.detachable&&u.parent()[0]!==t[0]&&u.detach().prependTo(t),s.displayTime>0&&setTimeout(z.hide,s.displayTime),z.show()},destroy:function(){z.verbose("Destroying instance"),u.removeData(A).off(q)},show:function(){z.should.show()&&!u.is(":visible")&&(z.debug("Showing nag",s.animation.show),"fade"==s.animation.show?u.fadeIn(s.duration,s.easing):u.slideDown(s.duration,s.easing))},hide:function(){z.debug("Showing nag",s.animation.hide),"fade"==s.animation.show?u.fadeIn(s.duration,s.easing):u.slideUp(s.duration,s.easing)},onHide:function(){z.debug("Removing nag",s.animation.hide),u.remove(),s.onHide&&s.onHide()},dismiss:function(v){s.storageMethod&&z.storage.set(s.key,s.value),z.hide(),v.stopImmediatePropagation(),v.preventDefault()},should:{show:function(){return s.persist?(z.debug("Persistent nag is set, can show nag"),!0):z.storage.get(s.key)!=s.value.toString()?(z.debug("Stored value is not set, can show nag",z.storage.get(s.key)),!0):(z.debug("Stored value is set, cannot show nag",z.storage.get(s.key)),!1)}},get:{storageOptions:function(){var v={};return s.expires&&(v.expires=s.expires),s.domain&&(v.domain=s.domain),s.path&&(v.path=s.path),v}},clear:function(){z.storage.remove(s.key)},storage:{set:function(y,x){var v=z.get.storageOptions();if("localstorage"==s.storageMethod&&b.localStorage!==a){b.localStorage.setItem(y,x),z.debug("Value stored using local storage",y,x)}else{if("sessionstorage"==s.storageMethod&&b.sessionStorage!==a){b.sessionStorage.setItem(y,x),z.debug("Value stored using session storage",y,x)}else{if(c.cookie===a){return void z.error(r.noCookieStorage)}c.cookie(y,x,v),z.debug("Value stored using cookie",y,x,v)}}},get:function(y,x){var v;return"localstorage"==s.storageMethod&&b.localStorage!==a?v=b.localStorage.getItem(y):"sessionstorage"==s.storageMethod&&b.sessionStorage!==a?v=b.sessionStorage.getItem(y):c.cookie!==a?v=c.cookie(y):z.error(r.noCookieStorage),"undefined"!=v&&"null"!=v&&v!==a&&null!==v||(v=a),v},remove:function(x){var v=z.get.storageOptions();"localstorage"==s.storageMethod&&b.localStorage!==a?b.localStorage.removeItem(x):"sessionstorage"==s.storageMethod&&b.sessionStorage!==a?b.sessionStorage.removeItem(x):c.cookie!==a?c.removeCookie(x,v):z.error(r.noStorage)}},setting:function(v,x){if(z.debug("Changing setting",v,x),c.isPlainObject(v)){c.extend(!0,s,v)}else{if(x===a){return s[v]}c.isPlainObject(s[v])?c.extend(!0,s[v],x):s[v]=x}},internal:function(v,x){if(c.isPlainObject(v)){c.extend(!0,z,v)}else{if(x===a){return z[v]}z[v]=x}},debug:function(){!s.silent&&s.debug&&(s.performance?z.performance.log(arguments):(z.debug=Function.prototype.bind.call(console.info,console,s.name+":"),z.debug.apply(console,arguments)))},verbose:function(){!s.silent&&s.verbose&&s.debug&&(s.performance?z.performance.log(arguments):(z.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),z.verbose.apply(console,arguments)))},error:function(){s.silent||(z.error=Function.prototype.bind.call(console.error,console,s.name+":"),z.error.apply(console,arguments))},performance:{log:function(y){var x,B,v;s.performance&&(x=(new Date).getTime(),v=p||x,B=x-v,p=x,h.push({Name:y[0],Arguments:[].slice.call(y,1)||"",Element:w,"Execution Time":B})),clearTimeout(z.performance.timer),z.performance.timer=setTimeout(z.performance.display,500)},display:function(){var v=s.name+":",x=0;p=!1,clearTimeout(z.performance.timer),c.each(h,function(B,y){x+=y["Execution Time"]}),v+=" "+x+"ms",e&&(v+=" '"+e+"'"),(console.group!==a||console.table!==a)&&h.length>0&&(console.groupCollapsed(v),console.table?console.table(h):c.each(h,function(B,y){console.log(y.Name+": "+y["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(y,E,C){var B,v,D,x=l;return E=E||i,C=w||C,"string"==typeof y&&x!==a&&(y=y.split(/[\. ]/),B=y.length-1,c.each(y,function(H,G){var F=H!=B?G+y[H+1].charAt(0).toUpperCase()+y[H+1].slice(1):y;if(c.isPlainObject(x[F])&&H!=B){x=x[F]}else{if(x[F]!==a){return v=x[F],!1}if(!c.isPlainObject(x[G])||H==B){return x[G]!==a?(v=x[G],!1):(z.error(r.method,y),!1)}x=x[G]}})),c.isFunction(v)?D=v.apply(C,E):v!==a&&(D=v),c.isArray(f)?f.push(D):f!==a?f=[f,D]:D!==a&&(f=D),v}},m?(l===a&&z.initialize(),z.invoke(j)):(l!==a&&l.invoke("destroy"),z.initialize())}),f!==a?f:this},c.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},c.extend(c.easing,{easeOutQuad:function(h,g,k,f,j){return -f*(g/=j)*(g-2)+k}})}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.popup=function(j){var y,e=c(this),A=c(d),n=c(b),x=c("body"),z=e.selector||"",w=!0,v=(new Date).getTime(),k=[],t=arguments[0],i="string"==typeof t,q=[].slice.call(arguments,1);return e.each(function(){var X,K,ac,B,H,W,J=c.isPlainObject(j)?c.extend(!0,{},c.fn.popup.settings,j):c.extend({},c.fn.popup.settings),aa=J.selector,g=J.className,f=J.error,Z=J.metadata,h=J.namespace,l="."+J.namespace,U="module-"+h,Q=c(this),m=c(J.context),V=c(J.scrollContext),Y=c(J.boundary),ab=J.target?c(J.target):Q,u=0,G=!1,p=!1,s=this,o=Q.data(U);W={initialize:function(){W.debug("Initializing",Q),W.createID(),W.bind.events(),!W.exists()&&J.preserve&&W.create(),J.observeChanges&&W.observeChanges(),W.instantiate()},instantiate:function(){W.verbose("Storing instance",W),o=W,Q.data(U,o)},observeChanges:function(){"MutationObserver" in b&&(ac=new MutationObserver(W.event.documentChanged),ac.observe(d,{childList:!0,subtree:!0}),W.debug("Setting up mutation observer",ac))},refresh:function(){J.popup?X=c(J.popup).eq(0):J.inline&&(X=ab.nextAll(aa.popup).eq(0),J.popup=X),J.popup?(X.addClass(g.loading),K=W.get.offsetParent(),X.removeClass(g.loading),J.movePopup&&W.has.popup()&&W.get.offsetParent(X)[0]!==K[0]&&(W.debug("Moving popup to the same offset parent as activating element"),X.detach().appendTo(K))):K=J.inline?W.get.offsetParent(ab):W.has.popup()?W.get.offsetParent(X):x,K.is("html")&&K[0]!==x[0]&&(W.debug("Setting page as offset parent"),K=x),W.get.variation()&&W.set.variation()},reposition:function(){W.refresh(),W.set.position()},destroy:function(){W.debug("Destroying previous module"),ac&&ac.disconnect(),X&&!J.preserve&&W.removePopup(),clearTimeout(W.hideTimer),clearTimeout(W.showTimer),W.unbind.close(),W.unbind.events(),Q.removeData(U)},event:{start:function(r){var C=c.isPlainObject(J.delay)?J.delay.show:J.delay;clearTimeout(W.hideTimer),p||(W.showTimer=setTimeout(W.show,C))},end:function(){var r=c.isPlainObject(J.delay)?J.delay.hide:J.delay;clearTimeout(W.showTimer),W.hideTimer=setTimeout(W.hide,r)},touchstart:function(r){p=!0,W.show()},resize:function(){W.is.visible()&&W.set.position()},documentChanged:function(r){[].forEach.call(r,function(C){C.removedNodes&&[].forEach.call(C.removedNodes,function(D){(D==s||c(D).find(s).length>0)&&(W.debug("Element removed from DOM, tearing down events"),W.destroy())})})},hideGracefully:function(D){var C=c(D.target),E=c.contains(d.documentElement,D.target),r=C.closest(aa.popup).length>0;D&&!r&&E?(W.debug("Click occurred outside popup hiding popup"),W.hide()):W.debug("Click was inside popup, keeping popup open")}},create:function(){var C=W.get.html(),D=W.get.title(),r=W.get.content();C||r||D?(W.debug("Creating pop-up html"),C||(C=J.templates.popup({title:D,content:r})),X=c("<div/>").addClass(g.popup).data(Z.activator,Q).html(C),J.inline?(W.verbose("Inserting popup element inline",X),X.insertAfter(Q)):(W.verbose("Appending popup element to body",X),X.appendTo(m)),W.refresh(),W.set.variation(),J.hoverable&&W.bind.popup(),J.onCreate.call(X,s)):0!==ab.next(aa.popup).length?(W.verbose("Pre-existing popup found"),J.inline=!0,J.popup=ab.next(aa.popup).data(Z.activator,Q),W.refresh(),J.hoverable&&W.bind.popup()):J.popup?(c(J.popup).data(Z.activator,Q),W.verbose("Used popup specified in settings"),W.refresh(),J.hoverable&&W.bind.popup()):W.debug("No content specified skipping display",s)},createID:function(){H=(Math.random().toString(16)+"000000000").substr(2,8),B="."+H,W.verbose("Creating unique id for element",H)},toggle:function(){W.debug("Toggling pop-up"),W.is.hidden()?(W.debug("Popup is hidden, showing pop-up"),W.unbind.close(),W.show()):(W.debug("Popup is visible, hiding pop-up"),W.hide())},show:function(r){if(r=r||function(){},W.debug("Showing pop-up",J.transition),W.is.hidden()&&(!W.is.active()||!W.is.dropdown())){if(W.exists()||W.create(),J.onShow.call(X,s)===!1){return void W.debug("onShow callback returned false, cancelling popup animation")}J.preserve||J.popup||W.refresh(),X&&W.set.position()&&(W.save.conditions(),J.exclusive&&W.hideAll(),W.animate.show(r))}},hide:function(r){if(r=r||function(){},W.is.visible()||W.is.animating()){if(J.onHide.call(X,s)===!1){return void W.debug("onHide callback returned false, cancelling popup animation")}W.remove.visible(),W.unbind.close(),W.restore.conditions(),W.animate.hide(r)}},hideAll:function(){c(aa.popup).filter("."+g.visible).each(function(){c(this).data(Z.activator).popup("hide")})},exists:function(){return X?J.inline||J.popup?W.has.popup():X.closest(m).length>=1:!1},removePopup:function(){W.has.popup()&&!J.popup&&(W.debug("Removing popup",X),X.remove(),X=a,J.onRemove.call(X,s))},save:{conditions:function(){W.cache={title:Q.attr("title")},W.cache.title&&Q.removeAttr("title"),W.verbose("Saving original attributes",W.cache.title)}},restore:{conditions:function(){return W.cache&&W.cache.title&&(Q.attr("title",W.cache.title),W.verbose("Restoring original attributes",W.cache.title)),!0}},supports:{svg:function(){return typeof SVGGraphicsElement===a}},animate:{show:function(r){r=c.isFunction(r)?r:function(){},J.transition&&c.fn.transition!==a&&Q.transition("is supported")?(W.set.visible(),X.transition({animation:J.transition+" in",queue:!1,debug:J.debug,verbose:J.verbose,duration:J.duration,onComplete:function(){W.bind.close(),r.call(X,s),J.onVisible.call(X,s)}})):W.error(f.noTransition)},hide:function(r){return r=c.isFunction(r)?r:function(){},W.debug("Hiding pop-up"),J.onHide.call(X,s)===!1?void W.debug("onHide callback returned false, cancelling popup animation"):void (J.transition&&c.fn.transition!==a&&Q.transition("is supported")?X.transition({animation:J.transition+" out",queue:!1,duration:J.duration,debug:J.debug,verbose:J.verbose,onComplete:function(){W.reset(),r.call(X,s),J.onHidden.call(X,s)}}):W.error(f.noTransition))}},change:{content:function(r){X.html(r)}},get:{html:function(){return Q.removeData(Z.html),Q.data(Z.html)||J.html},title:function(){return Q.removeData(Z.title),Q.data(Z.title)||J.title},content:function(){return Q.removeData(Z.content),Q.data(Z.content)||Q.attr("title")||J.content},variation:function(){return Q.removeData(Z.variation),Q.data(Z.variation)||J.variation},popup:function(){return X},popupOffset:function(){return X.offset()},calculations:function(){var E,L=ab[0],C=Y[0]==b,F=J.inline||J.popup&&J.movePopup?ab.position():ab.offset(),r=C?{top:0,left:0}:Y.offset(),D={},I=C?{top:n.scrollTop(),left:n.scrollLeft()}:{top:0,left:0};return D={target:{element:ab[0],width:ab.outerWidth(),height:ab.outerHeight(),top:F.top,left:F.left,margin:{}},popup:{width:X.outerWidth(),height:X.outerHeight()},parent:{width:K.outerWidth(),height:K.outerHeight()},screen:{top:r.top,left:r.left,scroll:{top:I.top,left:I.left},width:Y.width(),height:Y.height()}},J.setFluidWidth&&W.is.fluid()&&(D.container={width:X.parent().outerWidth()},D.popup.width=D.container.width),D.target.margin.top=J.inline?parseInt(b.getComputedStyle(L).getPropertyValue("margin-top"),10):0,D.target.margin.left=J.inline?W.is.rtl()?parseInt(b.getComputedStyle(L).getPropertyValue("margin-right"),10):parseInt(b.getComputedStyle(L).getPropertyValue("margin-left"),10):0,E=D.screen,D.boundary={top:E.top+E.scroll.top,bottom:E.top+E.scroll.top+E.height,left:E.left+E.scroll.left,right:E.left+E.scroll.left+E.width},D},id:function(){return H},startEvent:function(){return"hover"==J.on?"mouseenter":"focus"==J.on?"focus":!1},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==J.on?"mouseleave":"focus"==J.on?"blur":!1},distanceFromBoundary:function(D,C){var F,r,E={};return C=C||W.get.calculations(),F=C.popup,r=C.boundary,D&&(E={top:D.top-r.top,left:D.left-r.left,right:r.right-(D.left+F.width),bottom:r.bottom-(D.top+F.height)},W.verbose("Distance from boundaries determined",D,E)),E},offsetParent:function(E){var M=E!==a?E[0]:Q[0],L=M.parentNode,D=c(L);if(L){for(var I="none"===D.css("transform"),F="static"===D.css("position"),C=D.is("html");L&&!C&&F&&I;){L=L.parentNode,D=c(L),I="none"===D.css("transform"),F="static"===D.css("position"),C=D.is("html")}}return D&&D.length>0?D:c()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(L){var P=L.split(" "),E=P[0],I=P[1],D={top:"bottom",bottom:"top",left:"right",right:"left"},N={left:"center",center:"right",right:"left"},C={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},R="top"==E||"bottom"==E,F=!1,M=!1,O=!1;return G||(W.verbose("All available positions available"),G=W.get.positions()),W.debug("Recording last position tried",L),G[L]=!0,"opposite"===J.prefer&&(O=[D[E],I],O=O.join(" "),F=G[O]===!0,W.debug("Trying opposite strategy",O)),"adjacent"===J.prefer&&R&&(O=[E,N[I]],O=O.join(" "),M=G[O]===!0,W.debug("Trying adjacent strategy",O)),(M||F)&&(W.debug("Using backup position",O),O=C[L]),O}},set:{position:function(E,N){if(0===ab.length||0===X.length){return void W.error(f.notFound)}var C,r,L,O,D,I,M,F;if(N=N||W.get.calculations(),E=E||Q.data(Z.position)||J.position,C=Q.data(Z.offset)||J.offset,r=J.distanceAway,L=N.target,O=N.popup,D=N.parent,0===L.width&&0===L.height&&!W.is.svg(L.element)){return W.debug("Popup target is hidden, no action taken"),!1}switch(J.inline&&(W.debug("Adding margin to calculation",L.margin),"left center"==E||"right center"==E?(C+=L.margin.top,r+=-L.margin.left):"top left"==E||"top center"==E||"top right"==E?(C+=L.margin.left,r-=L.margin.top):(C+=L.margin.left,r+=L.margin.top)),W.debug("Determining popup position from calculations",E,N),W.is.rtl()&&(E=E.replace(/left|right/g,function(P){return"left"==P?"right":"left"}),W.debug("RTL: Popup position updated",E)),u==J.maxSearchDepth&&"string"==typeof J.lastResort&&(E=J.lastResort),E){case"top left":I={top:"auto",bottom:D.height-L.top+r,left:L.left+C,right:"auto"};break;case"top center":I={bottom:D.height-L.top+r,left:L.left+L.width/2-O.width/2+C,top:"auto",right:"auto"};break;case"top right":I={bottom:D.height-L.top+r,right:D.width-L.left-L.width-C,top:"auto",left:"auto"};break;case"left center":I={top:L.top+L.height/2-O.height/2+C,right:D.width-L.left+r,left:"auto",bottom:"auto"};break;case"right center":I={top:L.top+L.height/2-O.height/2+C,left:L.left+L.width+r,bottom:"auto",right:"auto"};break;case"bottom left":I={top:L.top+L.height+r,left:L.left+C,bottom:"auto",right:"auto"};break;case"bottom center":I={top:L.top+L.height+r,left:L.left+L.width/2-O.width/2+C,bottom:"auto",right:"auto"};break;case"bottom right":I={top:L.top+L.height+r,right:D.width-L.left-L.width-C,left:"auto",bottom:"auto"}}if(I===a&&W.error(f.invalidPosition,E),W.debug("Calculated popup positioning values",I),X.css(I).removeClass(g.position).addClass(E).addClass(g.loading),M=W.get.popupOffset(),F=W.get.distanceFromBoundary(M,N),W.is.offstage(F,E)){if(W.debug("Position is outside viewport",E),u<J.maxSearchDepth){return u++,E=W.get.nextPosition(E),W.debug("Trying new position",E),X?W.set.position(E,N):!1}if(!J.lastResort){return W.debug("Popup could not find a position to display",X),W.error(f.cannotPlace,s),W.remove.attempts(),W.remove.loading(),W.reset(),J.onUnplaceable.call(X,s),!1}W.debug("No position found, showing with last position")}return W.debug("Position is on stage",E),W.remove.attempts(),W.remove.loading(),J.setFluidWidth&&W.is.fluid()&&W.set.fluidWidth(N),!0},fluidWidth:function(r){r=r||W.get.calculations(),W.debug("Automatically setting element width to parent width",r.parent.width),X.css("width",r.container.width)},variation:function(r){r=r||W.get.variation(),r&&W.has.popup()&&(W.verbose("Adding variation to popup",r),X.addClass(r))},visible:function(){Q.addClass(g.visible)}},remove:{loading:function(){X.removeClass(g.loading)},variation:function(r){r=r||W.get.variation(),r&&(W.verbose("Removing variation",r),X.removeClass(r))},visible:function(){Q.removeClass(g.visible)},attempts:function(){W.verbose("Resetting all searched positions"),u=0,G=!1}},bind:{events:function(){W.debug("Binding popup events to module"),"click"==J.on&&Q.on("click"+l,W.toggle),"hover"==J.on&&w&&Q.on("touchstart"+l,W.event.touchstart),W.get.startEvent()&&Q.on(W.get.startEvent()+l,W.event.start).on(W.get.endEvent()+l,W.event.end),J.target&&W.debug("Target set to element",ab),n.on("resize"+B,W.event.resize)},popup:function(){W.verbose("Allowing hover events on popup to prevent closing"),X&&W.has.popup()&&X.on("mouseenter"+l,W.event.start).on("mouseleave"+l,W.event.end)},close:function(){(J.hideOnScroll===!0||"auto"==J.hideOnScroll&&"click"!=J.on)&&V.one(W.get.scrollEvent()+B,W.event.hideGracefully),"hover"==J.on&&p&&(W.verbose("Binding popup close event to document"),A.on("touchstart"+B,function(r){W.verbose("Touched away from popup"),W.event.hideGracefully.call(s,r)})),"click"==J.on&&J.closable&&(W.verbose("Binding popup close event to document"),A.on("click"+B,function(r){W.verbose("Clicked away from popup"),W.event.hideGracefully.call(s,r)}))}},unbind:{events:function(){n.off(B),Q.off(l)},close:function(){A.off(B),V.off(B)}},has:{popup:function(){return X&&X.length>0}},is:{offstage:function(C,D){var r=[];return c.each(C,function(F,E){E<-J.jitter&&(W.debug("Position exceeds allowable distance from edge",F,E,D),r.push(F))}),r.length>0},svg:function(r){return W.supports.svg()&&r instanceof SVGGraphicsElement},active:function(){return Q.hasClass(g.active)},animating:function(){return X!==a&&X.hasClass(g.animating)},fluid:function(){return X!==a&&X.hasClass(g.fluid)},visible:function(){return X!==a&&X.hasClass(g.visible)},dropdown:function(){return Q.hasClass(g.dropdown)},hidden:function(){return !W.is.visible()},rtl:function(){return"rtl"==Q.css("direction")}},reset:function(){W.remove.visible(),J.preserve?c.fn.transition!==a&&X.transition("remove transition"):W.removePopup()},setting:function(r,C){if(c.isPlainObject(r)){c.extend(!0,J,r)}else{if(C===a){return J[r]}J[r]=C}},internal:function(r,C){if(c.isPlainObject(r)){c.extend(!0,W,r)}else{if(C===a){return W[r]}W[r]=C}},debug:function(){!J.silent&&J.debug&&(J.performance?W.performance.log(arguments):(W.debug=Function.prototype.bind.call(console.info,console,J.name+":"),W.debug.apply(console,arguments)))},verbose:function(){!J.silent&&J.verbose&&J.debug&&(J.performance?W.performance.log(arguments):(W.verbose=Function.prototype.bind.call(console.info,console,J.name+":"),W.verbose.apply(console,arguments)))},error:function(){J.silent||(W.error=Function.prototype.bind.call(console.error,console,J.name+":"),W.error.apply(console,arguments))},performance:{log:function(D){var C,E,r;J.performance&&(C=(new Date).getTime(),r=v||C,E=C-r,v=C,k.push({Name:D[0],Arguments:[].slice.call(D,1)||"",Element:s,"Execution Time":E})),clearTimeout(W.performance.timer),W.performance.timer=setTimeout(W.performance.display,500)},display:function(){var r=J.name+":",C=0;v=!1,clearTimeout(W.performance.timer),c.each(k,function(E,D){C+=D["Execution Time"]}),r+=" "+C+"ms",z&&(r+=" '"+z+"'"),(console.group!==a||console.table!==a)&&k.length>0&&(console.groupCollapsed(r),console.table?console.table(k):c.each(k,function(E,D){console.log(D.Name+": "+D["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(D,M,I){var F,E,C,L=o;return M=M||q,I=s||I,"string"==typeof D&&L!==a&&(D=D.split(/[\. ]/),F=D.length-1,c.each(D,function(O,N){var r=O!=F?N+D[O+1].charAt(0).toUpperCase()+D[O+1].slice(1):D;if(c.isPlainObject(L[r])&&O!=F){L=L[r]}else{if(L[r]!==a){return E=L[r],!1}if(!c.isPlainObject(L[N])||O==F){return L[N]!==a?(E=L[N],!1):!1}L=L[N]}})),c.isFunction(E)?C=E.apply(I,M):E!==a&&(C=E),c.isArray(y)?y.push(C):y!==a?y=[y,C]:C!==a&&(y=C),E}},i?(o===a&&W.initialize(),W.invoke(t)):(o!==a&&o.invoke("destroy"),W.initialize())}),y!==a?y:this},c.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:b,addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:b,prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(h){var g=/[&<>"'`]/g,k=/[&<>"'`]/,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=function(i){return f[i]};return k.test(h)?h.replace(g,j):h},popup:function(e){var g="",f=c.fn.popup.settings.templates.escape;return typeof e!==a&&(typeof e.title!==a&&e.title&&(e.title=f(e.title),g+='<div class="header">'+e.title+"</div>"),typeof e.content!==a&&e.content&&(e.content=f(e.content),g+='<div class="content">'+e.content+"</div>")),g}}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();c.fn.progress=function(m){var f,j=c(this),e=j.selector||"",n=(new Date).getTime(),g=[],i=arguments[0],k="string"==typeof i,h=[].slice.call(arguments,1);return j.each(function(){var I,E,r=c.isPlainObject(m)?c.extend(!0,{},c.fn.progress.settings,m):c.extend({},c.fn.progress.settings),D=r.className,o=r.metadata,B=r.namespace,K=r.selector,G=r.error,F="."+B,H="module-"+B,l=c(this),J=c(this).find(K.bar),t=c(this).find(K.progress),u=c(this).find(K.label),s=this,q=l.data(H),z=!1;E={initialize:function(){E.debug("Initializing progress bar",r),E.set.duration(),E.set.transitionEvent(),E.read.metadata(),E.read.settings(),E.instantiate()},instantiate:function(){E.verbose("Storing instance of progress",E),q=E,l.data(H,E)},destroy:function(){E.verbose("Destroying previous progress for",l),clearInterval(q.interval),E.remove.state(),l.removeData(H),q=a},reset:function(){E.remove.nextValue(),E.update.progress(0)},complete:function(){(E.percent===a||E.percent<100)&&(E.remove.progressPoll(),E.set.percent(100))},read:{metadata:function(){var p={percent:l.data(o.percent),total:l.data(o.total),value:l.data(o.value)};p.percent&&(E.debug("Current percent value set from metadata",p.percent),E.set.percent(p.percent)),p.total&&(E.debug("Total value set from metadata",p.total),E.set.total(p.total)),p.value&&(E.debug("Current value set from metadata",p.value),E.set.value(p.value),E.set.progress(p.value))},settings:function(){r.total!==!1&&(E.debug("Current total set in settings",r.total),E.set.total(r.total)),r.value!==!1&&(E.debug("Current value set in settings",r.value),E.set.value(r.value),E.set.progress(E.value)),r.percent!==!1&&(E.debug("Current percent set in settings",r.percent),E.set.percent(r.percent))}},bind:{transitionEnd:function(v){var p=E.get.transitionEnd();J.one(p+F,function(w){clearTimeout(E.failSafeTimer),v.call(this,w)}),E.failSafeTimer=setTimeout(function(){J.triggerHandler(p)},r.duration+r.failSafeDelay),E.verbose("Adding fail safe timer",E.timer)}},increment:function(w){var v,x,p;E.has.total()?(x=E.get.value(),w=w||1,p=x+w):(x=E.get.percent(),w=w||E.get.randomValue(),p=x+w,v=100,E.debug("Incrementing percentage by",x,p)),p=E.get.normalizedValue(p),E.set.progress(p)},decrement:function(w){var v,x,p=E.get.total();p?(v=E.get.value(),w=w||1,x=v-w,E.debug("Decrementing value by",w,v)):(v=E.get.percent(),w=w||E.get.randomValue(),x=v-w,E.debug("Decrementing percentage by",w,v)),x=E.get.normalizedValue(x),E.set.progress(x)},has:{progressPoll:function(){return E.progressPoll},total:function(){return E.get.total()!==!1}},get:{text:function(w){var v=E.value||0,y=E.total||0,p=z?E.get.displayPercent():E.percent||0,x=E.total>0?y-v:100-p;return w=w||"",w=w.replace("{value}",v).replace("{total}",y).replace("{left}",x).replace("{percent}",p),E.verbose("Adding variables to progress bar text",w),w},normalizedValue:function(p){if(0>p){return E.debug("Value cannot decrement below 0"),0}if(E.has.total()){if(p>E.total){return E.debug("Value cannot increment above total",E.total),E.total}}else{if(p>100){return E.debug("Value cannot increment above 100 percent"),100}}return p},updateInterval:function(){return"auto"==r.updateInterval?r.duration:r.updateInterval},randomValue:function(){return E.debug("Generating random increment percentage"),Math.floor(Math.random()*r.random.max+r.random.min)},numericValue:function(p){return"string"==typeof p?""!==p.replace(/[^\d.]/g,"")?+p.replace(/[^\d.]/g,""):!1:p},transitionEnd:function(){var v,p=d.createElement("element"),w={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(v in w){if(p.style[v]!==a){return w[v]}}},displayPercent:function(){var w=J.width(),v=l.width(),x=parseInt(J.css("min-width"),10),p=w>x?w/v*100:E.percent;return r.precision>0?Math.round(p*(10*r.precision))/(10*r.precision):Math.round(p)},percent:function(){return E.percent||0},value:function(){return E.nextValue||E.value||0},total:function(){return E.total||!1}},create:{progressPoll:function(){E.progressPoll=setTimeout(function(){E.update.toNextValue(),E.remove.progressPoll()},E.get.updateInterval())}},is:{complete:function(){return E.is.success()||E.is.warning()||E.is.error()},success:function(){return l.hasClass(D.success)},warning:function(){return l.hasClass(D.warning)},error:function(){return l.hasClass(D.error)},active:function(){return l.hasClass(D.active)},visible:function(){return l.is(":visible")}},remove:{progressPoll:function(){E.verbose("Removing progress poll timer"),E.progressPoll&&(clearTimeout(E.progressPoll),delete E.progressPoll)},nextValue:function(){E.verbose("Removing progress value stored for next update"),delete E.nextValue},state:function(){E.verbose("Removing stored state"),delete E.total,delete E.percent,delete E.value},active:function(){E.verbose("Removing active state"),l.removeClass(D.active)},success:function(){E.verbose("Removing success state"),l.removeClass(D.success)},warning:function(){E.verbose("Removing warning state"),l.removeClass(D.warning)},error:function(){E.verbose("Removing error state"),l.removeClass(D.error)}},set:{barWidth:function(p){p>100?E.error(G.tooHigh,p):0>p?E.error(G.tooLow,p):(J.css("width",p+"%"),l.attr("data-percent",parseInt(p,10)))},duration:function(p){p=p||r.duration,p="number"==typeof p?p+"ms":p,E.verbose("Setting progress bar transition duration",p),J.css({"transition-duration":p})},percent:function(p){p="string"==typeof p?+p.replace("%",""):p,p=r.precision>0?Math.round(p*(10*r.precision))/(10*r.precision):Math.round(p),E.percent=p,E.has.total()||(E.value=r.precision>0?Math.round(p/100*E.total*(10*r.precision))/(10*r.precision):Math.round(p/100*E.total*10)/10,r.limitValues&&(E.value=E.value>100?100:E.value<0?0:E.value)),E.set.barWidth(p),E.set.labelInterval(),E.set.labels(),r.onChange.call(s,p,E.value,E.total)},labelInterval:function(){var p=function(){E.verbose("Bar finished animating, removing continuous label updates"),clearInterval(E.interval),z=!1,E.set.labels()};clearInterval(E.interval),E.bind.transitionEnd(p),z=!0,E.interval=setInterval(function(){var v=c.contains(d.documentElement,s);v||(clearInterval(E.interval),z=!1),E.set.labels()},r.framerate)},labels:function(){E.verbose("Setting both bar progress and outer label text"),E.set.barLabel(),E.set.state()},label:function(p){p=p||"",p&&(p=E.get.text(p),E.verbose("Setting label to text",p),u.text(p))},state:function(p){p=p!==a?p:E.percent,100===p?r.autoSuccess&&!(E.is.warning()||E.is.error()||E.is.success())?(E.set.success(),E.debug("Automatically triggering success at 100%")):(E.verbose("Reached 100% removing active state"),E.remove.active(),E.remove.progressPoll()):p>0?(E.verbose("Adjusting active progress bar label",p),E.set.active()):(E.remove.active(),E.set.label(r.text.active))},barLabel:function(p){p!==a?t.text(E.get.text(p)):"ratio"==r.label&&E.total?(E.verbose("Adding ratio to bar label"),t.text(E.get.text(r.text.ratio))):"percent"==r.label&&(E.verbose("Adding percentage to bar label"),t.text(E.get.text(r.text.percent)))},active:function(p){p=p||r.text.active,E.debug("Setting active state"),r.showActivity&&!E.is.active()&&l.addClass(D.active),E.remove.warning(),E.remove.error(),E.remove.success(),p=r.onLabelUpdate("active",p,E.value,E.total),p&&E.set.label(p),E.bind.transitionEnd(function(){r.onActive.call(s,E.value,E.total)})},success:function(p){p=p||r.text.success||r.text.active,E.debug("Setting success state"),l.addClass(D.success),E.remove.active(),E.remove.warning(),E.remove.error(),E.complete(),r.text.success?(p=r.onLabelUpdate("success",p,E.value,E.total),E.set.label(p)):(p=r.onLabelUpdate("active",p,E.value,E.total),E.set.label(p)),E.bind.transitionEnd(function(){r.onSuccess.call(s,E.total)})},warning:function(p){p=p||r.text.warning,E.debug("Setting warning state"),l.addClass(D.warning),E.remove.active(),E.remove.success(),E.remove.error(),E.complete(),p=r.onLabelUpdate("warning",p,E.value,E.total),p&&E.set.label(p),E.bind.transitionEnd(function(){r.onWarning.call(s,E.value,E.total)})},error:function(p){p=p||r.text.error,E.debug("Setting error state"),l.addClass(D.error),E.remove.active(),E.remove.success(),E.remove.warning(),E.complete(),p=r.onLabelUpdate("error",p,E.value,E.total),p&&E.set.label(p),E.bind.transitionEnd(function(){r.onError.call(s,E.value,E.total)})},transitionEvent:function(){I=E.get.transitionEnd()},total:function(p){E.total=p},value:function(p){E.value=p},progress:function(p){E.has.progressPoll()?(E.debug("Updated within interval, setting next update to use new value",p),E.set.nextValue(p)):(E.debug("First update in progress update interval, immediately updating",p),E.update.progress(p),E.create.progressPoll())},nextValue:function(p){E.nextValue=p}},update:{toNextValue:function(){var p=E.nextValue;p&&(E.debug("Update interval complete using last updated value",p),E.update.progress(p),E.remove.nextValue())},progress:function(v){var p;v=E.get.numericValue(v),v===!1&&E.error(G.nonNumeric,v),v=E.get.normalizedValue(v),E.has.total()?(E.set.value(v),p=v/E.total*100,E.debug("Calculating percent complete from total",p),E.set.percent(p)):(p=v,E.debug("Setting value to exact percentage value",p),E.set.percent(p))}},setting:function(p,v){if(E.debug("Changing setting",p,v),c.isPlainObject(p)){c.extend(!0,r,p)}else{if(v===a){return r[p]}c.isPlainObject(r[p])?c.extend(!0,r[p],v):r[p]=v}},internal:function(p,v){if(c.isPlainObject(p)){c.extend(!0,E,p)}else{if(v===a){return E[p]}E[p]=v}},debug:function(){!r.silent&&r.debug&&(r.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,r.name+":"),E.debug.apply(console,arguments)))},verbose:function(){!r.silent&&r.verbose&&r.debug&&(r.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),E.verbose.apply(console,arguments)))},error:function(){r.silent||(E.error=Function.prototype.bind.call(console.error,console,r.name+":"),E.error.apply(console,arguments))},performance:{log:function(w){var v,x,p;r.performance&&(v=(new Date).getTime(),p=n||v,x=v-p,n=v,g.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:s,"Execution Time":x})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var p=r.name+":",v=0;n=!1,clearTimeout(E.performance.timer),c.each(g,function(x,w){v+=w["Execution Time"]}),p+=" "+v+"ms",e&&(p+=" '"+e+"'"),(console.group!==a||console.table!==a)&&g.length>0&&(console.groupCollapsed(p),console.table?console.table(g):c.each(g,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(w,C,v){var y,x,p,A=q;return C=C||h,v=s||v,"string"==typeof w&&A!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(N,M){var L=N!=y?M+w[N+1].charAt(0).toUpperCase()+w[N+1].slice(1):w;if(c.isPlainObject(A[L])&&N!=y){A=A[L]}else{if(A[L]!==a){return x=A[L],!1}if(!c.isPlainObject(A[M])||N==y){return A[M]!==a?(x=A[M],!1):(E.error(G.method,w),!1)}A=A[M]}})),c.isFunction(x)?p=x.apply(v,C):x!==a&&(p=x),c.isArray(f)?f.push(p):f!==a?f=[f,p]:p!==a&&(f=p),x}},k?(q===a&&E.initialize(),E.invoke(i)):(q!==a&&q.invoke("destroy"),E.initialize())}),f!==a?f:this},c.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1000/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(h,g,j,f){return g},onChange:function(g,f,h){},onSuccess:function(f){},onActive:function(g,f){},onError:function(g,f){},onWarning:function(g,f){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.rating=function(m){var g,f=c(this),j=f.selector||"",e=(new Date).getTime(),p=[],h=arguments[0],i="string"==typeof h,k=[].slice.call(arguments,1);return f.each(function(){var u,t,o=c.isPlainObject(m)?c.extend(!0,{},c.fn.rating.settings,m):c.extend({},c.fn.rating.settings),s=o.namespace,n=o.className,r=o.metadata,E=o.selector,A=(o.error,"."+s),z="module-"+s,B=this,l=c(this).data(z),D=c(this),q=D.find(E.icon);t={initialize:function(){t.verbose("Initializing rating module",o),0===q.length&&t.setup.layout(),o.interactive?t.enable():t.disable(),t.set.initialLoad(),t.set.rating(t.get.initialRating()),t.remove.initialLoad(),t.instantiate()},instantiate:function(){t.verbose("Instantiating module",o),l=t,D.data(z,t)},destroy:function(){t.verbose("Destroying previous instance",l),t.remove.events(),D.removeData(z)},refresh:function(){q=D.find(E.icon)},setup:{layout:function(){var v=t.get.maxRating(),w=c.fn.rating.settings.templates.icon(v);t.debug("Generating icon html dynamically"),D.html(w),t.refresh()}},event:{mouseenter:function(){var v=c(this);v.nextAll().removeClass(n.selected),D.addClass(n.selected),v.addClass(n.selected).prevAll().addClass(n.selected)},mouseleave:function(){D.removeClass(n.selected),q.removeClass(n.selected)},click:function(){var w=c(this),y=t.get.rating(),v=q.index(w)+1,x="auto"==o.clearable?1===q.length:o.clearable;x&&y==v?t.clearRating():t.set.rating(v)}},clearRating:function(){t.debug("Clearing current rating"),t.set.rating(0)},bind:{events:function(){t.verbose("Binding events"),D.on("mouseenter"+A,E.icon,t.event.mouseenter).on("mouseleave"+A,E.icon,t.event.mouseleave).on("click"+A,E.icon,t.event.click)}},remove:{events:function(){t.verbose("Removing events"),D.off(A)},initialLoad:function(){u=!1}},enable:function(){t.debug("Setting rating to interactive mode"),t.bind.events(),D.removeClass(n.disabled)},disable:function(){t.debug("Setting rating to read-only mode"),t.remove.events(),D.addClass(n.disabled)},is:{initialLoad:function(){return u}},get:{initialRating:function(){return D.data(r.rating)!==a?(D.removeData(r.rating),D.data(r.rating)):o.initialRating},maxRating:function(){return D.data(r.maxRating)!==a?(D.removeData(r.maxRating),D.data(r.maxRating)):o.maxRating},rating:function(){var v=q.filter("."+n.active).length;return t.verbose("Current rating retrieved",v),v}},set:{rating:function(w){var v=w-1>=0?w-1:0,x=q.eq(v);D.removeClass(n.selected),q.removeClass(n.selected).removeClass(n.active),w>0&&(t.verbose("Setting current rating to",w),x.prevAll().addBack().addClass(n.active)),t.is.initialLoad()||o.onRate.call(B,w)},initialLoad:function(){u=!0}},setting:function(v,w){if(t.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,o,v)}else{if(w===a){return o[v]}c.isPlainObject(o[v])?c.extend(!0,o[v],w):o[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,t,v)}else{if(w===a){return t[v]}t[v]=w}},debug:function(){!o.silent&&o.debug&&(o.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,o.name+":"),t.debug.apply(console,arguments)))},verbose:function(){!o.silent&&o.verbose&&o.debug&&(o.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),t.verbose.apply(console,arguments)))},error:function(){o.silent||(t.error=Function.prototype.bind.call(console.error,console,o.name+":"),t.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;o.performance&&(w=(new Date).getTime(),v=e||w,y=w-v,e=w,p.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:B,"Execution Time":y})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,500)},display:function(){var v=o.name+":",w=0;e=!1,clearTimeout(t.performance.timer),c.each(p,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",j&&(v+=" '"+j+"'"),f.length>1&&(v+=" ("+f.length+")"),(console.group!==a||console.table!==a)&&p.length>0&&(console.groupCollapsed(v),console.table?console.table(p):c.each(p,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(x,F,w){var C,y,v,G=l;return F=F||k,w=B||w,"string"==typeof x&&G!==a&&(x=x.split(/[\. ]/),C=x.length-1,c.each(x,function(J,I){var H=J!=C?I+x[J+1].charAt(0).toUpperCase()+x[J+1].slice(1):x;if(c.isPlainObject(G[H])&&J!=C){G=G[H]}else{if(G[H]!==a){return y=G[H],!1}if(!c.isPlainObject(G[I])||J==C){return G[I]!==a?(y=G[I],!1):!1}G=G[I]}})),c.isFunction(y)?v=y.apply(w,F):y!==a&&(v=y),c.isArray(g)?g.push(v):g!==a?g=[g,v]:v!==a&&(g=v),y}},i?(l===a&&t.initialize(),t.invoke(h)):(l!==a&&l.invoke("destroy"),t.initialize())}),g!==a?g:this},c.fn.rating.settings={name:"Rating",namespace:"rating",slent:!1,debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",fireOnInit:!1,onRate:function(f){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(g){for(var f=1,h="";g>=f;){h+='<i class="icon"></i>',f++}return h}}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.search=function(g){var m,e=c(this),p=e.selector||"",h=(new Date).getTime(),k=[],n=arguments[0],j="string"==typeof n,i=[].slice.call(arguments,1);return c(this).each(function(){var N,V=c.isPlainObject(g)?c.extend(!0,{},c.fn.search.settings,g):c.extend({},c.fn.search.settings),M=V.className,U=V.metadata,B=V.regExp,W=V.fields,t=V.selector,u=V.error,J=V.namespace,z="."+J,Q=J+"-module",l=c(this),f=l.find(t.prompt),L=l.find(t.searchButton),o=l.find(t.results),r=l.find(t.result),H=l.find(t.category),G=this,s=l.data(Q),I=!1,K=!1;N={initialize:function(){N.verbose("Initializing module"),N.determine.searchFields(),N.bind.events(),N.set.type(),N.create.results(),N.instantiate()},instantiate:function(){N.verbose("Storing instance of module",N),s=N,l.data(Q,N)},destroy:function(){N.verbose("Destroying instance"),l.off(z).removeData(Q)},refresh:function(){N.debug("Refreshing selector cache"),f=l.find(t.prompt),L=l.find(t.searchButton),H=l.find(t.category),o=l.find(t.results),r=l.find(t.result)},refreshResults:function(){o=l.find(t.results),r=l.find(t.result)},bind:{events:function(){N.verbose("Binding events to search"),V.automatic&&(l.on(N.get.inputEvent()+z,t.prompt,N.event.input),f.attr("autocomplete","off")),l.on("focus"+z,t.prompt,N.event.focus).on("blur"+z,t.prompt,N.event.blur).on("keydown"+z,t.prompt,N.handleKeyboard).on("click"+z,t.searchButton,N.query).on("mousedown"+z,t.results,N.event.result.mousedown).on("mouseup"+z,t.results,N.event.result.mouseup).on("click"+z,t.result,N.event.result.click)}},determine:{searchFields:function(){g&&g.searchFields!==a&&(V.searchFields=g.searchFields)}},event:{input:function(){clearTimeout(N.timer),N.timer=setTimeout(N.query,V.searchDelay)},focus:function(){N.set.focus(),V.searchOnFocus&&N.has.minimumCharacters()&&N.query(function(){N.can.show()&&N.showResults()})},blur:function(w){var v=d.activeElement===this,q=function(){N.cancel.query(),N.remove.focus(),N.timer=setTimeout(N.hideResults,V.hideDelay)};v||(K=!1,N.resultsClicked?(N.debug("Determining if user action caused search to close"),l.one("click.close"+z,t.results,function(x){return N.is.inMessage(x)||I?void f.focus():(I=!1,void (N.is.animating()||N.is.hidden()||q()))})):(N.debug("Input blurred without user action, closing results"),q()))},result:{mousedown:function(){N.resultsClicked=!0},mouseup:function(){N.resultsClicked=!1},click:function(w){N.debug("Search result selected");var y=c(this),v=y.find(t.title).eq(0),C=y.is("a[href]")?y:y.find("a[href]").eq(0),q=C.attr("href")||!1,E=C.attr("target")||!1,x=(v.html(),v.length>0?v.text():!1),A=N.get.results(),D=y.data(U.result)||N.get.result(x,A);return c.isFunction(V.onSelect)&&V.onSelect.call(G,D,A)===!1?(N.debug("Custom onSelect callback cancelled default select action"),void (I=!0)):(N.hideResults(),x&&N.set.value(x),void (q&&(N.verbose("Opening search link found in result",C),"_blank"==E||w.ctrlKey?b.open(q):b.location.href=q)))}}},handleKeyboard:function(A){var E,w=l.find(t.result),y=l.find(t.category),v=w.filter("."+M.active),D=w.index(v),q=w.length,F=v.length>0,x=A.which,C={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(x==C.escape&&(N.verbose("Escape key pressed, blurring search field"),N.hideResults(),K=!0),N.is.visible()){if(x==C.enter){if(N.verbose("Enter key pressed, selecting active result"),w.filter("."+M.active).length>0){return N.event.result.click.call(w.filter("."+M.active),A),A.preventDefault(),!1}}else{x==C.upArrow&&F?(N.verbose("Up key pressed, changing active result"),E=0>D-1?D:D-1,y.removeClass(M.active),w.removeClass(M.active).eq(E).addClass(M.active).closest(y).addClass(M.active),A.preventDefault()):x==C.downArrow&&(N.verbose("Down key pressed, changing active result"),E=D+1>=q?D:D+1,y.removeClass(M.active),w.removeClass(M.active).eq(E).addClass(M.active).closest(y).addClass(M.active),A.preventDefault())}}else{x==C.enter&&(N.verbose("Enter key pressed, executing query"),N.query(),N.set.buttonPressed(),f.one("keyup",N.remove.buttonFocus))}},setup:{api:function(v,w){var q={debug:V.debug,on:!1,cache:!0,action:"search",urlData:{query:v},onSuccess:function(x){N.parse.response.call(G,x,v),w()},onFailure:function(){N.displayMessage(u.serverError),w()},onAbort:function(x){},onError:N.error};c.extend(!0,q,V.apiSettings),N.verbose("Setting up API request",q),l.api(q)}},can:{useAPI:function(){return c.fn.api!==a},show:function(){return N.is.focused()&&!N.is.visible()&&!N.is.empty()},transition:function(){return V.transition&&c.fn.transition!==a&&l.transition("is supported")}},is:{animating:function(){return o.hasClass(M.animating)},hidden:function(){return o.hasClass(M.hidden)},inMessage:function(v){if(v.target){var q=c(v.target),w=c.contains(d.documentElement,v.target);return w&&q.closest(t.message).length>0}},empty:function(){return""===o.html()},visible:function(){return o.filter(":visible").length>0},focused:function(){return f.filter(":focus").length>0}},get:{inputEvent:function(){var v=f[0],q=v!==a&&v.oninput!==a?"input":v!==a&&v.onpropertychange!==a?"propertychange":"keyup";return q},value:function(){return f.val()},results:function(){var q=l.data(U.results);return q},result:function(v,x){var w=["title","id"],q=!1;return v=v!==a?v:N.get.value(),x=x!==a?x:N.get.results(),"category"===V.type?(N.debug("Finding result that matches",v),c.each(x,function(A,y){return c.isArray(y.results)&&(q=N.search.object(v,y.results,w)[0])?!1:void 0})):(N.debug("Finding result in results object",v),q=N.search.object(v,x,w)[0]),q||!1}},select:{firstResult:function(){N.verbose("Selecting first result"),r.first().addClass(M.active)}},set:{focus:function(){l.addClass(M.focus)},loading:function(){l.addClass(M.loading)},value:function(q){N.verbose("Setting search input value",q),f.val(q)},type:function(q){q=q||V.type,"category"==V.type&&l.addClass(V.type)},buttonPressed:function(){L.addClass(M.pressed)}},remove:{loading:function(){l.removeClass(M.loading)},focus:function(){l.removeClass(M.focus)},buttonPressed:function(){L.removeClass(M.pressed)}},query:function(v){v=c.isFunction(v)?v:function(){};var w=N.get.value(),q=N.read.cache(w);v=v||function(){},N.has.minimumCharacters()?(q?(N.debug("Reading result from cache",w),N.save.results(q.results),N.addResults(q.html),N.inject.id(q.results),v()):(N.debug("Querying for",w),c.isPlainObject(V.source)||c.isArray(V.source)?(N.search.local(w),v()):N.can.useAPI()?N.search.remote(w,v):(N.error(u.source),v())),V.onSearchQuery.call(G,w)):N.hideResults()},search:{local:function(v){var q,w=N.search.object(v,V.content);N.set.loading(),N.save.results(w),N.debug("Returned local search results",w),q=N.generateResults({results:w}),N.remove.loading(),N.addResults(q),N.inject.id(w),N.write.cache(v,{html:q,results:w})},remote:function(q,v){v=c.isFunction(v)?v:function(){},l.api("is loading")&&l.api("abort"),N.setup.api(q,v),l.api("query")},object:function(w,D,A){var v=[],y=[],x=w.toString().replace(B.escape,"\\$&"),q=new RegExp(B.beginsWith+x,"i"),C=function(F,P){var E=-1==c.inArray(P,v),O=-1==c.inArray(P,y);E&&O&&F.push(P)};return D=D||V.source,A=A!==a?A:V.searchFields,c.isArray(A)||(A=[A]),D===a||D===!1?(N.error(u.source),[]):(c.each(A,function(E,F){c.each(D,function(P,R){var O="string"==typeof R[F];O&&(-1!==R[F].search(q)?C(v,R):V.searchFullText&&N.fuzzySearch(w,R[F])&&C(y,R))})}),c.merge(v,y))}},fuzzySearch:function(y,w){var C=w.length,v=y.length;if("string"!=typeof y){return !1}if(y=y.toLowerCase(),w=w.toLowerCase(),v>C){return !1}if(v===C){return y===w}y:for(var A=0,q=0;v>A;A++){for(var x=y.charCodeAt(A);C>q;){if(w.charCodeAt(q++)===x){continue y}}return !1}return !0},parse:{response:function(v,q){var w=N.generateResults(v);N.verbose("Parsing server response",v),v!==a&&q!==a&&v[W.results]!==a&&(N.addResults(w),N.inject.id(v[W.results]),N.write.cache(q,{html:w,results:v[W.results]}),N.save.results(v[W.results]))}},cancel:{query:function(){N.can.useAPI()&&l.api("abort")}},has:{minimumCharacters:function(){var v=N.get.value(),q=v.length;return q>=V.minCharacters},results:function(){if(0===o.length){return !1}var q=o.html();return""!=q}},clear:{cache:function(v){var q=l.data(U.cache);v?v&&q&&q[v]&&(N.debug("Removing value from cache",v),delete q[v],l.data(U.cache,q)):(N.debug("Clearing cache",v),l.removeData(U.cache))}},read:{cache:function(v){var q=l.data(U.cache);return V.cache?(N.verbose("Checking cache for generated html for query",v),"object"==typeof q&&q[v]!==a?q[v]:!1):!1}},create:{id:function(w,v){var y,x,q=w+1;return v!==a?(y=String.fromCharCode(97+v),x=y+q,N.verbose("Creating category result id",x)):(x=q,N.verbose("Creating result id",x)),x},results:function(){0===o.length&&(o=c("<div />").addClass(M.results).appendTo(l))}},inject:{result:function(v,q,x){N.verbose("Injecting result into results");var w=x!==a?o.children().eq(x).children(t.result).eq(q):o.children(t.result).eq(q);N.verbose("Injecting results metadata",w),w.data(U.result,v)},id:function(q){N.debug("Injecting unique ids into results");var w=0,v=0;return"category"===V.type?c.each(q,function(y,x){v=0,c.each(x.results,function(D,A){var C=x.results[D];C.id===a&&(C.id=N.create.id(v,w)),N.inject.result(C,v,w),v++}),w++}):c.each(q,function(y,A){var x=q[y];x.id===a&&(x.id=N.create.id(v)),N.inject.result(x,v),v++}),q}},save:{results:function(q){N.verbose("Saving current search results to metadata",q),l.data(U.results,q)}},write:{cache:function(v,q){var w=l.data(U.cache)!==a?l.data(U.cache):{};V.cache&&(N.verbose("Writing generated html to cache",v,q),w[v]=q,l.data(U.cache,w))}},addResults:function(q){return c.isFunction(V.onResultsAdd)&&V.onResultsAdd.call(o,q)===!1?(N.debug("onResultsAdd callback cancelled default action"),!1):void (q?(o.html(q),N.refreshResults(),V.selectFirstResult&&N.select.firstResult(),N.showResults()):N.hideResults(function(){o.empty()}))},showResults:function(q){q=c.isFunction(q)?q:function(){},K||!N.is.visible()&&N.has.results()&&(N.can.transition()?(N.debug("Showing results with css animations"),o.transition({animation:V.transition+" in",debug:V.debug,verbose:V.verbose,duration:V.duration,onComplete:function(){q()},queue:!0})):(N.debug("Showing results with javascript"),o.stop().fadeIn(V.duration,V.easing)),V.onResultsOpen.call(o))},hideResults:function(q){q=c.isFunction(q)?q:function(){},N.is.visible()&&(N.can.transition()?(N.debug("Hiding results with css animations"),o.transition({animation:V.transition+" out",debug:V.debug,verbose:V.verbose,duration:V.duration,onComplete:function(){q()},queue:!0})):(N.debug("Hiding results with javascript"),o.stop().fadeOut(V.duration,V.easing)),V.onResultsClose.call(o))},generateResults:function(w){N.debug("Generating html from response",w);var y=V.templates[V.type],v=c.isPlainObject(w[W.results])&&!c.isEmptyObject(w[W.results]),x=c.isArray(w[W.results])&&w[W.results].length>0,q="";return v||x?(V.maxResults>0&&(v?"standard"==V.type&&N.error(u.maxResults):w[W.results]=w[W.results].slice(0,V.maxResults)),c.isFunction(y)?q=y(w,W):N.error(u.noTemplate,!1)):V.showNoResults&&(q=N.displayMessage(u.noResults,"empty")),V.onResults.call(G,w),q},displayMessage:function(v,q){return q=q||"standard",N.debug("Displaying message",v,q),N.addResults(V.templates.message(v,q)),V.templates.message(v,q)},setting:function(q,v){if(c.isPlainObject(q)){c.extend(!0,V,q)}else{if(v===a){return V[q]}V[q]=v}},internal:function(q,v){if(c.isPlainObject(q)){c.extend(!0,N,q)}else{if(v===a){return N[q]}N[q]=v}},debug:function(){!V.silent&&V.debug&&(V.performance?N.performance.log(arguments):(N.debug=Function.prototype.bind.call(console.info,console,V.name+":"),N.debug.apply(console,arguments)))},verbose:function(){!V.silent&&V.verbose&&V.debug&&(V.performance?N.performance.log(arguments):(N.verbose=Function.prototype.bind.call(console.info,console,V.name+":"),N.verbose.apply(console,arguments)))},error:function(){V.silent||(N.error=Function.prototype.bind.call(console.error,console,V.name+":"),N.error.apply(console,arguments))},performance:{log:function(w){var v,x,q;V.performance&&(v=(new Date).getTime(),q=h||v,x=v-q,h=v,k.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:G,"Execution Time":x})),clearTimeout(N.performance.timer),N.performance.timer=setTimeout(N.performance.display,500)},display:function(){var q=V.name+":",v=0;h=!1,clearTimeout(N.performance.timer),c.each(k,function(x,w){v+=w["Execution Time"]}),q+=" "+v+"ms",p&&(q+=" '"+p+"'"),e.length>1&&(q+=" ("+e.length+")"),(console.group!==a||console.table!==a)&&k.length>0&&(console.groupCollapsed(q),console.table?console.table(k):c.each(k,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(v,C,y){var x,w,q,A=s;return C=C||i,y=G||y,"string"==typeof v&&A!==a&&(v=v.split(/[\. ]/),x=v.length-1,c.each(v,function(F,E){var D=F!=x?E+v[F+1].charAt(0).toUpperCase()+v[F+1].slice(1):v;if(c.isPlainObject(A[D])&&F!=x){A=A[D]}else{if(A[D]!==a){return w=A[D],!1}if(!c.isPlainObject(A[E])||F==x){return A[E]!==a?(w=A[E],!1):!1}A=A[E]}})),c.isFunction(w)?q=w.apply(y,C):w!==a&&(q=w),c.isArray(m)?m.push(q):m!==a?m=[m,q]:q!==a&&(m=q),w}},j?(s===a&&N.initialize(),N.invoke(n)):(s!==a&&s.invoke("destroy"),N.initialize())}),m!==a?m:this},c.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(f){},onResults:function(f){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(h){var g=/[&<>"'`]/g,k=/[&<>"'`]/,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=function(i){return f[i]};return k.test(h)?h.replace(g,j):h},message:function(g,f){var h="";return g!==a&&f!==a&&(h+='<div class="message '+f+'">',h+="empty"==f?'<div class="header">No Results</div class="header"><div class="description">'+g+'</div class="description">':' <div class="description">'+g+"</div>",h+="</div>"),h},category:function(e,g){var f="";c.fn.search.settings.templates.escape;return e[g.categoryResults]!==a?(c.each(e[g.categoryResults],function(i,h){h[g.results]!==a&&h.results.length>0&&(f+='<div class="category">',h[g.categoryName]!==a&&(f+='<div class="name">'+h[g.categoryName]+"</div>"),c.each(h.results,function(k,j){f+=j[g.url]?'<a class="result" href="'+j[g.url]+'">':'<a class="result">',j[g.image]!==a&&(f+='<div class="image"> <img src="'+j[g.image]+'"></div>'),f+='<div class="content">',j[g.price]!==a&&(f+='<div class="price">'+j[g.price]+"</div>"),j[g.title]!==a&&(f+='<div class="title">'+j[g.title]+"</div>"),j[g.description]!==a&&(f+='<div class="description">'+j[g.description]+"</div>"),f+="</div>",f+="</a>"}),f+="</div>")}),e[g.action]&&(f+='<a href="'+e[g.action][g.actionURL]+'" class="action">'+e[g.action][g.actionText]+"</a>"),f):!1},standard:function(e,g){var f="";return e[g.results]!==a?(c.each(e[g.results],function(i,h){f+=h[g.url]?'<a class="result" href="'+h[g.url]+'">':'<a class="result">',h[g.image]!==a&&(f+='<div class="image"> <img src="'+h[g.image]+'"></div>'),f+='<div class="content">',h[g.price]!==a&&(f+='<div class="price">'+h[g.price]+"</div>"),h[g.title]!==a&&(f+='<div class="title">'+h[g.title]+"</div>"),h[g.description]!==a&&(f+='<div class="description">'+h[g.description]+"</div>"),f+="</div>",f+="</a>"}),e[g.action]&&(f+='<a href="'+e[g.action][g.actionURL]+'" class="action">'+e[g.action][g.actionText]+"</a>"),f):!1}}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.shape=function(g){var m,e=c(this),p=(c("body"),(new Date).getTime()),h=[],k=arguments[0],n="string"==typeof k,j=[].slice.call(arguments,1),i=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)};return e.each(function(){var K,q,E,l=e.selector||"",B=c.isPlainObject(g)?c.extend(!0,{},c.fn.shape.settings,g):c.extend({},c.fn.shape.settings),J=B.namespace,G=B.selector,F=B.error,H=B.className,f="."+J,I="module-"+J,s=c(this),u=s.find(G.sides),r=s.find(G.side),o=!1,z=this,D=s.data(I);E={initialize:function(){E.verbose("Initializing module for",z),E.set.defaultSide(),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),D=E,s.data(I,D)},destroy:function(){E.verbose("Destroying previous module for",z),s.removeData(I).off(f)},refresh:function(){E.verbose("Refreshing selector cache for",z),s=c(z),u=c(this).find(G.shape),r=c(this).find(G.side)},repaint:function(){E.verbose("Forcing repaint event");var t=u[0]||d.createElement("div");t.offsetWidth},animate:function(t,v){E.verbose("Animating box with properties",t),v=v||function(w){E.verbose("Executing animation callback"),w!==a&&w.stopPropagation(),E.reset(),E.set.active()},B.beforeChange.call(q[0]),E.get.transitionEvent()?(E.verbose("Starting CSS animation"),s.addClass(H.animating),u.css(t).one(E.get.transitionEvent(),v),E.set.duration(B.duration),i(function(){s.addClass(H.animating),K.addClass(H.hidden)})):v()},queue:function(t){E.debug("Queueing animation of",t),u.one(E.get.transitionEvent(),function(){E.debug("Executing queued animation"),setTimeout(function(){s.shape(t)},0)})},reset:function(){E.verbose("Animating states reset"),s.removeClass(H.animating).attr("style","").removeAttr("style"),u.attr("style","").removeAttr("style"),r.attr("style","").removeAttr("style").removeClass(H.hidden),q.removeClass(H.animating).attr("style","").removeAttr("style")},is:{complete:function(){return r.filter("."+H.active)[0]==q[0]},animating:function(){return s.hasClass(H.animating)}},set:{defaultSide:function(){K=s.find("."+B.className.active),q=K.next(G.side).length>0?K.next(G.side):s.find(G.side).first(),o=!1,E.verbose("Active side set to",K),E.verbose("Next side set to",q)},duration:function(t){t=t||B.duration,t="number"==typeof t?t+"ms":t,E.verbose("Setting animation duration",t),(B.duration||0===B.duration)&&u.add(r).css({"-webkit-transition-duration":t,"-moz-transition-duration":t,"-ms-transition-duration":t,"-o-transition-duration":t,"transition-duration":t})},currentStageSize:function(){var w=s.find("."+B.className.active),v=w.outerWidth(!0),x=w.outerHeight(!0);s.css({width:v,height:x})},stageSize:function(){var x=s.clone().addClass(H.loading),w=x.find("."+B.className.active),A=o?x.find(G.side).eq(o):w.next(G.side).length>0?w.next(G.side):x.find(G.side).first(),v="next"==B.width?A.outerWidth(!0):"initial"==B.width?s.width():B.width,y="next"==B.height?A.outerHeight(!0):"initial"==B.height?s.height():B.height;w.removeClass(H.active),A.addClass(H.active),x.insertAfter(s),x.remove(),"auto"!=B.width&&(s.css("width",v+B.jitter),E.verbose("Specifying width during animation",v)),"auto"!=B.height&&(s.css("height",y+B.jitter),E.verbose("Specifying height during animation",y))},nextSide:function(t){o=t,q=r.filter(t),o=r.index(q),0===q.length&&(E.set.defaultSide(),E.error(F.side)),E.verbose("Next side manually set to",q)},active:function(){E.verbose("Setting new side to active",q),r.removeClass(H.active),q.addClass(H.active),B.onChange.call(q[0]),E.set.defaultSide()}},flip:{up:function(){if(E.is.complete()&&!E.is.animating()&&!B.allowRepeats){return void E.debug("Side already visible",q)}if(E.is.animating()){E.queue("flip up")}else{E.debug("Flipping up",q);var t=E.get.transform.up();E.set.stageSize(),E.stage.above(),E.animate(t)}},down:function(){if(E.is.complete()&&!E.is.animating()&&!B.allowRepeats){return void E.debug("Side already visible",q)}if(E.is.animating()){E.queue("flip down")}else{E.debug("Flipping down",q);var t=E.get.transform.down();E.set.stageSize(),E.stage.below(),E.animate(t)}},left:function(){if(E.is.complete()&&!E.is.animating()&&!B.allowRepeats){return void E.debug("Side already visible",q)}if(E.is.animating()){E.queue("flip left")}else{E.debug("Flipping left",q);var t=E.get.transform.left();E.set.stageSize(),E.stage.left(),E.animate(t)}},right:function(){if(E.is.complete()&&!E.is.animating()&&!B.allowRepeats){return void E.debug("Side already visible",q)}if(E.is.animating()){E.queue("flip right")}else{E.debug("Flipping right",q);var t=E.get.transform.right();E.set.stageSize(),E.stage.right(),E.animate(t)}},over:function(){return !E.is.complete()||E.is.animating()||B.allowRepeats?void (E.is.animating()?E.queue("flip over"):(E.debug("Flipping over",q),E.set.stageSize(),E.stage.behind(),E.animate(E.get.transform.over()))):void E.debug("Side already visible",q)},back:function(){return !E.is.complete()||E.is.animating()||B.allowRepeats?void (E.is.animating()?E.queue("flip back"):(E.debug("Flipping back",q),E.set.stageSize(),E.stage.behind(),E.animate(E.get.transform.back()))):void E.debug("Side already visible",q)}},get:{transform:{up:function(){var t={y:-((K.outerHeight(!0)-q.outerHeight(!0))/2),z:-(K.outerHeight(!0)/2)};return{transform:"translateY("+t.y+"px) translateZ("+t.z+"px) rotateX(-90deg)"}},down:function(){var t={y:-((K.outerHeight(!0)-q.outerHeight(!0))/2),z:-(K.outerHeight(!0)/2)};return{transform:"translateY("+t.y+"px) translateZ("+t.z+"px) rotateX(90deg)"}},left:function(){var t={x:-((K.outerWidth(!0)-q.outerWidth(!0))/2),z:-(K.outerWidth(!0)/2)};return{transform:"translateX("+t.x+"px) translateZ("+t.z+"px) rotateY(90deg)"}},right:function(){var t={x:-((K.outerWidth(!0)-q.outerWidth(!0))/2),z:-(K.outerWidth(!0)/2)};return{transform:"translateX("+t.x+"px) translateZ("+t.z+"px) rotateY(-90deg)"}},over:function(){var t={x:-((K.outerWidth(!0)-q.outerWidth(!0))/2)};return{transform:"translateX("+t.x+"px) rotateY(180deg)"}},back:function(){var t={x:-((K.outerWidth(!0)-q.outerWidth(!0))/2)};return{transform:"translateX("+t.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var w,v=d.createElement("element"),x={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(w in x){if(v.style[w]!==a){return x[w]}}},nextSide:function(){return K.next(G.side).length>0?K.next(G.side):s.find(G.side).first()}},stage:{above:function(){var t={origin:(K.outerHeight(!0)-q.outerHeight(!0))/2,depth:{active:q.outerHeight(!0)/2,next:K.outerHeight(!0)/2}};E.verbose("Setting the initial animation position as above",q,t),u.css({transform:"translateZ(-"+t.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),q.addClass(H.animating).css({top:t.origin+"px",transform:"rotateX(90deg) translateZ("+t.depth.next+"px)"})},below:function(){var t={origin:(K.outerHeight(!0)-q.outerHeight(!0))/2,depth:{active:q.outerHeight(!0)/2,next:K.outerHeight(!0)/2}};E.verbose("Setting the initial animation position as below",q,t),u.css({transform:"translateZ(-"+t.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),q.addClass(H.animating).css({top:t.origin+"px",transform:"rotateX(-90deg) translateZ("+t.depth.next+"px)"})},left:function(){var t={active:K.outerWidth(!0),next:q.outerWidth(!0)},v={origin:(t.active-t.next)/2,depth:{active:t.next/2,next:t.active/2}};E.verbose("Setting the initial animation position as left",q,v),u.css({transform:"translateZ(-"+v.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+v.depth.active+"px)"}),q.addClass(H.animating).css({left:v.origin+"px",transform:"rotateY(-90deg) translateZ("+v.depth.next+"px)"})},right:function(){var t={active:K.outerWidth(!0),next:q.outerWidth(!0)},v={origin:(t.active-t.next)/2,depth:{active:t.next/2,next:t.active/2}};E.verbose("Setting the initial animation position as left",q,v),u.css({transform:"translateZ(-"+v.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+v.depth.active+"px)"}),q.addClass(H.animating).css({left:v.origin+"px",transform:"rotateY(90deg) translateZ("+v.depth.next+"px)"})},behind:function(){var t={active:K.outerWidth(!0),next:q.outerWidth(!0)},v={origin:(t.active-t.next)/2,depth:{active:t.next/2,next:t.active/2}};E.verbose("Setting the initial animation position as behind",q,v),K.css({transform:"rotateY(0deg)"}),q.addClass(H.animating).css({left:v.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(v,w){if(E.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,B,v)}else{if(w===a){return B[v]}c.isPlainObject(B[v])?c.extend(!0,B[v],w):B[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,E,v)}else{if(w===a){return E[v]}E[v]=w}},debug:function(){!B.silent&&B.debug&&(B.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,B.name+":"),E.debug.apply(console,arguments)))},verbose:function(){!B.silent&&B.verbose&&B.debug&&(B.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,B.name+":"),E.verbose.apply(console,arguments)))},error:function(){B.silent||(E.error=Function.prototype.bind.call(console.error,console,B.name+":"),E.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;B.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,h.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:z,"Execution Time":y})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var v=B.name+":",w=0;p=!1,clearTimeout(E.performance.timer),c.each(h,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",l&&(v+=" '"+l+"'"),e.length>1&&(v+=" ("+e.length+")"),(console.group!==a||console.table!==a)&&h.length>0&&(console.groupCollapsed(v),console.table?console.table(h):c.each(h,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(w,L,A){var y,x,v,C=D;return L=L||j,A=z||A,"string"==typeof w&&C!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(N,M){var t=N!=y?M+w[N+1].charAt(0).toUpperCase()+w[N+1].slice(1):w;if(c.isPlainObject(C[t])&&N!=y){C=C[t]}else{if(C[t]!==a){return x=C[t],!1}if(!c.isPlainObject(C[M])||N==y){return C[M]!==a?(x=C[M],!1):!1}C=C[M]}})),c.isFunction(x)?v=x.apply(A,L):x!==a&&(v=x),c.isArray(m)?m.push(v):m!==a?m=[m,v]:v!==a&&(m=v),x}},n?(D===a&&E.initialize(),E.invoke(k)):(D!==a&&D.invoke("destroy"),E.initialize())}),m!==a?m:this},c.fn.shape.settings={name:"Shape",silent:!1,debug:!1,verbose:!1,jitter:0,performance:!0,namespace:"shape",width:"initial",height:"initial",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.sidebar=function(j){var z,e=c(this),C=c(b),n=c(d),y=c("html"),B=c("head"),x=e.selector||"",w=(new Date).getTime(),k=[],t=arguments[0],i="string"==typeof t,q=[].slice.call(arguments,1),A=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)};return e.each(function(){var N,X,s,v,L,G,V=c.isPlainObject(j)?c.extend(!0,{},c.fn.sidebar.settings,j):c.extend({},c.fn.sidebar.settings),g=V.selector,f=V.className,U=V.namespace,h=V.regExp,l=V.error,J="."+U,H="module-"+U,m=c(this),K=c(V.context),Q=m.children(g.sidebar),W=K.children(g.fixed),p=K.children(g.pusher),u=this,o=m.data(H);G={initialize:function(){G.debug("Initializing sidebar",j),G.create.id(),L=G.get.transitionEvent(),G.is.ios()&&G.set.ios(),V.delaySetup?A(G.setup.layout):G.setup.layout(),A(function(){G.setup.cache()}),G.instantiate()},instantiate:function(){G.verbose("Storing instance of module",G),o=G,m.data(H,G)},create:{id:function(){s=(Math.random().toString(16)+"000000000").substr(2,8),X="."+s,G.verbose("Creating unique id for element",s)}},destroy:function(){G.verbose("Destroying previous module for",m),m.off(J).removeData(H),G.is.ios()&&G.remove.ios(),K.off(X),C.off(X),n.off(X)},event:{clickaway:function(D){var r=p.find(D.target).length>0||p.is(D.target),E=K.is(D.target);r&&(G.verbose("User clicked on dimmed page"),G.hide()),E&&(G.verbose("User clicked on dimmable context (scaled out page)"),G.hide())},touch:function(r){},containScroll:function(r){u.scrollTop<=0&&(u.scrollTop=1),u.scrollTop+u.offsetHeight>=u.scrollHeight&&(u.scrollTop=u.scrollHeight-u.offsetHeight-1)},scroll:function(r){0===c(r.target).closest(g.sidebar).length&&r.preventDefault()}},bind:{clickaway:function(){G.verbose("Adding clickaway events to context",K),V.closable&&K.on("click"+X,G.event.clickaway).on("touchend"+X,G.event.clickaway)},scrollLock:function(){V.scrollLock&&(G.debug("Disabling page scroll"),C.on("DOMMouseScroll"+X,G.event.scroll)),G.verbose("Adding events to contain sidebar scroll"),n.on("touchmove"+X,G.event.touch),m.on("scroll"+J,G.event.containScroll)}},unbind:{clickaway:function(){G.verbose("Removing clickaway events from context",K),K.off(X)},scrollLock:function(){G.verbose("Removing scroll lock from page"),n.off(X),C.off(X),m.off("scroll"+J)}},add:{inlineCSS:function(){var E,M=G.cache.width||m.outerWidth(),D=G.cache.height||m.outerHeight(),I=G.is.rtl(),r=G.get.direction(),F={left:M,right:-M,top:D,bottom:-D};I&&(G.verbose("RTL detected, flipping widths"),F.left=-M,F.right=M),E="<style>","left"===r||"right"===r?(G.debug("Adding CSS rules for animation distance",M),E+=" .ui.visible."+r+".sidebar ~ .fixed, .ui.visible."+r+".sidebar ~ .pusher {   -webkit-transform: translate3d("+F[r]+"px, 0, 0);           transform: translate3d("+F[r]+"px, 0, 0); }"):"top"!==r&&"bottom"!=r||(E+=" .ui.visible."+r+".sidebar ~ .fixed, .ui.visible."+r+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+F[r]+"px, 0);           transform: translate3d(0, "+F[r]+"px, 0); }"),G.is.ie()&&("left"===r||"right"===r?(G.debug("Adding CSS rules for animation distance",M),E+=" body.pushable > .ui.visible."+r+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+F[r]+"px, 0, 0);           transform: translate3d("+F[r]+"px, 0, 0); }"):"top"!==r&&"bottom"!=r||(E+=" body.pushable > .ui.visible."+r+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+F[r]+"px, 0);           transform: translate3d(0, "+F[r]+"px, 0); }"),E+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),E+="</style>",N=c(E).appendTo(B),G.debug("Adding sizing css to head",N)}},refresh:function(){G.verbose("Refreshing selector cache"),K=c(V.context),Q=K.children(g.sidebar),p=K.children(g.pusher),W=K.children(g.fixed),G.clear.cache()},refreshSidebars:function(){G.verbose("Refreshing other sidebars"),Q=K.children(g.sidebar)},repaint:function(){G.verbose("Forcing repaint event"),u.style.display="none";u.offsetHeight;u.scrollTop=u.scrollTop,u.style.display=""},setup:{cache:function(){G.cache={width:m.outerWidth(),height:m.outerHeight(),rtl:"rtl"==m.css("direction")}},layout:function(){0===K.children(g.pusher).length&&(G.debug("Adding wrapper element for sidebar"),G.error(l.pusher),p=c('<div class="pusher" />'),K.children().not(g.omitted).not(Q).wrapAll(p),G.refresh()),0!==m.nextAll(g.pusher).length&&m.nextAll(g.pusher)[0]===p[0]||(G.debug("Moved sidebar to correct parent element"),G.error(l.movedSidebar,u),m.detach().prependTo(K),G.refresh()),G.clear.cache(),G.set.pushable(),G.set.direction()}},attachEvents:function(D,E){var r=c(D);E=c.isFunction(G[E])?G[E]:G.toggle,r.length>0?(G.debug("Attaching sidebar events to element",D,E),r.on("click"+J,E)):G.error(l.notFound,D)},show:function(r){if(r=c.isFunction(r)?r:function(){},G.is.hidden()){if(G.refreshSidebars(),V.overlay&&(G.error(l.overlay),V.transition="overlay"),G.refresh(),G.othersActive()){if(G.debug("Other sidebars currently visible"),V.exclusive){if("overlay"!=V.transition){return void G.hideOthers(G.show)}G.hideOthers()}else{V.transition="overlay"}}G.pushPage(function(){r.call(u),V.onShow.call(u)}),V.onChange.call(u),V.onVisible.call(u)}else{G.debug("Sidebar is already visible")}},hide:function(r){r=c.isFunction(r)?r:function(){},(G.is.visible()||G.is.animating())&&(G.debug("Hiding sidebar",r),G.refreshSidebars(),G.pullPage(function(){r.call(u),V.onHidden.call(u)}),V.onChange.call(u),V.onHide.call(u))},othersAnimating:function(){return Q.not(m).filter("."+f.animating).length>0},othersVisible:function(){return Q.not(m).filter("."+f.visible).length>0},othersActive:function(){return G.othersVisible()||G.othersAnimating()},hideOthers:function(E){var D=Q.not(m).filter("."+f.visible),F=D.length,r=0;E=E||function(){},D.sidebar("hide",function(){r++,r==F&&E()})},toggle:function(){G.verbose("Determining toggled direction"),G.is.hidden()?G.show():G.hide()},pushPage:function(F){var O,E,M,D=G.get.transition(),I="overlay"===D||G.othersActive()?m:p;F=c.isFunction(F)?F:function(){},"scale down"==V.transition&&G.scrollToTop(),G.set.transition(D),G.repaint(),O=function(){G.bind.clickaway(),G.add.inlineCSS(),G.set.animating(),G.set.visible()},E=function(){G.set.dimmed()},M=function(r){r.target==I[0]&&(I.off(L+X,M),G.remove.animating(),G.bind.scrollLock(),F.call(u))},I.off(L+X),I.on(L+X,M),A(O),V.dimPage&&!G.othersVisible()&&A(E)},pullPage:function(E){var I,D,F=G.get.transition(),r="overlay"==F||G.othersActive()?m:p;E=c.isFunction(E)?E:function(){},G.verbose("Removing context push state",G.get.direction()),G.unbind.clickaway(),G.unbind.scrollLock(),I=function(){G.set.transition(F),G.set.animating(),G.remove.visible(),V.dimPage&&!G.othersVisible()&&p.removeClass(f.dimmed)},D=function(M){M.target==r[0]&&(r.off(L+X,D),G.remove.animating(),G.remove.transition(),G.remove.inlineCSS(),("scale down"==F||V.returnScroll&&G.is.mobile())&&G.scrollBack(),E.call(u))},r.off(L+X),r.on(L+X,D),A(I)},scrollToTop:function(){G.verbose("Scrolling to top of page to avoid animation issues"),v=c(b).scrollTop(),m.scrollTop(0),b.scrollTo(0,0)},scrollBack:function(){G.verbose("Scrolling back to original page position"),b.scrollTo(0,v)},clear:{cache:function(){G.verbose("Clearing cached dimensions"),G.cache={}}},set:{ios:function(){y.addClass(f.ios)},pushed:function(){K.addClass(f.pushed)},pushable:function(){K.addClass(f.pushable)},dimmed:function(){p.addClass(f.dimmed)},active:function(){m.addClass(f.active)},animating:function(){m.addClass(f.animating)},transition:function(r){r=r||G.get.transition(),m.addClass(r)},direction:function(r){r=r||G.get.direction(),m.addClass(f[r])},visible:function(){m.addClass(f.visible)},overlay:function(){m.addClass(f.overlay)}},remove:{inlineCSS:function(){G.debug("Removing inline css styles",N),N&&N.length>0&&N.remove()},ios:function(){y.removeClass(f.ios)},pushed:function(){K.removeClass(f.pushed)},pushable:function(){K.removeClass(f.pushable)},active:function(){m.removeClass(f.active)},animating:function(){m.removeClass(f.animating)},transition:function(r){r=r||G.get.transition(),m.removeClass(r)},direction:function(r){r=r||G.get.direction(),m.removeClass(f[r])},visible:function(){m.removeClass(f.visible)},overlay:function(){m.removeClass(f.overlay)}},get:{direction:function(){return m.hasClass(f.top)?f.top:m.hasClass(f.right)?f.right:m.hasClass(f.bottom)?f.bottom:f.left},transition:function(){var D,r=G.get.direction();return D=G.is.mobile()?"auto"==V.mobileTransition?V.defaultTransition.mobile[r]:V.mobileTransition:"auto"==V.transition?V.defaultTransition.computer[r]:V.transition,G.verbose("Determined transition",D),D},transitionEvent:function(){var D,r=d.createElement("element"),E={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(D in E){if(r.style[D]!==a){return E[D]}}}},is:{ie:function(){var r=!b.ActiveXObject&&"ActiveXObject" in b,D="ActiveXObject" in b;return r||D},ios:function(){var D=navigator.userAgent,r=D.match(h.ios),E=D.match(h.mobileChrome);return r&&!E?(G.verbose("Browser was found to be iOS",D),!0):!1},mobile:function(){var D=navigator.userAgent,r=D.match(h.mobile);return r?(G.verbose("Browser was found to be mobile",D),!0):(G.verbose("Browser is not mobile, using regular transition",D),!1)},hidden:function(){return !G.is.visible()},visible:function(){return m.hasClass(f.visible)},open:function(){return G.is.visible()},closed:function(){return G.is.hidden()},vertical:function(){return m.hasClass(f.top)},animating:function(){return K.hasClass(f.animating)},rtl:function(){return G.cache.rtl===a&&(G.cache.rtl="rtl"==m.css("direction")),G.cache.rtl}},setting:function(r,D){if(G.debug("Changing setting",r,D),c.isPlainObject(r)){c.extend(!0,V,r)}else{if(D===a){return V[r]}c.isPlainObject(V[r])?c.extend(!0,V[r],D):V[r]=D}},internal:function(r,D){if(c.isPlainObject(r)){c.extend(!0,G,r)}else{if(D===a){return G[r]}G[r]=D}},debug:function(){!V.silent&&V.debug&&(V.performance?G.performance.log(arguments):(G.debug=Function.prototype.bind.call(console.info,console,V.name+":"),G.debug.apply(console,arguments)))},verbose:function(){!V.silent&&V.verbose&&V.debug&&(V.performance?G.performance.log(arguments):(G.verbose=Function.prototype.bind.call(console.info,console,V.name+":"),G.verbose.apply(console,arguments)))},error:function(){V.silent||(G.error=Function.prototype.bind.call(console.error,console,V.name+":"),G.error.apply(console,arguments))},performance:{log:function(E){var D,F,r;V.performance&&(D=(new Date).getTime(),r=w||D,F=D-r,w=D,k.push({Name:E[0],Arguments:[].slice.call(E,1)||"",Element:u,"Execution Time":F})),clearTimeout(G.performance.timer),G.performance.timer=setTimeout(G.performance.display,500)},display:function(){var r=V.name+":",D=0;w=!1,clearTimeout(G.performance.timer),c.each(k,function(F,E){D+=E["Execution Time"]}),r+=" "+D+"ms",x&&(r+=" '"+x+"'"),(console.group!==a||console.table!==a)&&k.length>0&&(console.groupCollapsed(r),console.table?console.table(k):c.each(k,function(F,E){console.log(E.Name+": "+E["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(E,P,M){var I,F,D,O=o;return P=P||q,M=u||M,"string"==typeof E&&O!==a&&(E=E.split(/[\. ]/),I=E.length-1,c.each(E,function(S,R){var r=S!=I?R+E[S+1].charAt(0).toUpperCase()+E[S+1].slice(1):E;if(c.isPlainObject(O[r])&&S!=I){O=O[r]}else{if(O[r]!==a){return F=O[r],!1}if(!c.isPlainObject(O[R])||S==I){return O[R]!==a?(F=O[R],!1):(G.error(l.method,E),!1)}O=O[R]}})),c.isFunction(F)?D=F.apply(M,P):F!==a&&(D=F),c.isArray(z)?z.push(D):z!==a?z=[z,D]:D!==a&&(z=D),F}},i?(o===a&&G.initialize(),G.invoke(t)):(o!==a&&G.invoke("destroy"),G.initialize())}),z!==a?z:this},c.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.sticky=function(g){var m,e=c(this),p=e.selector||"",h=(new Date).getTime(),k=[],n=arguments[0],j="string"==typeof n,i=[].slice.call(arguments,1);return e.each(function(){var f,s,F,o,D,K=c.isPlainObject(g)?c.extend(!0,{},c.fn.sticky.settings,g):c.extend({},c.fn.sticky.settings),H=K.className,G=K.namespace,I=K.error,l="."+G,J="module-"+G,u=c(this),z=c(b),t=c(K.scrollContext),q=(u.selector||"",u.data(J)),B=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(r){setTimeout(r,0)},E=this;D={initialize:function(){D.determineContainer(),D.determineContext(),D.verbose("Initializing sticky",K,f),D.save.positions(),D.checkErrors(),D.bind.events(),K.observeChanges&&D.observeChanges(),D.instantiate()},instantiate:function(){D.verbose("Storing instance of module",D),q=D,u.data(J,D)},destroy:function(){D.verbose("Destroying previous instance"),D.reset(),F&&F.disconnect(),o&&o.disconnect(),z.off("load"+l,D.event.load).off("resize"+l,D.event.resize),t.off("scrollchange"+l,D.event.scrollchange),u.removeData(J)},observeChanges:function(){"MutationObserver" in b&&(F=new MutationObserver(D.event.documentChanged),o=new MutationObserver(D.event.changed),F.observe(d,{childList:!0,subtree:!0}),o.observe(E,{childList:!0,subtree:!0}),o.observe(s[0],{childList:!0,subtree:!0}),D.debug("Setting up mutation observer",o))},determineContainer:function(){f=K.container?c(K.container):u.offsetParent()},determineContext:function(){return s=K.context?c(K.context):f,0===s.length?void D.error(I.invalidContext,K.context,u):void 0},checkErrors:function(){return D.is.hidden()&&D.error(I.visible,u),D.cache.element.height>D.cache.context.height?(D.reset(),void D.error(I.elementSize,u)):void 0},bind:{events:function(){z.on("load"+l,D.event.load).on("resize"+l,D.event.resize),t.off("scroll"+l).on("scroll"+l,D.event.scroll).on("scrollchange"+l,D.event.scrollchange)}},event:{changed:function(r){clearTimeout(D.timer),D.timer=setTimeout(function(){D.verbose("DOM tree modified, updating sticky menu",r),D.refresh()},100)},documentChanged:function(r){[].forEach.call(r,function(v){v.removedNodes&&[].forEach.call(v.removedNodes,function(w){(w==E||c(w).find(E).length>0)&&(D.debug("Element removed from DOM, tearing down events"),D.destroy())})})},load:function(){D.verbose("Page contents finished loading"),B(D.refresh)},resize:function(){D.verbose("Window resized"),B(D.refresh)},scroll:function(){B(function(){t.triggerHandler("scrollchange"+l,t.scrollTop())})},scrollchange:function(v,r){D.stick(r),K.onScroll.call(E)}},refresh:function(r){D.reset(),K.context||D.determineContext(),r&&D.determineContainer(),D.save.positions(),D.stick(),K.onReposition.call(E)},supports:{sticky:function(){var r=c("<div/>");r[0];return r.addClass(H.supported),r.css("position").match("sticky")}},save:{lastScroll:function(r){D.lastScroll=r},elementScroll:function(r){D.elementScroll=r},positions:function(){var v={height:t.height()},r={margin:{top:parseInt(u.css("margin-top"),10),bottom:parseInt(u.css("margin-bottom"),10)},offset:u.offset(),width:u.outerWidth(),height:u.outerHeight()},w={offset:s.offset(),height:s.outerHeight()};({height:f.outerHeight()});D.is.standardScroll()||(D.debug("Non-standard scroll. Removing scroll offset from element offset"),v.top=t.scrollTop(),v.left=t.scrollLeft(),r.offset.top+=v.top,w.offset.top+=v.top,r.offset.left+=v.left,w.offset.left+=v.left),D.cache={fits:r.height<v.height,scrollContext:{height:v.height},element:{margin:r.margin,top:r.offset.top-r.margin.top,left:r.offset.left,width:r.width,height:r.height,bottom:r.offset.top+r.height},context:{top:w.offset.top,height:w.height,bottom:w.offset.top+w.height}},D.set.containerSize(),D.set.size(),D.stick(),D.debug("Caching element positions",D.cache)}},get:{direction:function(v){var r="down";return v=v||t.scrollTop(),D.lastScroll!==a&&(D.lastScroll<v?r="down":D.lastScroll>v&&(r="up")),r},scrollChange:function(r){return r=r||t.scrollTop(),D.lastScroll?r-D.lastScroll:0},currentElementScroll:function(){return D.elementScroll?D.elementScroll:D.is.top()?Math.abs(parseInt(u.css("top"),10))||0:Math.abs(parseInt(u.css("bottom"),10))||0},elementScroll:function(A){A=A||t.scrollTop();var x=D.cache.element,L=D.cache.scrollContext,w=D.get.scrollChange(A),C=x.height-L.height+K.offset,v=D.get.currentElementScroll(),y=v+w;return v=D.cache.fits||0>y?0:y>C?C:y}},remove:{lastScroll:function(){delete D.lastScroll},elementScroll:function(r){delete D.elementScroll},offset:function(){u.css("margin-top","")}},set:{offset:function(){D.verbose("Setting offset on element",K.offset),u.css("margin-top",K.offset)},containerSize:function(){var r=f.get(0).tagName;"HTML"===r||"body"==r?D.determineContainer():Math.abs(f.outerHeight()-D.cache.context.height)>K.jitter&&(D.debug("Context has padding, specifying exact height for container",D.cache.context.height),f.css({height:D.cache.context.height}))},minimumSize:function(){var r=D.cache.element;f.css("min-height",r.height)},scroll:function(r){D.debug("Setting scroll on element",r),D.elementScroll!=r&&(D.is.top()&&u.css("bottom","").css("top",-r),D.is.bottom()&&u.css("top","").css("bottom",r))},size:function(){0!==D.cache.element.height&&0!==D.cache.element.width&&(E.style.setProperty("width",D.cache.element.width+"px","important"),E.style.setProperty("height",D.cache.element.height+"px","important"))}},is:{standardScroll:function(){return t[0]==b},top:function(){return u.hasClass(H.top)},bottom:function(){return u.hasClass(H.bottom)},initialPosition:function(){return !D.is.fixed()&&!D.is.bound()},hidden:function(){return !u.is(":visible")},bound:function(){return u.hasClass(H.bound)},fixed:function(){return u.hasClass(H.fixed)}},stick:function(C){var O=C||t.scrollTop(),x=D.cache,A=x.fits,w=x.element,M=x.scrollContext,v=x.context,P=D.is.bottom()&&K.pushing?K.bottomOffset:K.offset,C={top:O+P,bottom:O+P+M.height},y=(D.get.direction(C.top),A?0:D.get.elementScroll(C.top)),L=!A,N=0!==w.height;N&&(D.is.initialPosition()?C.top>=v.bottom?(D.debug("Initial element position is bottom of container"),D.bindBottom()):C.top>w.top&&(w.height+C.top-y>=v.bottom?(D.debug("Initial element position is bottom of container"),D.bindBottom()):(D.debug("Initial element position is fixed"),D.fixTop())):D.is.fixed()?D.is.top()?C.top<=w.top?(D.debug("Fixed element reached top of container"),D.setInitialPosition()):w.height+C.top-y>=v.bottom?(D.debug("Fixed element reached bottom of container"),D.bindBottom()):L&&(D.set.scroll(y),D.save.lastScroll(C.top),D.save.elementScroll(y)):D.is.bottom()&&(C.bottom-w.height<=w.top?(D.debug("Bottom fixed rail has reached top of container"),D.setInitialPosition()):C.bottom>=v.bottom?(D.debug("Bottom fixed rail has reached bottom of container"),D.bindBottom()):L&&(D.set.scroll(y),D.save.lastScroll(C.top),D.save.elementScroll(y))):D.is.bottom()&&(C.top<=w.top?(D.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),D.setInitialPosition()):K.pushing?D.is.bound()&&C.bottom<=v.bottom&&(D.debug("Fixing bottom attached element to bottom of browser."),D.fixBottom()):D.is.bound()&&C.top<=v.bottom-w.height&&(D.debug("Fixing bottom attached element to top of browser."),D.fixTop())))},bindTop:function(){D.debug("Binding element to top of parent container"),D.remove.offset(),u.css({left:"",top:"",marginBottom:""}).removeClass(H.fixed).removeClass(H.bottom).addClass(H.bound).addClass(H.top),K.onTop.call(E),K.onUnstick.call(E)},bindBottom:function(){D.debug("Binding element to bottom of parent container"),D.remove.offset(),u.css({left:"",top:""}).removeClass(H.fixed).removeClass(H.top).addClass(H.bound).addClass(H.bottom),K.onBottom.call(E),K.onUnstick.call(E)},setInitialPosition:function(){D.debug("Returning to initial position"),D.unfix(),D.unbind()},fixTop:function(){D.debug("Fixing element to top of page"),D.set.minimumSize(),D.set.offset(),u.css({left:D.cache.element.left,bottom:"",marginBottom:""}).removeClass(H.bound).removeClass(H.bottom).addClass(H.fixed).addClass(H.top),K.onStick.call(E)},fixBottom:function(){D.debug("Sticking element to bottom of page"),D.set.minimumSize(),D.set.offset(),u.css({left:D.cache.element.left,bottom:"",marginBottom:""}).removeClass(H.bound).removeClass(H.top).addClass(H.fixed).addClass(H.bottom),K.onStick.call(E)},unbind:function(){D.is.bound()&&(D.debug("Removing container bound position on element"),D.remove.offset(),u.removeClass(H.bound).removeClass(H.top).removeClass(H.bottom))},unfix:function(){D.is.fixed()&&(D.debug("Removing fixed position on element"),D.remove.offset(),u.removeClass(H.fixed).removeClass(H.top).removeClass(H.bottom),K.onUnstick.call(E))},reset:function(){D.debug("Resetting elements position"),D.unbind(),D.unfix(),D.resetCSS(),D.remove.offset(),D.remove.lastScroll()},resetCSS:function(){u.css({width:"",height:""}),f.css({height:""})},setting:function(r,v){if(c.isPlainObject(r)){c.extend(!0,K,r)}else{if(v===a){return K[r]}K[r]=v}},internal:function(r,v){if(c.isPlainObject(r)){c.extend(!0,D,r)}else{if(v===a){return D[r]}D[r]=v}},debug:function(){!K.silent&&K.debug&&(K.performance?D.performance.log(arguments):(D.debug=Function.prototype.bind.call(console.info,console,K.name+":"),D.debug.apply(console,arguments)))},verbose:function(){!K.silent&&K.verbose&&K.debug&&(K.performance?D.performance.log(arguments):(D.verbose=Function.prototype.bind.call(console.info,console,K.name+":"),D.verbose.apply(console,arguments)))},error:function(){K.silent||(D.error=Function.prototype.bind.call(console.error,console,K.name+":"),D.error.apply(console,arguments))},performance:{log:function(w){var v,x,r;K.performance&&(v=(new Date).getTime(),r=h||v,x=v-r,h=v,k.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:E,"Execution Time":x})),clearTimeout(D.performance.timer),D.performance.timer=setTimeout(D.performance.display,0)},display:function(){var r=K.name+":",v=0;h=!1,clearTimeout(D.performance.timer),c.each(k,function(x,w){v+=w["Execution Time"]}),r+=" "+v+"ms",p&&(r+=" '"+p+"'"),(console.group!==a||console.table!==a)&&k.length>0&&(console.groupCollapsed(r),console.table?console.table(k):c.each(k,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(w,L,A){var y,x,v,C=q;return L=L||i,A=E||A,"string"==typeof w&&C!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(N,M){var r=N!=y?M+w[N+1].charAt(0).toUpperCase()+w[N+1].slice(1):w;if(c.isPlainObject(C[r])&&N!=y){C=C[r]}else{if(C[r]!==a){return x=C[r],!1}if(!c.isPlainObject(C[M])||N==y){return C[M]!==a?(x=C[M],!1):!1}C=C[M]}})),c.isFunction(x)?v=x.apply(A,L):x!==a&&(v=x),c.isArray(m)?m.push(v):m!==a?m=[m,v]:v!==a&&(m=v),x}},j?(q===a&&D.initialize(),D.invoke(n)):(q!==a&&q.invoke("destroy"),D.initialize())}),m!==a?m:this},c.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:b,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.tab=function(g){var p,e=c(c.isFunction(this)?b:this),t=e.selector||"",i=(new Date).getTime(),n=[],q=arguments[0],k="string"==typeof q,j=[].slice.call(arguments,1),h=!1;return e.each(function(){var Q,L,N,B,U,s,u=c.isPlainObject(g)?c.extend(!0,{},c.fn.tab.settings,g):c.extend({},c.fn.tab.settings),J=u.className,z=u.metadata,M=u.selector,l=u.error,f="."+u.namespace,K="module-"+u.namespace,m=c(this),o={},H=!0,G=0,r=this,I=m.data(K);U={initialize:function(){U.debug("Initializing tab menu item",m),U.fix.callbacks(),U.determineTabs(),U.debug("Determining tabs",u.context,L),u.auto&&U.set.auto(),U.bind.events(),u.history&&!h&&(U.initializeHistory(),h=!0),U.instantiate()},instantiate:function(){U.verbose("Storing instance of module",U),I=U,m.data(K,U)},destroy:function(){U.debug("Destroying tabs",m),m.removeData(K).off(f)},bind:{events:function(){c.isWindow(r)||(U.debug("Attaching tab activation events to element",m),m.on("click"+f,U.event.click))}},determineTabs:function(){var v;"parent"===u.context?(m.closest(M.ui).length>0?(v=m.closest(M.ui),U.verbose("Using closest UI element as parent",v)):v=m,Q=v.parent(),U.verbose("Determined parent element for creating context",Q)):u.context?(Q=c(u.context),U.verbose("Using selector for tab context",u.context,Q)):Q=c("body"),u.childrenOnly?(L=Q.children(M.tabs),U.debug("Searching tab context children for tabs",Q,L)):(L=Q.find(M.tabs),U.debug("Searching tab context for tabs",Q,L))},fix:{callbacks:function(){c.isPlainObject(g)&&(g.onTabLoad||g.onTabInit)&&(g.onTabLoad&&(g.onLoad=g.onTabLoad,delete g.onTabLoad,U.error(l.legacyLoad,g.onLoad)),g.onTabInit&&(g.onFirstLoad=g.onTabInit,delete g.onTabInit,U.error(l.legacyInit,g.onFirstLoad)),u=c.extend(!0,{},c.fn.tab.settings,g))}},initializeHistory:function(){if(U.debug("Initializing page state"),c.address===a){return U.error(l.state),!1}if("state"==u.historyType){if(U.debug("Using HTML5 to manage state"),u.path===!1){return U.error(l.path),!1}c.address.history(!0).state(u.path)}c.address.bind("change",U.event.history.change)},event:{click:function(v){var w=c(this).data(z.tab);w!==a?(u.history?(U.verbose("Updating page state",v),c.address.value(w)):(U.verbose("Changing tab",v),U.changeTab(w)),v.preventDefault()):U.debug("No tab specified")},history:{change:function(v){var x=v.pathNames.join("/")||U.get.initialPath(),w=u.templates.determineTitle(x)||!1;U.performance.display(),U.debug("History change event",x,v),s=v,x!==a&&U.changeTab(x),w&&c.address.title(w)}}},refresh:function(){N&&(U.debug("Refreshing tab",N),U.changeTab(N))},cache:{read:function(v){return v!==a?o[v]:!1},add:function(w,v){w=w||N,U.debug("Adding cached content for",w),o[w]=v},remove:function(v){v=v||N,U.debug("Removing cached content for",v),delete o[v]}},set:{auto:function(){var v="string"==typeof u.path?u.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";U.verbose("Setting up automatic tab retrieval from server",v),c.isPlainObject(u.apiSettings)?u.apiSettings.url=v:u.apiSettings={url:v}},loading:function(w){var v=U.get.tabElement(w),x=v.hasClass(J.loading);x||(U.verbose("Setting loading state for",v),v.addClass(J.loading).siblings(L).removeClass(J.active+" "+J.loading),v.length>0&&u.onRequest.call(v[0],w))},state:function(v){c.address.value(v)}},changeTab:function(A){var w=b.history&&b.history.pushState,y=w&&u.ignoreFirstLoad&&H,v=u.auto||c.isPlainObject(u.apiSettings),x=v&&!y?U.utilities.pathToArray(A):U.get.defaultPathArray(A);A=U.utilities.arrayToPath(x),c.each(x,function(V,O){var W,E,S,T,R=x.slice(0,V+1),P=U.utilities.arrayToPath(R),D=U.is.tab(P),C=V+1==x.length,F=U.get.tabElement(P);if(U.verbose("Looking for tab",O),D){if(U.verbose("Tab was found",O),N=P,B=U.utilities.filterArray(x,R),C?T=!0:(E=x.slice(0,V+2),S=U.utilities.arrayToPath(E),T=!U.is.tab(S),T&&U.verbose("Tab parameters found",E)),T&&v){return y?(U.debug("Ignoring remote content on first tab load",P),H=!1,U.cache.add(A,F.html()),U.activate.all(P),u.onFirstLoad.call(F[0],P,B,s),u.onLoad.call(F[0],P,B,s)):(U.activate.navigation(P),U.fetch.content(P,A)),!1}U.debug("Opened local tab",P),U.activate.all(P),U.cache.read(P)||(U.cache.add(P,!0),U.debug("First time tab loaded calling tab init"),u.onFirstLoad.call(F[0],P,B,s)),u.onLoad.call(F[0],P,B,s)}else{if(-1!=A.search("/")||""===A){return U.error(l.missingTab,m,Q,P),!1}if(W=c("#"+A+', a[name="'+A+'"]'),P=W.closest("[data-tab]").data(z.tab),F=U.get.tabElement(P),W&&W.length>0&&P){return U.debug("Anchor link used, opening parent tab",F,W),F.hasClass(J.active)||setTimeout(function(){U.scrollTo(W)},0),U.activate.all(P),U.cache.read(P)||(U.cache.add(P,!0),U.debug("First time tab loaded calling tab init"),u.onFirstLoad.call(F[0],P,B,s)),u.onLoad.call(F[0],P,B,s),!1}}})},scrollTo:function(w){var v=w&&w.length>0?w.offset().top:!1;v!==!1&&(U.debug("Forcing scroll to an in-page link in a hidden tab",v,w),c(d).scrollTop(v))},update:{content:function(w,A,y){var v=U.get.tabElement(w),x=v[0];y=y!==a?y:u.evaluateScripts,"string"==typeof u.cacheType&&"dom"==u.cacheType.toLowerCase()&&"string"!=typeof A?v.empty().append(c(A).clone(!0)):y?(U.debug("Updating HTML and evaluating inline scripts",w,A),v.html(A)):(U.debug("Updating HTML",w,A),x.innerHTML=A)}},fetch:{content:function(x,E){var C,w,A=U.get.tabElement(x),y={dataType:"html",encodeParameters:!1,on:"now",cache:u.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(F){"response"==u.cacheType&&U.cache.add(E,F),U.update.content(x,F),x==N?(U.debug("Content loaded",x),U.activate.tab(x)):U.debug("Content loaded in background",x),u.onFirstLoad.call(A[0],x,B,s),u.onLoad.call(A[0],x,B,s),u.loadOnce?U.cache.add(E,!0):"string"==typeof u.cacheType&&"dom"==u.cacheType.toLowerCase()&&A.children().length>0?setTimeout(function(){var O=A.children().clone(!0);O=O.not("script"),U.cache.add(E,O)},0):U.cache.add(E,A.html())},urlData:{tab:E}},v=A.api("get request")||!1,D=v&&"pending"===v.state();E=E||x,w=U.cache.read(E),u.cache&&w?(U.activate.tab(x),U.debug("Adding cached content",E),u.loadOnce||("once"==u.evaluateScripts?U.update.content(x,w,!1):U.update.content(x,w)),u.onLoad.call(A[0],x,B,s)):D?(U.set.loading(x),U.debug("Content is already loading",E)):c.api!==a?(C=c.extend(!0,{},u.apiSettings,y),U.debug("Retrieving remote content",E,C),U.set.loading(x),A.api(C)):U.error(l.api)}},activate:{all:function(v){U.activate.tab(v),U.activate.navigation(v)},tab:function(x){var w=U.get.tabElement(x),y="siblings"==u.deactivate?w.siblings(L):L.not(w),v=w.hasClass(J.active);U.verbose("Showing tab content for",w),v||(w.addClass(J.active),y.removeClass(J.active+" "+J.loading),w.length>0&&u.onVisible.call(w[0],x))},navigation:function(x){var w=U.get.navElement(x),y="siblings"==u.deactivate?w.siblings(e):e.not(w),v=w.hasClass(J.active);U.verbose("Activating tab navigation for",w,x),v||(w.addClass(J.active),y.removeClass(J.active+" "+J.loading))}},deactivate:{all:function(){U.deactivate.navigation(),U.deactivate.tabs()},navigation:function(){e.removeClass(J.active)},tabs:function(){L.removeClass(J.active+" "+J.loading)}},is:{tab:function(v){return v!==a?U.get.tabElement(v).length>0:!1}},get:{initialPath:function(){return e.eq(0).data(z.tab)||L.eq(0).data(z.tab)},path:function(){return c.address.value()},defaultPathArray:function(v){return U.utilities.pathToArray(U.get.defaultPath(v))},defaultPath:function(w){var v=e.filter("[data-"+z.tab+'^="'+w+'/"]').eq(0),x=v.data(z.tab)||!1;if(x){if(U.debug("Found default tab",x),G<u.maxDepth){return G++,U.get.defaultPath(x)}U.error(l.recursion)}else{U.debug("No default tabs found for",w,L)}return G=0,w},navElement:function(v){return v=v||N,e.filter("[data-"+z.tab+'="'+v+'"]')},tabElement:function(x){var w,A,v,y;return x=x||N,v=U.utilities.pathToArray(x),y=U.utilities.last(v),w=L.filter("[data-"+z.tab+'="'+x+'"]'),A=L.filter("[data-"+z.tab+'="'+y+'"]'),w.length>0?w:A},tab:function(){return N}},utilities:{filterArray:function(v,w){return c.grep(v,function(x){return -1==c.inArray(x,w)})},last:function(v){return c.isArray(v)?v[v.length-1]:!1},pathToArray:function(v){return v===a&&(v=N),"string"==typeof v?v.split("/"):[v]},arrayToPath:function(v){return c.isArray(v)?v.join("/"):!1}},setting:function(v,w){if(U.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,u,v)}else{if(w===a){return u[v]}c.isPlainObject(u[v])?c.extend(!0,u[v],w):u[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,U,v)}else{if(w===a){return U[v]}U[v]=w}},debug:function(){!u.silent&&u.debug&&(u.performance?U.performance.log(arguments):(U.debug=Function.prototype.bind.call(console.info,console,u.name+":"),U.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?U.performance.log(arguments):(U.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),U.verbose.apply(console,arguments)))},error:function(){u.silent||(U.error=Function.prototype.bind.call(console.error,console,u.name+":"),U.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;u.performance&&(w=(new Date).getTime(),v=i||w,y=w-v,i=w,n.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:r,"Execution Time":y})),clearTimeout(U.performance.timer),U.performance.timer=setTimeout(U.performance.display,500)},display:function(){var v=u.name+":",w=0;i=!1,clearTimeout(U.performance.timer),c.each(n,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",t&&(v+=" '"+t+"'"),(console.group!==a||console.table!==a)&&n.length>0&&(console.groupCollapsed(v),console.table?console.table(n):c.each(n,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),n=[]}},invoke:function(w,D,A){var y,x,v,C=I;return D=D||j,A=r||A,"string"==typeof w&&C!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(O,F){var E=O!=y?F+w[O+1].charAt(0).toUpperCase()+w[O+1].slice(1):w;if(c.isPlainObject(C[E])&&O!=y){C=C[E]}else{if(C[E]!==a){return x=C[E],!1}if(!c.isPlainObject(C[F])||O==y){return C[F]!==a?(x=C[F],!1):(U.error(l.method,w),!1)}C=C[F]}})),c.isFunction(x)?v=x.apply(A,D):x!==a&&(v=x),c.isArray(p)?p.push(v):p!==a?p=[p,v]:v!==a&&(p=v),x}},k?(I===a&&U.initialize(),U.invoke(q)):(I!==a&&I.invoke("destroy"),U.initialize())}),p!==a?p:this},c.tab=function(){c(b).tab.apply(this,arguments)},c.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,loadOnce:!1,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(g,f,h){},onLoad:function(g,f,h){},onVisible:function(g,f,h){},onRequest:function(g,f,h){},templates:{determineTitle:function(f){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.transition=function(){var g,m=c(this),e=m.selector||"",p=(new Date).getTime(),h=[],k=arguments,n=k[0],j=[].slice.call(arguments,1),i="string"==typeof n;b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)};return m.each(function(E){var o,s,l,r,D,z,u,A,f,B=c(this),q=this;f={initialize:function(){o=f.get.settings.apply(q,k),r=o.className,l=o.error,D=o.metadata,A="."+o.namespace,u="module-"+o.namespace,s=B.data(u)||f,z=f.get.animationEndEvent(),i&&(i=f.invoke(n)),i===!1&&(f.verbose("Converted arguments into settings object",o),o.interval?f.delay(o.animate):f.animate(),f.instantiate())},instantiate:function(){f.verbose("Storing instance of module",f),s=f,B.data(u,s)},destroy:function(){f.verbose("Destroying previous module for",q),B.removeData(u)},refresh:function(){f.verbose("Refreshing display type on next animation"),delete f.displayType},forceRepaint:function(){f.verbose("Forcing element repaint");var w=B.parent(),v=B.next();0===v.length?B.detach().appendTo(w):B.detach().insertBefore(v)},repaint:function(){f.verbose("Repainting element");q.offsetWidth},delay:function(v){var x,w,t=f.get.animationDirection();t||(t=f.can.transition()?f.get.direction():"static"),v=v!==a?v:o.interval,x="auto"==o.reverse&&t==r.outward,w=x||1==o.reverse?(m.length-E)*o.interval:E*o.interval,f.debug("Delaying animation by",w),setTimeout(f.animate,w)},animate:function(t){if(o=t||o,!f.is.supported()){return f.error(l.support),!1}if(f.debug("Preparing animation",o.animation),f.is.animating()){if(o.queue){return !o.allowRepeats&&f.has.direction()&&f.is.occurring()&&f.queuing!==!0?f.debug("Animation is currently occurring, preventing queueing same animation",o.animation):f.queue(o.animation),!1}if(!o.allowRepeats&&f.is.occurring()){return f.debug("Animation is already occurring, will not execute repeated animation",o.animation),!1}f.debug("New animation started, completing previous early",o.animation),s.complete()}f.can.animate()?f.set.animating(o.animation):f.error(l.noAnimation,o.animation,q)},reset:function(){f.debug("Resetting animation to beginning conditions"),f.remove.animationCallbacks(),f.restore.conditions(),f.remove.animating()},queue:function(t){f.debug("Queueing animation of",t),f.queuing=!0,B.one(z+".queue"+A,function(){f.queuing=!1,f.repaint(),f.animate.apply(this,o)})},complete:function(t){f.debug("Animation complete",o.animation),f.remove.completeCallback(),f.remove.failSafe(),f.is.looping()||(f.is.outward()?(f.verbose("Animation is outward, hiding element"),f.restore.conditions(),f.hide()):f.is.inward()?(f.verbose("Animation is outward, showing element"),f.restore.conditions(),f.show()):(f.verbose("Static animation completed"),f.restore.conditions(),o.onComplete.call(q)))},force:{visible:function(){var y=B.attr("style"),w=f.get.userStyle(),F=f.get.displayType(),C=w+"display: "+F+" !important;",v=B.css("display"),x=y===a||""===y;v!==F?(f.verbose("Overriding default display to show element",F),B.attr("style",C)):x&&B.removeAttr("style")},hidden:function(){var w=B.attr("style"),v=B.css("display"),x=w===a||""===w;"none"===v||f.is.hidden()?x&&B.removeAttr("style"):(f.verbose("Overriding default display to hide element"),B.css("display","none"))}},has:{direction:function(v){var w=!1;return v=v||o.animation,"string"==typeof v&&(v=v.split(" "),c.each(v,function(y,x){x!==r.inward&&x!==r.outward||(w=!0)})),w},inlineDisplay:function(){var v=B.attr("style")||"";return c.isArray(v.match(/display.*?;/,""))}},set:{animating:function(w){var v;f.remove.completeCallback(),w=w||o.animation,v=f.get.animationClass(w),f.save.animation(v),f.force.visible(),f.remove.hidden(),f.remove.direction(),f.start.animation(v)},duration:function(w,v){v=v||o.duration,v="number"==typeof v?v+"ms":v,(v||0===v)&&(f.verbose("Setting animation duration",v),B.css({"animation-duration":v}))},direction:function(t){t=t||f.get.direction(),t==r.inward?f.set.inward():f.set.outward()},looping:function(){f.debug("Transition set to loop"),B.addClass(r.looping)},hidden:function(){B.addClass(r.transition).addClass(r.hidden)},inward:function(){f.debug("Setting direction to inward"),B.removeClass(r.outward).addClass(r.inward)},outward:function(){f.debug("Setting direction to outward"),B.removeClass(r.inward).addClass(r.outward)},visible:function(){B.addClass(r.transition).addClass(r.visible)}},start:{animation:function(t){t=t||f.get.animationClass(),f.debug("Starting tween",t),B.addClass(t).one(z+".complete"+A,f.complete),o.useFailSafe&&f.add.failSafe(),f.set.duration(o.duration),o.onStart.call(q)}},save:{animation:function(t){f.cache||(f.cache={}),f.cache.animation=t},displayType:function(t){"none"!==t&&B.data(D.displayType,t)},transitionExists:function(v,w){c.fn.transition.exists[v]=w,f.verbose("Saving existence of transition",v,w)}},restore:{conditions:function(){var t=f.get.currentAnimation();t&&(B.removeClass(t),f.verbose("Removing animation class",f.cache)),f.remove.duration()}},add:{failSafe:function(){var t=f.get.duration();f.timer=setTimeout(function(){B.triggerHandler(z)},t+o.failSafeDelay),f.verbose("Adding fail safe timer",f.timer)}},remove:{animating:function(){B.removeClass(r.animating)},animationCallbacks:function(){f.remove.queueCallback(),f.remove.completeCallback()},queueCallback:function(){B.off(".queue"+A)},completeCallback:function(){B.off(".complete"+A)},display:function(){B.css("display","")},direction:function(){B.removeClass(r.inward).removeClass(r.outward)},duration:function(){B.css("animation-duration","")},failSafe:function(){f.verbose("Removing fail safe timer",f.timer),f.timer&&clearTimeout(f.timer)},hidden:function(){B.removeClass(r.hidden)},visible:function(){B.removeClass(r.visible)},looping:function(){f.debug("Transitions are no longer looping"),f.is.looping()&&(f.reset(),B.removeClass(r.looping))},transition:function(){B.removeClass(r.visible).removeClass(r.hidden)}},get:{settings:function(w,x,v){return"object"==typeof w?c.extend(!0,{},c.fn.transition.settings,w):"function"==typeof v?c.extend({},c.fn.transition.settings,{animation:w,onComplete:v,duration:x}):"string"==typeof x||"number"==typeof x?c.extend({},c.fn.transition.settings,{animation:w,duration:x}):"object"==typeof x?c.extend({},c.fn.transition.settings,x,{animation:w}):"function"==typeof x?c.extend({},c.fn.transition.settings,{animation:w,onComplete:x}):c.extend({},c.fn.transition.settings,{animation:w})},animationClass:function(w){var v=w||o.animation,x=f.can.transition()&&!f.has.direction()?f.get.direction()+" ":"";return r.animating+" "+r.transition+" "+x+v},currentAnimation:function(){return f.cache&&f.cache.animation!==a?f.cache.animation:!1},currentDirection:function(){return f.is.inward()?r.inward:r.outward},direction:function(){return f.is.hidden()||!f.is.visible()?r.inward:r.outward},animationDirection:function(v){var w;return v=v||o.animation,"string"==typeof v&&(v=v.split(" "),c.each(v,function(y,x){x===r.inward?w=r.inward:x===r.outward&&(w=r.outward)})),w?w:!1},duration:function(t){return t=t||o.duration,t===!1&&(t=B.css("animation-duration")||0),"string"==typeof t?t.indexOf("ms")>-1?parseFloat(t):1000*parseFloat(t):t},displayType:function(t){return t=t!==a?t:!0,o.displayType?o.displayType:(t&&B.data(D.displayType)===a&&f.can.transition(!0),B.data(D.displayType))},userStyle:function(t){return t=t||B.attr("style")||"",t.replace(/display.*?;/,"")},transitionExists:function(v){return c.fn.transition.exists[v]},animationStartEvent:function(){var w,v=d.createElement("div"),x={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(w in x){if(v.style[w]!==a){return x[w]}}return !1},animationEndEvent:function(){var w,v=d.createElement("div"),x={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(w in x){if(v.style[w]!==a){return x[w]}}return !1}},can:{transition:function(I){var x,w,G,v,J,y,F=o.animation,H=f.get.transitionExists(F),C=f.get.displayType(!1);if(H===a||I){if(f.verbose("Determining whether animation exists"),x=B.attr("class"),w=B.prop("tagName"),G=c("<"+w+" />").addClass(x).insertAfter(B),v=G.addClass(F).removeClass(r.inward).removeClass(r.outward).addClass(r.animating).addClass(r.transition).css("animationName"),J=G.addClass(r.inward).css("animationName"),C||(C=G.attr("class",x).removeAttr("style").removeClass(r.hidden).removeClass(r.visible).show().css("display"),f.verbose("Determining final display state",C),f.save.displayType(C)),G.remove(),v!=J){f.debug("Direction exists for animation",F),y=!0}else{if("none"==v||!v){return void f.debug("No animation defined in css",F)}f.debug("Static animation found",F,C),y=!1}f.save.transitionExists(F,y)}return H!==a?H:y},animate:function(){return f.can.transition()!==a}},is:{animating:function(){return B.hasClass(r.animating)},inward:function(){return B.hasClass(r.inward)},outward:function(){return B.hasClass(r.outward)},looping:function(){return B.hasClass(r.looping)},occurring:function(t){return t=t||o.animation,t="."+t.replace(" ","."),B.filter(t).length>0},visible:function(){return B.is(":visible")},hidden:function(){return"hidden"===B.css("visibility")},supported:function(){return z!==!1}},hide:function(){f.verbose("Hiding element"),f.is.animating()&&f.reset(),q.blur(),f.remove.display(),f.remove.visible(),f.set.hidden(),f.force.hidden(),o.onHide.call(q),o.onComplete.call(q)},show:function(t){f.verbose("Showing element",t),f.remove.hidden(),f.set.visible(),f.force.visible(),o.onShow.call(q),o.onComplete.call(q)},toggle:function(){f.is.visible()?f.hide():f.show()},stop:function(){f.debug("Stopping current animation"),B.triggerHandler(z)},stopAll:function(){f.debug("Stopping all animation"),f.remove.queueCallback(),B.triggerHandler(z)},clear:{queue:function(){f.debug("Clearing animation queue"),f.remove.queueCallback()}},enable:function(){f.verbose("Starting animation"),B.removeClass(r.disabled)},disable:function(){f.debug("Stopping animation"),B.addClass(r.disabled)},setting:function(v,w){if(f.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,o,v)}else{if(w===a){return o[v]}c.isPlainObject(o[v])?c.extend(!0,o[v],w):o[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,f,v)}else{if(w===a){return f[v]}f[v]=w}},debug:function(){!o.silent&&o.debug&&(o.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,o.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!o.silent&&o.verbose&&o.debug&&(o.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),f.verbose.apply(console,arguments)))},error:function(){o.silent||(f.error=Function.prototype.bind.call(console.error,console,o.name+":"),f.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;o.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,h.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:q,"Execution Time":y})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var v=o.name+":",w=0;p=!1,clearTimeout(f.performance.timer),c.each(h,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),m.length>1&&(v+=" ("+m.length+")"),(console.group!==a||console.table!==a)&&h.length>0&&(console.groupCollapsed(v),console.table?console.table(h):c.each(h,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(x,G,w){var C,y,v,F=s;return G=G||j,w=q||w,"string"==typeof x&&F!==a&&(x=x.split(/[\. ]/),C=x.length-1,c.each(x,function(I,H){var t=I!=C?H+x[I+1].charAt(0).toUpperCase()+x[I+1].slice(1):x;if(c.isPlainObject(F[t])&&I!=C){F=F[t]}else{if(F[t]!==a){return y=F[t],!1}if(!c.isPlainObject(F[H])||I==C){return F[H]!==a?(y=F[H],!1):!1}F=F[H]}})),c.isFunction(y)?v=y.apply(w,G):y!==a&&(v=y),c.isArray(g)?g.push(v):g!==a?g=[g,v]:v!==a&&(g=v),y!==a?y:!1}},f.initialize()}),g!==a?g:this},c.fn.transition.exists={},c.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(c,b,d,a){var b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();c.api=c.fn.api=function(g){var f,k=c(c.isFunction(this)?b:this),e=k.selector||"",p=(new Date).getTime(),h=[],j=arguments[0],m="string"==typeof j,i=[].slice.call(arguments,1);return k.each(function(){var O,M,I,L,H,K,u=c.isPlainObject(g)?c.extend(!0,{},c.fn.api.settings,g):c.extend({},c.fn.api.settings),N=u.namespace,r=u.metadata,s=u.selector,D=u.error,t=u.className,J="."+N,n="module-"+N,l=c(this),G=l.closest(s.form),o=u.stateContext?c(u.stateContext):l,q=this,B=o[0],z=l.data(n);K={initialize:function(){m||K.bind.events(),K.instantiate()},instantiate:function(){K.verbose("Storing instance of module",K),z=K,l.data(n,z)},destroy:function(){K.verbose("Destroying previous module for",q),l.removeData(n).off(J)},bind:{events:function(){var v=K.get.event();v?(K.verbose("Attaching API events to element",v),l.on(v+J,K.event.trigger)):"now"==u.on&&(K.debug("Querying API endpoint immediately"),K.query())}},decode:{json:function(w){if(w!==a&&"string"==typeof w){try{w=JSON.parse(w)}catch(v){}}return w}},read:{cachedResponse:function(v){var w;return b.Storage===a?void K.error(D.noStorage):(w=sessionStorage.getItem(v),K.debug("Using cached response",v,w),w=K.decode.json(w))}},write:{cachedResponse:function(w,v){return v&&""===v?void K.debug("Response empty, not caching",v):b.Storage===a?void K.error(D.noStorage):(c.isPlainObject(v)&&(v=JSON.stringify(v)),sessionStorage.setItem(w,v),void K.verbose("Storing cached response for url",w,v))}},query:function(){if(K.is.disabled()){return void K.debug("Element is disabled API request aborted")}if(K.is.loading()){if(!u.interruptRequests){return void K.debug("Cancelling request, previous request is still pending")}K.debug("Interrupting previous request"),K.abort()}return u.defaultData&&c.extend(!0,u.urlData,K.get.defaultData()),u.serializeForm&&(u.data=K.add.formData(u.data)),M=K.get.settings(),M===!1?(K.cancelled=!0,void K.error(D.beforeSend)):(K.cancelled=!1,I=K.get.templatedURL(),I||K.is.mocked()?(I=K.add.urlData(I),I||K.is.mocked()?(M.url=u.base+I,O=c.extend(!0,{},u,{type:u.method||u.type,data:L,url:u.base+I,beforeSend:u.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),K.debug("Querying URL",O.url),K.verbose("Using AJAX settings",O),"local"===u.cache&&K.read.cachedResponse(I)?(K.debug("Response returned from local cache"),K.request=K.create.request(),void K.request.resolveWith(B,[K.read.cachedResponse(I)])):void (u.throttle?u.throttleFirstRequest||K.timer?(K.debug("Throttling request",u.throttle),clearTimeout(K.timer),K.timer=setTimeout(function(){K.timer&&delete K.timer,K.debug("Sending throttled request",L,O.method),K.send.request()},u.throttle)):(K.debug("Sending request",L,O.method),K.send.request(),K.timer=setTimeout(function(){},u.throttle)):(K.debug("Sending request",L,O.method),K.send.request()))):void 0):void K.error(D.missingURL))},should:{removeError:function(){return u.hideError===!0||"auto"===u.hideError&&!K.is.form()}},is:{disabled:function(){return l.filter(s.disabled).length>0},expectingJSON:function(){return"json"===u.dataType||"jsonp"===u.dataType},form:function(){return l.is("form")||o.is("form")},mocked:function(){return u.mockResponse||u.mockResponseAsync||u.response||u.responseAsync},input:function(){return l.is("input")},loading:function(){return K.request?"pending"==K.request.state():!1},abortedRequest:function(v){return v&&v.readyState!==a&&0===v.readyState?(K.verbose("XHR request determined to be aborted"),!0):(K.verbose("XHR request was not aborted"),!1)},validResponse:function(v){return K.is.expectingJSON()&&c.isFunction(u.successTest)?(K.debug("Checking JSON returned success",u.successTest,v),u.successTest(v)?(K.debug("Response passed success test",v),!0):(K.debug("Response failed success test",v),!1)):(K.verbose("Response is not JSON, skipping validation",u.successTest,v),!0)}},was:{cancelled:function(){return K.cancelled||!1},succesful:function(){return K.request&&"resolved"==K.request.state()},failure:function(){return K.request&&"rejected"==K.request.state()},complete:function(){return K.request&&("resolved"==K.request.state()||"rejected"==K.request.state())}},add:{urlData:function(w,y){var x,v;return w&&(x=w.match(u.regExp.required),v=w.match(u.regExp.optional),y=y||u.urlData,x&&(K.debug("Looking for required URL variables",x),c.each(x,function(F,A){var E=-1!==A.indexOf("$")?A.substr(2,A.length-3):A.substr(1,A.length-2),C=c.isPlainObject(y)&&y[E]!==a?y[E]:l.data(E)!==a?l.data(E):o.data(E)!==a?o.data(E):y[E];return C===a?(K.error(D.requiredParameter,E,w),w=!1,!1):(K.verbose("Found required variable",E,C),C=u.encodeParameters?K.get.urlEncodedValue(C):C,w=w.replace(A,C),void 0)})),v&&(K.debug("Looking for optional URL variables",x),c.each(v,function(F,A){var E=-1!==A.indexOf("$")?A.substr(3,A.length-4):A.substr(2,A.length-3),C=c.isPlainObject(y)&&y[E]!==a?y[E]:l.data(E)!==a?l.data(E):o.data(E)!==a?o.data(E):y[E];C!==a?(K.verbose("Optional variable Found",E,C),w=w.replace(A,C)):(K.verbose("Optional variable not found",E),w=-1!==w.indexOf("/"+A)?w.replace("/"+A,""):w.replace(A,""))}))),w},formData:function(w){var y,x=c.fn.serializeObject!==a,v=x?G.serializeObject():G.serialize();return w=w||u.data,y=c.isPlainObject(w),y?x?(K.debug("Extending existing data with form data",w,v),w=c.extend(!0,{},w,v)):(K.error(D.missingSerialize),K.debug("Cant extend data. Replacing data with form data",w,v),w=v):(K.debug("Adding form data",v),w=v),w}},send:{request:function(){K.set.loading(),K.request=K.create.request(),K.is.mocked()?K.mockedXHR=K.create.mockedXHR():K.xhr=K.create.xhr(),u.onRequest.call(B,K.request,K.xhr)}},event:{trigger:function(v){K.query(),"submit"!=v.type&&"click"!=v.type||v.preventDefault()},xhr:{always:function(){},done:function(x,E,w){var C=this,v=(new Date).getTime()-H,A=u.loadingDuration-v,y=c.isFunction(u.onResponse)?K.is.expectingJSON()?u.onResponse.call(C,c.extend(!0,{},x)):u.onResponse.call(C,x):!1;A=A>0?A:0,y&&(K.debug("Modified API response in onResponse callback",u.onResponse,y,x),x=y),A>0&&K.debug("Response completed early delaying state change by",A),setTimeout(function(){K.is.validResponse(x)?K.request.resolveWith(C,[x,w]):K.request.rejectWith(C,[w,"invalid"])},A)},fail:function(y,x,C){var w=this,A=(new Date).getTime()-H,v=u.loadingDuration-A;v=v>0?v:0,v>0&&K.debug("Response completed early delaying state change by",v),setTimeout(function(){K.is.abortedRequest(y)?K.request.rejectWith(w,[y,"aborted",C]):K.request.rejectWith(w,[y,"error",x,C])},v)}},request:{done:function(w,v){K.debug("Successful API Response",w),"local"===u.cache&&I&&(K.write.cachedResponse(I,w),K.debug("Saving server response locally",K.cache)),u.onSuccess.call(B,w,l,v)},complete:function(x,w){var y,v;K.was.succesful()?(v=x,y=w):(y=x,v=K.get.responseFromXHR(y)),K.remove.loading(),u.onComplete.call(B,v,l,y)},fail:function(x,v,A){var y=K.get.responseFromXHR(x),w=K.get.errorFromRequest(y,v,A);return"aborted"==v?(K.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",v,A),u.onAbort.call(B,v,l,x),!0):("invalid"==v?K.debug("JSON did not pass success test. A server-side error has most likely occurred",y):"error"==v&&x!==a&&(K.debug("XHR produced a server error",v,A),200!=x.status&&A!==a&&""!==A&&K.error(D.statusMessage+A,O.url),u.onError.call(B,w,l,x)),u.errorDuration&&"aborted"!==v&&(K.debug("Adding error state"),K.set.error(),K.should.removeError()&&setTimeout(K.remove.error,u.errorDuration)),K.debug("API Request failed",w,x),void u.onFailure.call(B,y,l,x))}}},create:{request:function(){return c.Deferred().always(K.event.request.complete).done(K.event.request.done).fail(K.event.request.fail)},mockedXHR:function(){var y,F,x,E=!1,w=!1,C=!1,A=u.mockResponse||u.response,v=u.mockResponseAsync||u.responseAsync;return x=c.Deferred().always(K.event.xhr.complete).done(K.event.xhr.done).fail(K.event.xhr.fail),A?(c.isFunction(A)?(K.debug("Using specified synchronous callback",A),F=A.call(B,M)):(K.debug("Using settings specified response",A),F=A),x.resolveWith(B,[F,E,{responseText:F}])):c.isFunction(v)&&(y=function(P){K.debug("Async callback returned response",P),P?x.resolveWith(B,[P,E,{responseText:P}]):x.rejectWith(B,[{responseText:P},w,C])},K.debug("Using specified async response callback",v),v.call(B,M,y)),x},xhr:function(){var v;return v=c.ajax(O).always(K.event.xhr.always).done(K.event.xhr.done).fail(K.event.xhr.fail),K.verbose("Created server request",v,O),v}},set:{error:function(){K.verbose("Adding error state to element",o),o.addClass(t.error)},loading:function(){K.verbose("Adding loading state to element",o),o.addClass(t.loading),H=(new Date).getTime()}},remove:{error:function(){K.verbose("Removing error state from element",o),o.removeClass(t.error)},loading:function(){K.verbose("Removing loading state from element",o),o.removeClass(t.loading)}},get:{responseFromXHR:function(v){return c.isPlainObject(v)?K.is.expectingJSON()?K.decode.json(v.responseText):v.responseText:!1},errorFromRequest:function(v,x,w){return c.isPlainObject(v)&&v.error!==a?v.error:u.error[x]!==a?u.error[x]:w},request:function(){return K.request||!1},xhr:function(){return K.xhr||!1},settings:function(){var v;return v=u.beforeSend.call(B,u),v&&(v.success!==a&&(K.debug("Legacy success callback detected",v),K.error(D.legacyParameters,v.success),v.onSuccess=v.success),v.failure!==a&&(K.debug("Legacy failure callback detected",v),K.error(D.legacyParameters,v.failure),v.onFailure=v.failure),v.complete!==a&&(K.debug("Legacy complete callback detected",v),K.error(D.legacyParameters,v.complete),v.onComplete=v.complete)),v===a&&K.error(D.noReturnedValue),v===!1?v:v!==a?c.extend(!0,{},v):c.extend(!0,{},u)},urlEncodedValue:function(w){var y=b.decodeURIComponent(w),v=b.encodeURIComponent(w),x=y!==w;return x?(K.debug("URL value is already encoded, avoiding double encoding",w),w):(K.verbose("Encoding value using encodeURIComponent",w,v),v)},defaultData:function(){var v={};return c.isWindow(q)||(K.is.input()?v.value=l.val():K.is.form()||(v.text=l.text())),v},event:function(){return c.isWindow(q)||"now"==u.on?(K.debug("API called without element, no events attached"),!1):"auto"==u.on?l.is("input")?q.oninput!==a?"input":q.onpropertychange!==a?"propertychange":"keyup":l.is("form")?"submit":"click":u.on},templatedURL:function(v){if(v=v||l.data(r.action)||u.action||!1,I=l.data(r.url)||u.url||!1){return K.debug("Using specified url",I),I}if(v){if(K.debug("Looking up url for action",v,u.api),u.api[v]===a&&!K.is.mocked()){return void K.error(D.missingAction,u.action,u.api)}I=u.api[v]}else{K.is.form()&&(I=l.attr("action")||o.attr("action")||!1,K.debug("No url or action specified, defaulting to form action",I))}return I}},abort:function(){var v=K.get.xhr();v&&"resolved"!==v.state()&&(K.debug("Cancelling API request"),v.abort())},reset:function(){K.remove.error(),K.remove.loading()},setting:function(v,w){if(K.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,u,v)}else{if(w===a){return u[v]}c.isPlainObject(u[v])?c.extend(!0,u[v],w):u[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,K,v)}else{if(w===a){return K[v]}K[v]=w}},debug:function(){!u.silent&&u.debug&&(u.performance?K.performance.log(arguments):(K.debug=Function.prototype.bind.call(console.info,console,u.name+":"),K.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?K.performance.log(arguments):(K.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),K.verbose.apply(console,arguments)))},error:function(){u.silent||(K.error=Function.prototype.bind.call(console.error,console,u.name+":"),K.error.apply(console,arguments))},performance:{log:function(x){var w,y,v;u.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,h.push({Name:x[0],Arguments:[].slice.call(x,1)||"","Execution Time":y})),clearTimeout(K.performance.timer),K.performance.timer=setTimeout(K.performance.display,500)},display:function(){var v=u.name+":",w=0;p=!1,clearTimeout(K.performance.timer),c.each(h,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),(console.group!==a||console.table!==a)&&h.length>0&&(console.groupCollapsed(v),console.table?console.table(h):c.each(h,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(x,E,w){var A,y,v,C=z;return E=E||i,w=q||w,"string"==typeof x&&C!==a&&(x=x.split(/[\. ]/),A=x.length-1,c.each(x,function(Q,P){var F=Q!=A?P+x[Q+1].charAt(0).toUpperCase()+x[Q+1].slice(1):x;if(c.isPlainObject(C[F])&&Q!=A){C=C[F]}else{if(C[F]!==a){return y=C[F],!1}if(!c.isPlainObject(C[P])||Q==A){return C[P]!==a?(y=C[P],!1):(K.error(D.method,x),!1)}C=C[P]}})),c.isFunction(y)?v=y.apply(w,E):y!==a&&(v=y),c.isArray(f)?f.push(v):f!==a?f=[f,v]:v!==a&&(f=v),y}},m?(z===a&&K.initialize(),K.invoke(j)):(z!==a&&z.invoke("destroy"),K.initialize())}),f!==a?f:this},c.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2000,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(f){return f},beforeXHR:function(f){},onRequest:function(g,f){},onResponse:!1,onSuccess:function(g,f){},onComplete:function(g,f){},onFailure:function(g,f){},onError:function(g,f){},onAbort:function(g,f){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.state=function(m){var f,j=c(this),e=j.selector||"",n=("ontouchstart" in d.documentElement,(new Date).getTime()),g=[],i=arguments[0],k="string"==typeof i,h=[].slice.call(arguments,1);return j.each(function(){var q,z=c.isPlainObject(m)?c.extend(!0,{},c.fn.state.settings,m):c.extend({},c.fn.state.settings),r=z.error,u=z.metadata,o=z.className,t=z.namespace,F=z.states,B=z.text,A="."+t,D=t+"-module",l=c(this),E=this,s=l.data(D);q={initialize:function(){q.verbose("Initializing module"),z.automatic&&q.add.defaults(),z.context&&""!==e?c(z.context).on(e,"mouseenter"+A,q.change.text).on(e,"mouseleave"+A,q.reset.text).on(e,"click"+A,q.toggle.state):l.on("mouseenter"+A,q.change.text).on("mouseleave"+A,q.reset.text).on("click"+A,q.toggle.state),q.instantiate()},instantiate:function(){q.verbose("Storing instance of module",q),s=q,l.data(D,q)},destroy:function(){q.verbose("Destroying previous module",s),l.off(A).removeData(D)},refresh:function(){q.verbose("Refreshing selector cache"),l=c(E)},add:{defaults:function(){var p=m&&c.isPlainObject(m.states)?m.states:{};c.each(z.defaults,function(w,v){q.is[w]!==a&&q.is[w]()&&(q.verbose("Adding default states",w,E),c.extend(z.states,v,p))})}},is:{active:function(){return l.hasClass(o.active)},loading:function(){return l.hasClass(o.loading)},inactive:function(){return !l.hasClass(o.active)},state:function(p){return o[p]===a?!1:l.hasClass(o[p])},enabled:function(){return !l.is(z.filter.active)},disabled:function(){return l.is(z.filter.active)},textEnabled:function(){return !l.is(z.filter.text)},button:function(){return l.is(".button:not(a, .submit)")},input:function(){return l.is("input")},progress:function(){return l.is(".ui.progress")}},allow:function(p){q.debug("Now allowing state",p),F[p]=!0},disallow:function(p){q.debug("No longer allowing",p),F[p]=!1},allows:function(p){return F[p]||!1},enable:function(){l.removeClass(o.disabled)},disable:function(){l.addClass(o.disabled)},setState:function(p){q.allows(p)&&l.addClass(o[p])},removeState:function(p){q.allows(p)&&l.removeClass(o[p])},toggle:{state:function(){var p,v;if(q.allows("active")&&q.is.enabled()){if(q.refresh(),c.fn.api!==a){if(p=l.api("get request"),v=l.api("was cancelled")){q.debug("API Request cancelled by beforesend"),z.activateTest=function(){return !1},z.deactivateTest=function(){return !1}}else{if(p){return void q.listenTo(p)}}}q.change.state()}}},listenTo:function(p){q.debug("API request detected, waiting for state signal",p),p&&(B.loading&&q.update.text(B.loading),c.when(p).then(function(){"resolved"==p.state()?(q.debug("API request succeeded"),z.activateTest=function(){return !0},z.deactivateTest=function(){return !0}):(q.debug("API request failed"),z.activateTest=function(){return !1},z.deactivateTest=function(){return !1}),q.change.state()}))},change:{state:function(){q.debug("Determining state change direction"),q.is.inactive()?q.activate():q.deactivate(),z.sync&&q.sync(),z.onChange.call(E)},text:function(){q.is.textEnabled()&&(q.is.disabled()?(q.verbose("Changing text to disabled text",B.hover),q.update.text(B.disabled)):q.is.active()?B.hover?(q.verbose("Changing text to hover text",B.hover),q.update.text(B.hover)):B.deactivate&&(q.verbose("Changing text to deactivating text",B.deactivate),q.update.text(B.deactivate)):B.hover?(q.verbose("Changing text to hover text",B.hover),q.update.text(B.hover)):B.activate&&(q.verbose("Changing text to activating text",B.activate),q.update.text(B.activate)))}},activate:function(){z.activateTest.call(E)&&(q.debug("Setting state to active"),l.addClass(o.active),q.update.text(B.active),z.onActivate.call(E))},deactivate:function(){z.deactivateTest.call(E)&&(q.debug("Setting state to inactive"),l.removeClass(o.active),q.update.text(B.inactive),z.onDeactivate.call(E))},sync:function(){q.verbose("Syncing other buttons to current state"),q.is.active()?j.not(l).state("activate"):j.not(l).state("deactivate")},get:{text:function(){return z.selector.text?l.find(z.selector.text).text():l.html()},textFor:function(p){return B[p]||!1}},flash:{text:function(w,v,p){var x=q.get.text();q.debug("Flashing text message",w,v),w=w||z.text.flash,v=v||z.flashDuration,p=p||function(){},q.update.text(w),setTimeout(function(){q.update.text(x),p.call(E)},v)}},reset:{text:function(){var v=B.active||l.data(u.storedText),p=B.inactive||l.data(u.storedText);q.is.textEnabled()&&(q.is.active()&&v?(q.verbose("Resetting active text",v),q.update.text(v)):p&&(q.verbose("Resetting inactive text",v),q.update.text(p)))}},update:{text:function(v){var p=q.get.text();v&&v!==p?(q.debug("Updating text",v),z.selector.text?l.data(u.storedText,v).find(z.selector.text).text(v):l.data(u.storedText,v).html(v)):q.debug("Text is already set, ignoring update",v)}},setting:function(p,v){if(q.debug("Changing setting",p,v),c.isPlainObject(p)){c.extend(!0,z,p)}else{if(v===a){return z[p]}c.isPlainObject(z[p])?c.extend(!0,z[p],v):z[p]=v}},internal:function(p,v){if(c.isPlainObject(p)){c.extend(!0,q,p)}else{if(v===a){return q[p]}q[p]=v}},debug:function(){!z.silent&&z.debug&&(z.performance?q.performance.log(arguments):(q.debug=Function.prototype.bind.call(console.info,console,z.name+":"),q.debug.apply(console,arguments)))},verbose:function(){!z.silent&&z.verbose&&z.debug&&(z.performance?q.performance.log(arguments):(q.verbose=Function.prototype.bind.call(console.info,console,z.name+":"),q.verbose.apply(console,arguments)))},error:function(){z.silent||(q.error=Function.prototype.bind.call(console.error,console,z.name+":"),q.error.apply(console,arguments))},performance:{log:function(w){var v,p,x;z.performance&&(v=(new Date).getTime(),x=n||v,p=v-x,n=v,g.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:E,"Execution Time":p})),clearTimeout(q.performance.timer),q.performance.timer=setTimeout(q.performance.display,500)},display:function(){var p=z.name+":",v=0;n=!1,clearTimeout(q.performance.timer),c.each(g,function(x,w){v+=w["Execution Time"]}),p+=" "+v+"ms",e&&(p+=" '"+e+"'"),(console.group!==a||console.table!==a)&&g.length>0&&(console.groupCollapsed(p),console.table?console.table(g):c.each(g,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(x,v,C){var y,p,G,w=s;return v=v||h,C=E||C,"string"==typeof x&&w!==a&&(x=x.split(/[\. ]/),y=x.length-1,c.each(x,function(J,H){var I=J!=y?H+x[J+1].charAt(0).toUpperCase()+x[J+1].slice(1):x;if(c.isPlainObject(w[I])&&J!=y){w=w[I]}else{if(w[I]!==a){return p=w[I],!1}if(!c.isPlainObject(w[H])||J==y){return w[H]!==a?(p=w[H],!1):(q.error(r.method,x),!1)}w=w[H]}})),c.isFunction(p)?G=p.apply(C,v):p!==a&&(G=p),c.isArray(f)?f.push(G):f!==a?f=[f,G]:G!==a&&(f=G),p}},k?(s===a&&q.initialize(),q.invoke(i)):(s!==a&&s.invoke("destroy"),q.initialize())}),f!==a?f:this},c.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return !0},deactivateTest:function(){return !0},automatic:!0,sync:!1,flashDuration:1000,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(c,b,d,a){b="undefined"!=typeof b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.visibility=function(h){var t,e=c(this),w=e.selector||"",j=(new Date).getTime(),q=[],v=arguments[0],p="string"==typeof v,n=[].slice.call(arguments,1),i=e.length,k=0;return e.each(function(){var I,K,M,B,N=c.isPlainObject(h)?c.extend(!0,{},c.fn.visibility.settings,h):c.extend({},c.fn.visibility.settings),s=N.className,u=N.namespace,H=N.error,z=N.metadata,L="."+u,g="module-"+u,f=c(b),J=c(this),l=c(N.context),m=(J.selector||"",J.data(g)),G=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(r){setTimeout(r,0)},D=this,o=!1;B={initialize:function(){B.debug("Initializing",N),B.setup.cache(),B.should.trackChanges()&&("image"==N.type&&B.setup.image(),"fixed"==N.type&&B.setup.fixed(),N.observeChanges&&B.observeChanges(),B.bind.events()),B.save.position(),B.is.visible()||B.error(H.visible,J),N.initialCheck&&B.checkVisibility(),B.instantiate()},instantiate:function(){B.debug("Storing instance",B),J.data(g,B),m=B},destroy:function(){B.verbose("Destroying previous module"),M&&M.disconnect(),K&&K.disconnect(),f.off("load"+L,B.event.load).off("resize"+L,B.event.resize),l.off("scroll"+L,B.event.scroll).off("scrollchange"+L,B.event.scrollchange),"fixed"==N.type&&(B.resetFixed(),B.remove.placeholder()),J.off(L).removeData(g)},observeChanges:function(){"MutationObserver" in b&&(K=new MutationObserver(B.event.contextChanged),M=new MutationObserver(B.event.changed),K.observe(d,{childList:!0,subtree:!0}),M.observe(D,{childList:!0,subtree:!0}),B.debug("Setting up mutation observer",M))},bind:{events:function(){B.verbose("Binding visibility events to scroll and resize"),N.refreshOnLoad&&f.on("load"+L,B.event.load),f.on("resize"+L,B.event.resize),l.off("scroll"+L).on("scroll"+L,B.event.scroll).on("scrollchange"+L,B.event.scrollchange)}},event:{changed:function(r){B.verbose("DOM tree modified, updating visibility calculations"),B.timer=setTimeout(function(){B.verbose("DOM tree modified, updating sticky menu"),B.refresh()},100)},contextChanged:function(r){[].forEach.call(r,function(x){x.removedNodes&&[].forEach.call(x.removedNodes,function(y){(y==D||c(y).find(D).length>0)&&(B.debug("Element removed from DOM, tearing down events"),B.destroy())})})},resize:function(){B.debug("Window resized"),N.refreshOnResize&&G(B.refresh)},load:function(){B.debug("Page finished loading"),G(B.refresh)},scroll:function(){N.throttle?(clearTimeout(B.timer),B.timer=setTimeout(function(){l.triggerHandler("scrollchange"+L,[l.scrollTop()])},N.throttle)):G(function(){l.triggerHandler("scrollchange"+L,[l.scrollTop()])})},scrollchange:function(x,r){B.checkVisibility(r)}},precache:function(C,A){C instanceof Array||(C=[C]);for(var O=C.length,y=0,F=[],E=d.createElement("img"),x=function(){y++,y>=C.length&&c.isFunction(A)&&A()};O--;){E=d.createElement("img"),E.onload=x,E.onerror=x,E.src=C[O],F.push(E)}},enableCallbacks:function(){B.debug("Allowing callbacks to occur"),o=!1},disableCallbacks:function(){B.debug("Disabling all callbacks temporarily"),o=!0},should:{trackChanges:function(){return p?(B.debug("One time query, no need to bind events"),!1):(B.debug("Callbacks being attached"),!0)}},setup:{cache:function(){B.cache={occurred:{},screen:{},element:{}}},image:function(){var r=J.data(z.src);r&&(B.verbose("Lazy loading image",r),N.once=!0,N.observeChanges=!1,N.onOnScreen=function(){B.debug("Image on screen",D),B.precache(r,function(){B.set.image(r,function(){k++,k==i&&N.onAllLoaded.call(this),N.onLoad.call(this)})})})},fixed:function(){B.debug("Setting up fixed"),N.once=!1,N.observeChanges=!1,N.initialCheck=!0,N.refreshOnLoad=!0,h.transition||(N.transition=!1),B.create.placeholder(),B.debug("Added placeholder",I),N.onTopPassed=function(){B.debug("Element passed, adding fixed position",J),B.show.placeholder(),B.set.fixed(),N.transition&&c.fn.transition!==a&&J.transition(N.transition,N.duration)},N.onTopPassedReverse=function(){B.debug("Element returned to position, removing fixed",J),B.hide.placeholder(),B.remove.fixed()}}},create:{placeholder:function(){B.verbose("Creating fixed position placeholder"),I=J.clone(!1).css("display","none").addClass(s.placeholder).insertAfter(J)}},show:{placeholder:function(){B.verbose("Showing placeholder"),I.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){B.verbose("Hiding placeholder"),I.css("display","none").css("visibility","")}},set:{fixed:function(){B.verbose("Setting element to fixed position"),J.addClass(s.fixed).css({position:"fixed",top:N.offset+"px",left:"auto",zIndex:N.zIndex}),N.onFixed.call(D)},image:function(r,x){if(J.attr("src",r),N.transition){if(c.fn.transition!==a){if(J.hasClass(s.visible)){return void B.debug("Transition already occurred on this image, skipping animation")}J.transition(N.transition,N.duration,x)}else{J.fadeIn(N.duration,x)}}else{J.show()}}},is:{onScreen:function(){var r=B.get.elementCalculations();return r.onScreen},offScreen:function(){var r=B.get.elementCalculations();return r.offScreen},visible:function(){return B.cache&&B.cache.element?!(0===B.cache.element.width&&0===B.cache.element.offset.top):!1},verticallyScrollableContext:function(){var r=l.get(0)!==b?l.css("overflow-y"):!1;return"auto"==r||"scroll"==r},horizontallyScrollableContext:function(){var r=l.get(0)!==b?l.css("overflow-x"):!1;return"auto"==r||"scroll"==r}},refresh:function(){B.debug("Refreshing constants (width/height)"),"fixed"==N.type&&B.resetFixed(),B.reset(),B.save.position(),N.checkOnRefresh&&B.checkVisibility(),N.onRefresh.call(D)},resetFixed:function(){B.remove.fixed(),B.remove.occurred()},reset:function(){B.verbose("Resetting all cached values"),c.isPlainObject(B.cache)&&(B.cache.screen={},B.cache.element={})},checkVisibility:function(r){B.verbose("Checking visibility of element",B.cache.element),!o&&B.is.visible()&&(B.save.scroll(r),B.save.calculations(),B.passed(),B.passingReverse(),B.topVisibleReverse(),B.bottomVisibleReverse(),B.topPassedReverse(),B.bottomPassedReverse(),B.onScreen(),B.offScreen(),B.passing(),B.topVisible(),B.bottomVisible(),B.topPassed(),B.bottomPassed(),N.onUpdate&&N.onUpdate.call(D,B.get.elementCalculations()))},passed:function(r,y){var x=B.get.elementCalculations();if(r&&y){N.onPassed[r]=y}else{if(r!==a){return B.get.pixelsPassed(r)>x.pixelsPassed}x.passing&&c.each(N.onPassed,function(C,A){x.bottomVisible||x.pixelsPassed>B.get.pixelsPassed(C)?B.execute(A,C):N.once||B.remove.occurred(A)})}},onScreen:function(x){var r=B.get.elementCalculations(),A=x||N.onOnScreen,y="onScreen";return x&&(B.debug("Adding callback for onScreen",x),N.onOnScreen=x),r.onScreen?B.execute(A,y):N.once||B.remove.occurred(y),x!==a?r.onOnScreen:void 0},offScreen:function(x){var r=B.get.elementCalculations(),A=x||N.onOffScreen,y="offScreen";return x&&(B.debug("Adding callback for offScreen",x),N.onOffScreen=x),r.offScreen?B.execute(A,y):N.once||B.remove.occurred(y),x!==a?r.onOffScreen:void 0},passing:function(x){var r=B.get.elementCalculations(),A=x||N.onPassing,y="passing";return x&&(B.debug("Adding callback for passing",x),N.onPassing=x),r.passing?B.execute(A,y):N.once||B.remove.occurred(y),x!==a?r.passing:void 0},topVisible:function(x){var r=B.get.elementCalculations(),A=x||N.onTopVisible,y="topVisible";return x&&(B.debug("Adding callback for top visible",x),N.onTopVisible=x),r.topVisible?B.execute(A,y):N.once||B.remove.occurred(y),x===a?r.topVisible:void 0},bottomVisible:function(x){var r=B.get.elementCalculations(),A=x||N.onBottomVisible,y="bottomVisible";return x&&(B.debug("Adding callback for bottom visible",x),N.onBottomVisible=x),r.bottomVisible?B.execute(A,y):N.once||B.remove.occurred(y),x===a?r.bottomVisible:void 0},topPassed:function(x){var r=B.get.elementCalculations(),A=x||N.onTopPassed,y="topPassed";return x&&(B.debug("Adding callback for top passed",x),N.onTopPassed=x),r.topPassed?B.execute(A,y):N.once||B.remove.occurred(y),x===a?r.topPassed:void 0},bottomPassed:function(x){var r=B.get.elementCalculations(),A=x||N.onBottomPassed,y="bottomPassed";return x&&(B.debug("Adding callback for bottom passed",x),N.onBottomPassed=x),r.bottomPassed?B.execute(A,y):N.once||B.remove.occurred(y),x===a?r.bottomPassed:void 0},passingReverse:function(x){var r=B.get.elementCalculations(),A=x||N.onPassingReverse,y="passingReverse";return x&&(B.debug("Adding callback for passing reverse",x),N.onPassingReverse=x),r.passing?N.once||B.remove.occurred(y):B.get.occurred("passing")&&B.execute(A,y),x!==a?!r.passing:void 0},topVisibleReverse:function(x){var r=B.get.elementCalculations(),A=x||N.onTopVisibleReverse,y="topVisibleReverse";return x&&(B.debug("Adding callback for top visible reverse",x),N.onTopVisibleReverse=x),r.topVisible?N.once||B.remove.occurred(y):B.get.occurred("topVisible")&&B.execute(A,y),x===a?!r.topVisible:void 0},bottomVisibleReverse:function(x){var r=B.get.elementCalculations(),A=x||N.onBottomVisibleReverse,y="bottomVisibleReverse";return x&&(B.debug("Adding callback for bottom visible reverse",x),N.onBottomVisibleReverse=x),r.bottomVisible?N.once||B.remove.occurred(y):B.get.occurred("bottomVisible")&&B.execute(A,y),x===a?!r.bottomVisible:void 0},topPassedReverse:function(x){var r=B.get.elementCalculations(),A=x||N.onTopPassedReverse,y="topPassedReverse";return x&&(B.debug("Adding callback for top passed reverse",x),N.onTopPassedReverse=x),r.topPassed?N.once||B.remove.occurred(y):B.get.occurred("topPassed")&&B.execute(A,y),x===a?!r.onTopPassed:void 0},bottomPassedReverse:function(x){var r=B.get.elementCalculations(),A=x||N.onBottomPassedReverse,y="bottomPassedReverse";return x&&(B.debug("Adding callback for bottom passed reverse",x),N.onBottomPassedReverse=x),r.bottomPassed?N.once||B.remove.occurred(y):B.get.occurred("bottomPassed")&&B.execute(A,y),x===a?!r.bottomPassed:void 0},execute:function(y,x){var A=B.get.elementCalculations(),r=B.get.screenCalculations();y=y||!1,y&&(N.continuous?(B.debug("Callback being called continuously",x,A),y.call(D,A,r)):B.get.occurred(x)||(B.debug("Conditions met",x,A),y.call(D,A,r))),B.save.occurred(x)},remove:{fixed:function(){B.debug("Removing fixed position"),J.removeClass(s.fixed).css({position:"",top:"",left:"",zIndex:""}),N.onUnfixed.call(D)},placeholder:function(){B.debug("Removing placeholder content"),I&&I.remove()},occurred:function(x){if(x){var r=B.cache.occurred;r[x]!==a&&r[x]===!0&&(B.debug("Callback can now be called again",x),B.cache.occurred[x]=!1)}else{B.cache.occurred={}}}},save:{calculations:function(){B.verbose("Saving all calculations necessary to determine positioning"),B.save.direction(),B.save.screenCalculations(),B.save.elementCalculations()},occurred:function(r){r&&(B.cache.occurred[r]!==a&&B.cache.occurred[r]===!0||(B.verbose("Saving callback occurred",r),B.cache.occurred[r]=!0))},scroll:function(r){r=r+N.offset||l.scrollTop()+N.offset,B.cache.scroll=r},direction:function(){var x,r=B.get.scroll(),y=B.get.lastScroll();return x=r>y&&y?"down":y>r&&y?"up":"static",B.cache.direction=x,B.cache.direction},elementPosition:function(){var x=B.cache.element,r=B.get.screenSize();return B.verbose("Saving element position"),x.fits=x.height<r.height,x.offset=J.offset(),x.width=J.outerWidth(),x.height=J.outerHeight(),B.is.verticallyScrollableContext()&&(x.offset.top+=l.scrollTop()-l.offset().top),B.is.horizontallyScrollableContext()&&(x.offset.left+=l.scrollLeft-l.offset().left),B.cache.element=x,x},elementCalculations:function(){var x=B.get.screenCalculations(),r=B.get.elementPosition();return N.includeMargin?(r.margin={},r.margin.top=parseInt(J.css("margin-top"),10),r.margin.bottom=parseInt(J.css("margin-bottom"),10),r.top=r.offset.top-r.margin.top,r.bottom=r.offset.top+r.height+r.margin.bottom):(r.top=r.offset.top,r.bottom=r.offset.top+r.height),r.topPassed=x.top>=r.top,r.bottomPassed=x.top>=r.bottom,r.topVisible=x.bottom>=r.top&&!r.bottomPassed,r.bottomVisible=x.bottom>=r.bottom&&!r.topPassed,r.pixelsPassed=0,r.percentagePassed=0,r.onScreen=r.topVisible&&!r.bottomPassed,r.passing=r.topPassed&&!r.bottomPassed,r.offScreen=!r.onScreen,r.passing&&(r.pixelsPassed=x.top-r.top,r.percentagePassed=(x.top-r.top)/r.height),B.cache.element=r,B.verbose("Updated element calculations",r),r},screenCalculations:function(){var r=B.get.scroll();return B.save.direction(),B.cache.screen.top=r,B.cache.screen.bottom=r+B.cache.screen.height,B.cache.screen},screenSize:function(){B.verbose("Saving window position"),B.cache.screen={height:l.height()}},position:function(){B.save.screenSize(),B.save.elementPosition()}},get:{pixelsPassed:function(x){var r=B.get.elementCalculations();return x.search("%")>-1?r.height*(parseInt(x,10)/100):parseInt(x,10)},occurred:function(r){return B.cache.occurred!==a?B.cache.occurred[r]||!1:!1},direction:function(){return B.cache.direction===a&&B.save.direction(),B.cache.direction},elementPosition:function(){return B.cache.element===a&&B.save.elementPosition(),B.cache.element},elementCalculations:function(){return B.cache.element===a&&B.save.elementCalculations(),B.cache.element},screenCalculations:function(){return B.cache.screen===a&&B.save.screenCalculations(),B.cache.screen},screenSize:function(){return B.cache.screen===a&&B.save.screenSize(),B.cache.screen},scroll:function(){return B.cache.scroll===a&&B.save.scroll(),B.cache.scroll},lastScroll:function(){return B.cache.screen===a?(B.debug("First scroll event, no last scroll could be found"),!1):B.cache.screen.top}},setting:function(r,x){if(c.isPlainObject(r)){c.extend(!0,N,r)}else{if(x===a){return N[r]}N[r]=x}},internal:function(r,x){if(c.isPlainObject(r)){c.extend(!0,B,r)}else{if(x===a){return B[r]}B[r]=x}},debug:function(){!N.silent&&N.debug&&(N.performance?B.performance.log(arguments):(B.debug=Function.prototype.bind.call(console.info,console,N.name+":"),B.debug.apply(console,arguments)))},verbose:function(){!N.silent&&N.verbose&&N.debug&&(N.performance?B.performance.log(arguments):(B.verbose=Function.prototype.bind.call(console.info,console,N.name+":"),B.verbose.apply(console,arguments)))},error:function(){N.silent||(B.error=Function.prototype.bind.call(console.error,console,N.name+":"),B.error.apply(console,arguments))},performance:{log:function(y){var x,A,r;N.performance&&(x=(new Date).getTime(),r=j||x,A=x-r,j=x,q.push({Name:y[0],Arguments:[].slice.call(y,1)||"",Element:D,"Execution Time":A})),clearTimeout(B.performance.timer),B.performance.timer=setTimeout(B.performance.display,500)},display:function(){var r=N.name+":",x=0;j=!1,clearTimeout(B.performance.timer),c.each(q,function(A,y){x+=y["Execution Time"]}),r+=" "+x+"ms",w&&(r+=" '"+w+"'"),(console.group!==a||console.table!==a)&&q.length>0&&(console.groupCollapsed(r),console.table?console.table(q):c.each(q,function(A,y){console.log(y.Name+": "+y["Execution Time"]+"ms")}),console.groupEnd()),q=[]}},invoke:function(y,O,E){var C,A,x,F=m;return O=O||n,E=D||E,"string"==typeof y&&F!==a&&(y=y.split(/[\. ]/),C=y.length-1,c.each(y,function(Q,P){var r=Q!=C?P+y[Q+1].charAt(0).toUpperCase()+y[Q+1].slice(1):y;if(c.isPlainObject(F[r])&&Q!=C){F=F[r]}else{if(F[r]!==a){return A=F[r],!1}if(!c.isPlainObject(F[P])||Q==C){return F[P]!==a?(A=F[P],!1):(B.error(H.method,y),!1)}F=F[P]}})),c.isFunction(A)?x=A.apply(E,O):A!==a&&(x=A),c.isArray(t)?t.push(x):t!==a?t=[t,x]:x!==a&&(t=x),A}},p?(m===a&&B.initialize(),m.save.scroll(),m.save.calculations(),B.invoke(v)):(m!==a&&m.invoke("destroy"),B.initialize())}),t!==a?t:this},c.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:b,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1000,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);