!function(a){a.fn.caret=function(g){var d=this[0],j="true"===d.contentEditable;if(0==arguments.length){if(window.getSelection){if(j){d.focus();var h=window.getSelection().getRangeAt(0),f=h.cloneRange();return f.selectNodeContents(d),f.setEnd(h.endContainer,h.endOffset),f.toString().length}return d.selectionStart}if(document.selection){if(d.focus(),j){var h=document.selection.createRange(),f=document.body.createTextRange();return f.moveToElementText(d),f.setEndPoint("EndToEnd",h),f.text.length}var g=0,i=d.createTextRange(),f=document.selection.createRange().duplicate(),b=f.getBookmark();for(i.moveToBookmark(b);0!==i.moveStart("character",-1);){g++}return g}return d.selectionStart?d.selectionStart:0}if(-1==g&&(g=this[j?"text":"val"]().length),window.getSelection){j?(d.focus(),window.getSelection().collapse(d.firstChild,g)):d.setSelectionRange(g,g)}else{if(document.body.createTextRange){if(j){var i=document.body.createTextRange();i.moveToElementText(d),i.moveStart("character",g),i.collapse(!0),i.select()}else{var i=d.createTextRange();i.move("character",g),i.select()}}}return j||d.focus(),this}}(jQuery);