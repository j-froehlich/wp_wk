(function(b){b.fn.tipTip=function(l){var h={activation:"hover",keepAlive:false,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:false,enter:function(){},exit:function(){}};var j=b.extend(h,l);if(b("#tiptip_holder").length<=0){var a=b('<div id="tiptip_holder" style="max-width:'+j.maxWidth+';"></div>');var k=b('<div id="tiptip_content"></div>');var i=b('<div id="tiptip_arrow"></div>');b("body").append(a.html(k).prepend(i.html('<div id="tiptip_arrow_inner"></div>')))}else{var a=b("#tiptip_holder");var k=b("#tiptip_content");var i=b("#tiptip_arrow")}return this.each(function(){var f=b(this);if(j.content){var c=j.content}else{var c=f.attr(j.attribute)}if(c!=""){if(!j.content){f.removeAttr(j.attribute)}var g=false;if(j.activation=="hover"){f.hover(function(){d()},function(){if(!j.keepAlive){e()}});if(j.keepAlive){a.hover(function(){},function(){e()})}}else{if(j.activation=="focus"){f.focus(function(){d()}).blur(function(){e()})}else{if(j.activation=="click"){f.click(function(){d();return false}).hover(function(){},function(){if(!j.keepAlive){e()}});if(j.keepAlive){a.hover(function(){},function(){e()})}}}}function d(){j.enter.call(this);k.html(c);a.hide().removeAttr("class").css("margin","0");i.removeAttr("style");var N=parseInt(f.offset()["top"]);var H=parseInt(f.offset()["left"]);var Q=parseInt(f.outerWidth());var J=parseInt(f.outerHeight());var O=a.outerWidth();var T=a.outerHeight();var P=Math.round((Q-O)/2);var I=Math.round((J-T)/2);var K=Math.round(H+P);var L=Math.round(N+J+j.edgeOffset);var S="";var F="";var R=Math.round(O-12)/2;if(j.defaultPosition=="bottom"){S="_bottom"}else{if(j.defaultPosition=="top"){S="_top"}else{if(j.defaultPosition=="left"){S="_left"}else{if(j.defaultPosition=="right"){S="_right"}}}}var D=(P+H)<parseInt(b(window).scrollLeft());var E=(O+H)>parseInt(b(window).width());if((D&&P<0)||(S=="_right"&&!E)||(S=="_left"&&H<(O+j.edgeOffset+5))){S="_right";F=Math.round(T-13)/2;R=-12;K=Math.round(H+Q+j.edgeOffset);L=Math.round(N+I)}else{if((E&&P<0)||(S=="_left"&&!D)){S="_left";F=Math.round(T-13)/2;R=Math.round(O);K=Math.round(H-(O+j.edgeOffset+5));L=Math.round(N+I)}}var M=(N+J+j.edgeOffset+T+8)>parseInt(b(window).height()+b(window).scrollTop());var G=((N+J)-(j.edgeOffset+T+8))<0;if(M||(S=="_bottom"&&M)||(S=="_top"&&!G)){if(S=="_top"||S=="_bottom"){S="_top"}else{S=S+"_top"}F=T;L=Math.round(N-(T+5+j.edgeOffset))}else{if(G|(S=="_top"&&G)||(S=="_bottom"&&!M)){if(S=="_top"||S=="_bottom"){S="_bottom"}else{S=S+"_bottom"}F=-12;L=Math.round(N+J+j.edgeOffset)}}if(S=="_right_top"||S=="_left_top"){L=L+5}else{if(S=="_right_bottom"||S=="_left_bottom"){L=L-5}}if(S=="_left_top"||S=="_left_bottom"){K=K+5}i.css({"margin-left":R+"px","margin-top":F+"px"});a.css({"margin-left":K+"px","margin-top":L+"px"}).attr("class","tip"+S);if(g){clearTimeout(g)}g=setTimeout(function(){a.stop(true,true).fadeIn(j.fadeIn)},j.delay)}function e(){j.exit.call(this);if(g){clearTimeout(g)}a.fadeOut(j.fadeOut)}}})}})(jQuery);