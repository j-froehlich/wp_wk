var jush={create_links:true,timeout:1000,custom_links:{},api:{},php:/<\?(?!xml)(?:php)?|<script\s+language\s*=\s*(?:"php"|'php'|php)\s*>/i,num:/(?:0x[0-9a-f]+)|(?:\b[0-9]+\.?[0-9]*|\.[0-9]+)(?:e[+-]?[0-9]+)?/i,regexps:undefined,subpatterns:{},style:function(a){var b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.href=a;document.getElementsByTagName("head")[0].appendChild(b)},highlight:function(b,a){this.last_tag="";this.last_class="";return'<span class="jush">'+this.highlight_states([b],a.replace(/\r\n?/g,"\n"),!/^(htm|tag|xml|txt)$/.test(b))[0]+"</span>"},highlight_html:function(g,c){var b=c.replace(/<br(\s+[^>]*)?>/gi,"\n");var d=jush.highlight(g,jush.html_entity_decode(b.replace(/<[^>]*>/g,""))).replace(/(^|\n| ) /g,"$1&nbsp;");var a={};var f=0;var e=0;b.replace(/(&[^;]+;)|(?:<[^>]+>)+/g,function(j,h,i){f+=(i-e)+(h?1:0);if(!h){a[f]=j}e=i+j.length});f=0;d=d.replace(/([^&<]*)(?:(&[^;]+;)|(?:<[^>]+>)+|$)/g,function(l,k,h){for(var j=k.length;j>=0;j--){if(a[f+j]){l=l.substr(0,j)+a[f+j]+l.substr(j);delete a[f+j]}}f+=k.length+(h?1:0);return l});return d},highlight_tag:function(a,e){var f=(typeof a=="string"?document.getElementsByTagName(a):a);var d="";for(var c=(e!==undefined?e:4);c--;){d+=" "}var c=0;var b=function(){var j=new Date();while(c<f.length){var g=/(^|\s)(?:jush|language(?=-\S))($|\s|-(\S+))/.exec(f[c].className);if(g){var i=g[3]?g[3]:"htm";var h='<span class="jush-'+i+'">'+jush.highlight_html(i,f[c].innerHTML.replace(/\t/g,d.length?d:"\t"))+"</span>";if(f[c].outerHTML&&/^pre$/i.test(f[c].tagName)){f[c].outerHTML=f[c].outerHTML.match(/[^>]+>/)[0]+h+"</"+f[c].tagName+">"}else{f[c].innerHTML=h.replace(/\n/g,"<br />")}}c++;if(jush.timeout&&window.setTimeout&&(new Date()-j)>jush.timeout){window.setTimeout(b,100);break}}};b()},link_manual:function(e,d){var c=document.createElement("code");c.innerHTML=this.highlight(e,d);var a=c.getElementsByTagName("a");for(var b=0;b<a.length;b++){if(a[b].href){return a[b].href}}return""},create_link:function(c,b,a){return"<a"+(this.create_links&&c?' href="'+c+'" class="jush-help"':"")+(typeof this.create_links=="string"?this.create_links:"")+(a||"")+">"+b+"</a>"},keywords_links:function(d,c){if(/^js(_write|_code)+$/.test(d)){d="js"}if(/^(php_quo_var|php_php|php_sql|php_sqlite|php_pgsql|php_mssql|php_oracle|php_echo|php_phpini|php_http|php_mail)$/.test(d)){d="php2"}if(d=="sql_code"){d="sql"}if(this.links2&&this.links2[d]){var b=this.urls[d];var a=this.links2[d];c=c.replace(a,function(h,j){for(var e=arguments.length-4;e>1;e--){if(arguments[e]){var f=(/^http:/.test(b[e-1])||!b[e-1]?b[e-1]:b[0].replace(/\$key/g,b[e-1]));switch(d){case"php":f=f.replace(/\$1/g,arguments[e].toLowerCase());break;case"php_new":f=f.replace(/\$1/g,arguments[e].toLowerCase());break;case"phpini":f=f.replace(/\$1/g,(/^suhosin\./.test(arguments[e]))?arguments[e]:arguments[e].toLowerCase().replace(/_/g,"-"));break;case"php_doc":f=f.replace(/\$1/g,arguments[e].replace(/^\W+/,""));break;case"js_doc":f=f.replace(/\$1/g,arguments[e].replace(/^\W*(.)/,function(i,k){return k.toUpperCase()}));break;case"http":f=f.replace(/\$1/g,arguments[e].toLowerCase());break;case"sql":f=f.replace(/\$1/g,arguments[e].replace(/\b(ALTER|CREATE|DROP|RENAME|SHOW)\s+SCHEMA\b/,"$1 DATABASE").toLowerCase().replace(/\s+|_/g,"-"));break;case"sqlset":f=f.replace(/\$1/g,(a.test(arguments[e].replace(/_/g,"-"))?arguments[e].replace(/_/g,"-"):arguments[e]).toLowerCase());break;case"sqlite":f=f.replace(/\$1/g,arguments[e].toLowerCase().replace(/\s+/g,""));break;case"sqliteset":f=f.replace(/\$1/g,arguments[e].toLowerCase());break;case"sqlitestatus":f=f.replace(/\$1/g,arguments[e].toLowerCase());break;case"pgsql":f=f.replace(/\$1/g,arguments[e].toLowerCase().replace(/\s+/g,(e==1?"-":"")));break;case"pgsqlset":f=f.replace(/\$1/g,arguments[e].replace(/_/g,"-").toUpperCase());break;case"cnf":f=f.replace(/\$1/g,arguments[e].toLowerCase());break;case"js":f=f.replace(/\$1/g,arguments[e].replace(/\./g,"/"));break;default:f=f.replace(/\$1/g,arguments[e])}var g="";if(jush.api[d]){g=jush.api[d][(d=="js"?arguments[e]:arguments[e].toLowerCase())]}return(j?j:"")+jush.create_link(f,arguments[e],(g?' title="'+jush.htmlspecialchars_quo(g)+'"':""))+(arguments[arguments.length-3]?arguments[arguments.length-3]:"")}}})}if(this.custom_links[d]){c=c.replace(this.custom_links[d][1],function(f){var e=arguments[arguments.length-2];if(/<[^>]*$/.test(c.substr(0,e))){return f}return'<a href="'+jush.htmlspecialchars_quo(jush.custom_links[d][0].replace("$&",encodeURIComponent(f)))+'" class="jush-custom">'+f+"</a>"})}return c},build_regexp:function(c,a){var e=[];subpatterns=[""];for(var b in a){var f=false;subpatterns.push(b);var d=a[b].source.replace(/\\.|\((?!\?)|\[|]|([a-z])(?:-([a-z]))?/gi,function(h,i,g){if(h==(f?"]":"[")){f=!f}if(h=="("){subpatterns.push(b)}if(i&&a[b].ignoreCase){if(f){return h.toLowerCase()+h.toUpperCase()}return"["+i.toLowerCase()+i.toUpperCase()+"]"+(g?"-["+g.toLowerCase()+g.toUpperCase()+"]":"")}return h});e.push("("+d+")")}this.subpatterns[c]=subpatterns;this.regexps[c]=new RegExp(e.join("|"),"g")},highlight_states:function(e,n,A,q){if(!this.regexps){this.regexps={};for(var C in this.tr){this.build_regexp(C,this.tr[C])}}else{for(var C in this.tr){this.regexps[C].lastIndex=0}}var d=e[e.length-1];if(!this.tr[d]){return[this.htmlspecialchars(n),e]}var B=[];for(var v=1;v<e.length;v++){B.push('<span class="jush-'+e[v]+'">')}var j;var D=[];var l;var c=0;while(c<n.length&&(j=this.regexps[d].exec(n))){if(e[0]!="htm"&&/^<\/(script|style)>$/i.test(j[0])){continue}var C,r=[];for(var v=j.length;v--;){if(j[v]||!j[0].length){C=this.subpatterns[d][v];while(this.subpatterns[d][v-1]==C){v--}while(this.subpatterns[d][v]==C){r.push(j[v]);v++}break}}if(!C){return["regexp not found",[]]}if(A&&C=="php"){continue}var w=(C.charAt(0)=="_");var p=j.index+(C=="php_halt2"?j[0].length:0);var o=n.substring(c,p);var y=e[e.length-2];if(/^(att_quo|att_apo|att_val)$/.test(d)&&(/^(att_js|att_css|att_http)$/.test(y)||/^\s*javascript:/i.test(o))){D.unshift(y=="att_css"?"css_pro":(y=="att_http"?"http":"js"));l=this.highlight_states(D,this.html_entity_decode(o),true,(d=="att_apo"?this.htmlspecialchars_apo:(d=="att_quo"?this.htmlspecialchars_quo:this.htmlspecialchars_quo_apo)))}else{if(d=="css_js"||d=="cnf_http"||d=="cnf_phpini"||d=="sql_sqlset"||d=="sqlite_sqliteset"||d=="pgsql_pgsqlset"){D.unshift(d.replace(/^[^_]+_/,""));l=this.highlight_states(D,o,true)}else{if((d=="php_quo"||d=="php_apo")&&/^(php_php|php_sql|php_sqlite|php_pgsql|php_mssql|php_oracle|php_phpini|php_http|php_mail)$/.test(y)){D.unshift(y.substr(4));l=this.highlight_states(D,this.stripslashes(o),true,(d=="php_apo"?this.addslashes_apo:this.addslashes_quo))}else{if(C=="php_halt2"){D.unshift("htm");l=this.highlight_states(D,o,true)}else{if((d=="apo"||d=="quo")&&y=="js_write_code"){D.unshift("htm");l=this.highlight_states(D,o,true)}else{if((d=="apo"||d=="quo")&&y=="js_http_code"){D.unshift("http");l=this.highlight_states(D,o,true)}else{if(((d=="php_quo"||d=="php_apo")&&y=="php_echo")||(d=="php_eot2"&&e[e.length-3]=="php_echo")){var v;for(v=e.length;v--;){y=e[v];if(y.substring(0,3)!="php"&&y!="att_quo"&&y!="att_apo"&&y!="att_val"){break}y=""}var z=(d=="php_eot2"?this.addslashes:(d=="php_apo"?this.addslashes_apo:this.addslashes_quo));o=this.stripslashes(o);if(/^(att_js|att_css|att_http)$/.test(y)){var x=(e[v+1]=="att_quo"?this.htmlspecialchars_quo:(e[v+1]=="att_apo"?this.htmlspecialchars_apo:this.htmlspecialchars_quo_apo));D.unshift(y=="att_js"?"js":y.substr(4));l=this.highlight_states(D,this.html_entity_decode(o),true,function(f){return z(x(f))})}else{if(y&&D){D.unshift(y);l=this.highlight_states(D,o,true,z)}else{o=this.htmlspecialchars(o);l=[(q?q(o):o),(!w||!/^(att_js|att_css|att_http|css_js|js_write_code|js_http_code|php_php|php_sql|php_sqlite|php_pgsql|php_mssql|php_oracle|php_echo|php_phpini|php_http|php_mail)$/.test(d)?D:[])]}}}else{o=this.htmlspecialchars(o);l=[(q?q(o):o),(!w||!/^(att_js|att_css|att_http|css_js|js_write_code|js_http_code|php_php|php_sql|php_sqlite|php_pgsql|php_mssql|php_oracle|php_echo|php_phpini|php_http|php_mail)$/.test(d)?D:[])]}}}}}}}o=l[0];D=l[1];o=this.keywords_links(d,o);B.push(o);o=n.substring(p,j.index+j[0].length);o=(r.length<3?(o?'<span class="jush-op">'+this.htmlspecialchars(q?q(o):o)+"</span>":""):(r[1]?'<span class="jush-op">'+this.htmlspecialchars(q?q(r[1]):r[1])+"</span>":"")+this.htmlspecialchars(q?q(r[2]):r[2])+(r[3]?'<span class="jush-op">'+this.htmlspecialchars(q?q(r[3]):r[3])+"</span>":""));if(!w){if(this.links&&this.links[C]&&r[2]){if(/^tag/.test(C)){this.last_tag=r[2].toUpperCase()}var h=(/^tag/.test(C)&&!/^(ins|del)$/i.test(r[2])?r[2].toUpperCase():r[2].toLowerCase());var b="";var u=(this.att_mapping[h+"-"+this.last_tag]?this.att_mapping[h+"-"+this.last_tag]:this.last_tag);for(var t in this.links[C]){if(C=="att"&&this.links[C][t].test(h+"-"+u)&&!/^http:/.test(t)){h+="-"+u;b=t;break}else{var a=this.links[C][t].exec(r[2]);if(a){if(a[1]){h=(/^tag/.test(C)&&!/^(ins|del)$/i.test(a[1])?a[1].toUpperCase():a[1].toLowerCase())}b=t;if(C!="att"){break}}}}if(C=="php_met"){this.last_class=(b&&!/^(self|parent|static|dir)$/i.test(h)?h:"")}if(b){o=(r[1]?'<span class="jush-op">'+this.htmlspecialchars(q?q(r[1]):r[1])+"</span>":"");o+=this.create_link((/^http:/.test(b)?b:this.urls[C].replace(/\$key/,b)).replace(/\$val/,(/^http:/.test(b)?h.toLowerCase():h)),this.htmlspecialchars(q?q(r[2]):r[2]));o+=(r[3]?'<span class="jush-op">'+this.htmlspecialchars(q?q(r[3]):r[3])+"</span>":"")}}B.push('<span class="jush-'+C+'">',o);e.push(C);if(d=="php_eot"){this.tr.php_eot2._2=new RegExp("(\n)("+j[1]+")(;?\n)");this.build_regexp("php_eot2",(j[2]=="'"?{_2:this.tr.php_eot2._2}:this.tr.php_eot2))}else{if(d=="pgsql_eot"){this.tr.pgsql_eot2._2=new RegExp("\\$"+n.substring(c,j.index)+"\\$");this.build_regexp("pgsql_eot2",this.tr.pgsql_eot2)}}}else{if(d=="php_met"&&this.last_class){o=this.create_link(this.urls[d].replace(/\$key/,this.last_class)+"."+o.toLowerCase(),o)}B.push(o);for(var v=Math.min(e.length,+C.substr(1));v--;){B.push("</span>");e.pop()}}c=j.index+j[0].length;if(!e.length){break}d=e[e.length-1];this.regexps[d].lastIndex=c}B.push(this.keywords_links(d,this.htmlspecialchars(n.substring(c))));for(var v=1;v<e.length;v++){B.push("</span>")}e.shift();return[B.join(""),e]},att_mapping:{"align-APPLET":"IMG","align-IFRAME":"IMG","align-INPUT":"IMG","align-OBJECT":"IMG","align-COL":"TD","align-COLGROUP":"TD","align-TBODY":"TD","align-TFOOT":"TD","align-TH":"TD","align-THEAD":"TD","align-TR":"TD","border-OBJECT":"IMG","cite-BLOCKQUOTE":"Q","cite-DEL":"INS","color-BASEFONT":"FONT","face-BASEFONT":"FONT","height-INPUT":"IMG","height-TD":"TH","height-OBJECT":"IMG","label-MENU":"OPTION","longdesc-IFRAME":"FRAME","name-FIELDSET":"FORM","name-TEXTAREA":"BUTTON","name-IFRAME":"FRAME","name-OBJECT":"INPUT","src-IFRAME":"FRAME","type-AREA":"A","type-LINK":"A","width-INPUT":"IMG","width-OBJECT":"IMG","width-TD":"TH"},htmlspecialchars:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},htmlspecialchars_quo:function(a){return jush.htmlspecialchars(a).replace(/"/g,"&quot;")},htmlspecialchars_apo:function(a){return jush.htmlspecialchars(a).replace(/'/g,"&#39;")},htmlspecialchars_quo_apo:function(a){return jush.htmlspecialchars_quo(a).replace(/'/g,"&#39;")},html_entity_decode:function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&nbsp;/g,"\u00A0").replace(/&#(?:([0-9]+)|x([0-9a-f]+));/gi,function(d,c,b){return String.fromCharCode(c?c:parseInt(b,16))}).replace(/&amp;/g,"&")},addslashes:function(a){return a.replace(/\\/g,"\\$&")},addslashes_apo:function(a){return a.replace(/[\\']/g,"\\$&")},addslashes_quo:function(a){return a.replace(/[\\"]/g,"\\$&")},stripslashes:function(a){return a.replace(/\\([\\"'])/g,"$1")}};jush.tr={quo:{php:jush.php,esc:/\\/,_1:/"/},apo:{php:jush.php,esc:/\\/,_1:/'/},com:{php:jush.php,_1:/\*\//},com_nest:{com_nest:/\/\*/,_1:/\*\//},php:{_1:/\?>/},esc:{_1:/./},one:{_1:/(?=\n)/},num:{_1:/()/},sql_apo:{esc:/\\/,_0:/''/,_1:/'/},sql_quo:{esc:/\\/,_0:/""/,_1:/"/},sql_var:{_1:/(?=[^_.$a-zA-Z0-9])/},sqlite_apo:{_0:/''/,_1:/'/},sqlite_quo:{_0:/""/,_1:/"/},bac:{_1:/`/},bra:{_1:/]/}};jush.urls={};jush.links={};jush.links2={};