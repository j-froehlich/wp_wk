(function(b){b(function(){var a=(function(){function d(c){var j=b(c),i=j.closest(".payment_box"),h=this;this.onTokenChange=function(){if("new"===b(this).val()){h.showForm();h.showSaveNewCheckbox()}else{h.hideForm();h.hideSaveNewCheckbox()}};this.onCreateAccountChange=function(){if(b(this).is(":checked")){h.showSaveNewCheckbox()}else{h.hideSaveNewCheckbox()}};this.onDisplay=function(){if(0===b(":input.woocommerce-SavedPaymentMethods-tokenInput:checked",j).length){b(":input.woocommerce-SavedPaymentMethods-tokenInput:last",j).prop("checked",true)}if(0===j.data("count")){b(".woocommerce-SavedPaymentMethods-new",j).hide()}b(":input.woocommerce-SavedPaymentMethods-tokenInput:checked",j).trigger("change");if(b("input#createaccount").length&&!b("input#createaccount").is(":checked")){h.hideSaveNewCheckbox()}};this.hideForm=function(){b(".wc-payment-form",i).hide()};this.showForm=function(){b(".wc-payment-form",i).show()};this.showSaveNewCheckbox=function(){b(".woocommerce-SavedPaymentMethods-saveNew",i).show()};this.hideSaveNewCheckbox=function(){b(".woocommerce-SavedPaymentMethods-saveNew",i).hide()};b(":input.woocommerce-SavedPaymentMethods-tokenInput",j).change(this.onTokenChange);b("input#createaccount").change(this.onCreateAccountChange);this.onDisplay()}return d})();b(document.body).on("updated_checkout wc-credit-card-form-init",function(){var d=b("ul.woocommerce-SavedPaymentMethods");d.each(function(){new a(this)})})})})(jQuery);