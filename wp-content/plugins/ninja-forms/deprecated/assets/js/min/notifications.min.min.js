jQuery(document).ready(function(a){a("#settings-type").change(function(){var b=this.value;a(".notification-type").hide();a("#notification-"+b).show()});a(document).on("click",".notification-delete",function(c){c.preventDefault();var e=confirm(commonL10n.warnDelete);var d=a(this).parent().parent().parent().parent();var b=a(this).data("n_id");console.log(b);if(e){a.post(ajaxurl,{n_id:b,action:"nf_delete_notification",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(f){a(d).css("background-color","#FF0000").fadeOut("slow",function(){a(this).remove()})})}});a(document).on("click",".notification-activate",function(c){c.preventDefault();var f=a(this).parent().parent().parent().parent();var e=a(this).data("action");var b=a(this).data("n_id");var d=this;a.post(ajaxurl,{n_id:b,activate_action:e,action:"nf_"+e+"_notification",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(g){a(f).removeClass("nf-notification-active");a(f).removeClass("nf-notification-inactive");if(e=="activate"){a(f).addClass("nf-notification-active");a(d).html(nf_notifications.deactivate);a(d).data("action","deactivate")}else{a(f).addClass("nf-notification-inactive");a(d).html(nf_notifications.activate);a(d).data("action","activate")}})});a(".nf-tokenize").each(function(){var b=a(this).data("token-limit");var d=a(this).data("key");var c=a(this).data("type");a(this).tokenfield({autocomplete:{source:nf_notifications.search_fields[c],delay:100},tokens:nf_notifications.tokens[d],delimiter:["`"],showAutocompleteOnFocus:true,beautify:false,limit:b,createTokensOnBlur:true})});a(document).on("click",".nf-insert-field",function(b){b.preventDefault();var d=a(this).prev().prev(".nf-fields-combobox").val();if(d!=""&&d!=null){var c="[ninja_forms_field id="+d+"]";window.parent.send_to_editor(c)}});a(document).on("click",".nf-insert-all-fields",function(c){c.preventDefault();var b="[ninja_forms_all_fields]";window.parent.send_to_editor(b)});a(".nf-fields-combobox").combobox();a(".ui-combobox-input").focus(function(b){var c=a(this).parent().prev(".nf-fields-combobox").val();if(c==""||c==null){this.value=""}else{a(this).select()}});a(".ui-combobox-input").mouseup(function(b){b.preventDefault()});a(".ui-combobox-input").blur(function(b){if(this.value==""){this.value=a(this).parent().prev(".nf-fields-combobox").data("first-option")}});a("#filter-type").change(function(b){if(this.value==""){var c=nf_notifications.filter_type}else{var c=nf_notifications.filter_type+"&type="+this.value}a(".spinner").show();document.location.href=c});a("#toggle_email_advanced").click(function(b){b.preventDefault();a("#email_advanced").toggle()})});