jQuery(document).ready(function(g){var f=g("#progressbar"),c=g(".progress-label");if(f.progressbar({value:!1,change:function(){var i=parseInt(f.progressbar("value"));90==i?d.currentLabel=1:i%10==0&&d.changeTextLabel();var h=d.getTextLabel();c.text(h+" "+f.progressbar("value")+"%")},complete:function(){c.text("Complete!")}}),"none"!=nfProcessingAction){var d={labels:nf_processing.step_labels,currentLabel:0,getTextLabel:function(){var a=this.labels[this.currentLabel];return a},changeTextLabel:function(){var h=Object.keys(this.labels).length;1==h&&(h=0);var a=Math.floor(Math.random()*(h-2+1))+1;this.currentLabel=a}},b={setup:function(){this.interval=Math.floor(100/parseInt(this.totalSteps))},process:function(){g.post(ajaxurl,{step:this.step,total_steps:b.totalSteps,args:this.args,action:nfProcessingAction},function(a){a=g.parseJSON(a),b.step=a.step,b.totalSteps=a.total_steps,b.args=a.args,b.errors=a.errors,b.errors&&(g("#nf-upgrade-errors").removeClass("hidden"),g.each(b.errors,function(h,e){g(".nf-upgrade-errors-list").append("<li>ERROR: "+e+"</li>")})),1==b.runSetup&&(b.setup(),b.runSetup=0),a.complete?(f.progressbar("value",100),"undefined"!=typeof a.redirect&&""!=a.redirect&&(document.location.href=a.redirect)):(b.progress(),b.process())})},progress:function(){var a=f.progressbar("value")||0;f.progressbar("value",a+this.interval)},step:"loading",totalSteps:0,runSetup:1,interval:0,args:nfProcessingArgs};b.process()}});