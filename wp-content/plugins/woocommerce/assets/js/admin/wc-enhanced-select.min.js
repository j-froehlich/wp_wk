jQuery(function(c){function a(){return{language:{errorLoading:function(){return wc_enhanced_select_params.i18n_searching},inputTooLong:function(d){var e=d.input.length-d.maximum;if(1===e){return wc_enhanced_select_params.i18n_input_too_long_1}return wc_enhanced_select_params.i18n_input_too_long_n.replace("%qty%",e)},inputTooShort:function(d){var e=d.minimum-d.input.length;if(1===e){return wc_enhanced_select_params.i18n_input_too_short_1}return wc_enhanced_select_params.i18n_input_too_short_n.replace("%qty%",e)},loadingMore:function(){return wc_enhanced_select_params.i18n_load_more},maximumSelected:function(d){if(d.maximum===1){return wc_enhanced_select_params.i18n_selection_too_long_1}return wc_enhanced_select_params.i18n_selection_too_long_n.replace("%qty%",d.maximum)},noResults:function(){return wc_enhanced_select_params.i18n_no_matches},searching:function(){return wc_enhanced_select_params.i18n_searching}}}}try{c(document.body).on("wc-enhanced-select-init",function(){c(":input.wc-enhanced-select, :input.chosen_select").filter(":not(.enhanced)").each(function(){var d=c.extend({minimumResultsForSearch:10,allowClear:c(this).data("allow_clear")?true:false,placeholder:c(this).data("placeholder")},a());c(this).selectWoo(d).addClass("enhanced")});c(":input.wc-enhanced-select-nostd, :input.chosen_select_nostd").filter(":not(.enhanced)").each(function(){var d=c.extend({minimumResultsForSearch:10,allowClear:true,placeholder:c(this).data("placeholder")},a());c(this).selectWoo(d).addClass("enhanced")});c(":input.wc-product-search").filter(":not(.enhanced)").each(function(){var f={allowClear:c(this).data("allow_clear")?true:false,placeholder:c(this).data("placeholder"),minimumInputLength:c(this).data("minimum_input_length")?c(this).data("minimum_input_length"):"3",escapeMarkup:function(g){return g},ajax:{url:wc_enhanced_select_params.ajax_url,dataType:"json",delay:250,data:function(g){return{term:g.term,action:c(this).data("action")||"woocommerce_json_search_products_and_variations",security:wc_enhanced_select_params.search_products_nonce,exclude:c(this).data("exclude"),include:c(this).data("include"),limit:c(this).data("limit")}},processResults:function(h){var g=[];if(h){c.each(h,function(j,i){g.push({id:j,text:i})})}return{results:g}},cache:true}};f=c.extend(f,a());c(this).selectWoo(f).addClass("enhanced");if(c(this).data("sortable")){var e=c(this);var d=c(this).next(".select2-container").find("ul.select2-selection__rendered");d.sortable({placeholder:"ui-state-highlight select2-selection__choice",forcePlaceholderSize:true,items:"li:not(.select2-search__field)",tolerance:"pointer",stop:function(){c(d.find(".select2-selection__choice").get().reverse()).each(function(){var h=c(this).data("data").id;var g=e.find('option[value="'+h+'"]')[0];e.prepend(g)})}})}else{if(c(this).prop("multiple")){c(this).on("change",function(){var g=c(this).children();g.sort(function(i,h){var k=i.text.toLowerCase();var j=h.text.toLowerCase();if(k>j){return 1}if(k<j){return -1}return 0});c(this).html(g)})}}});c(":input.wc-customer-search").filter(":not(.enhanced)").each(function(){var f={allowClear:c(this).data("allow_clear")?true:false,placeholder:c(this).data("placeholder"),minimumInputLength:c(this).data("minimum_input_length")?c(this).data("minimum_input_length"):"1",escapeMarkup:function(g){return g},ajax:{url:wc_enhanced_select_params.ajax_url,dataType:"json",delay:1000,data:function(g){return{term:g.term,action:"woocommerce_json_search_customers",security:wc_enhanced_select_params.search_customers_nonce,exclude:c(this).data("exclude")}},processResults:function(h){var g=[];if(h){c.each(h,function(j,i){g.push({id:j,text:i})})}return{results:g}},cache:true}};f=c.extend(f,a());c(this).selectWoo(f).addClass("enhanced");if(c(this).data("sortable")){var e=c(this);var d=c(this).next(".select2-container").find("ul.select2-selection__rendered");d.sortable({placeholder:"ui-state-highlight select2-selection__choice",forcePlaceholderSize:true,items:"li:not(.select2-search__field)",tolerance:"pointer",stop:function(){c(d.find(".select2-selection__choice").get().reverse()).each(function(){var h=c(this).data("data").id;var g=e.find('option[value="'+h+'"]')[0];e.prepend(g)})}})}});c(":input.wc-category-search").filter(":not(.enhanced)").each(function(){var d=c.extend({allowClear:c(this).data("allow_clear")?true:false,placeholder:c(this).data("placeholder"),minimumInputLength:c(this).data("minimum_input_length")?c(this).data("minimum_input_length"):3,escapeMarkup:function(e){return e},ajax:{url:wc_enhanced_select_params.ajax_url,dataType:"json",delay:250,data:function(e){return{term:e.term,action:"woocommerce_json_search_categories",security:wc_enhanced_select_params.search_categories_nonce}},processResults:function(f){var e=[];if(f){c.each(f,function(h,g){e.push({id:g.slug,text:g.formatted_name})})}return{results:e}},cache:true}},a());c(this).selectWoo(d).addClass("enhanced")})}).on("wc_backbone_modal_before_remove",function(){c(".wc-enhanced-select, :input.wc-product-search, :input.wc-customer-search").filter(".select2-hidden-accessible").selectWoo("close")}).trigger("wc-enhanced-select-init");c("html").on("click",function(d){if(this===d.target){c(".wc-enhanced-select, :input.wc-product-search, :input.wc-customer-search").filter(".select2-hidden-accessible").selectWoo("close")}})}catch(b){window.console.log(b)}});