jQuery.fn.nfAdminModal=function(d,a){if(0==jQuery("#nf-admin-modal-backdrop").length){var c='<div id="nf-admin-modal-backdrop" style="display: none;"></div><div id="nf-admin-modal-wrap" class="wp-core-ui" style="display: none;"><div id="nf-admin-modal" tabindex="-1"><div id="admin-modal-title"><span id="nf-modal-title"></span><button type="button" id="nf-admin-modal-close" class="modal-close"><span class="screen-reader-text modal-close">Close</span></button></div><div id="modal-contents-wrapper" style="padding:20px;"><div id="nf-admin-modal-content" class="admin-modal-inside"></div><div class="submitbox" style="display:block;"></div></div></div></div>';jQuery("body").append(c)}if("object"===typeof d){a=d}var e={title:"",buttons:false,backgroundClose:false};if("undefined"===typeof a){a=jQuery(this).data("nfAdminModal");if("undefined"===typeof a){a=jQuery.extend(e,a)}}else{a=jQuery.extend(e,a)}jQuery(this).data("nfAdminModal",a);jQuery(this).hide();jQuery("#nf-admin-modal-content").html(this.html());jQuery("#nf-modal-title").html(a.title);if(a.buttons){jQuery(a.buttons).hide();var b=jQuery(a.buttons).html();jQuery("#modal-contents-wrapper").find(".submitbox").html(b);jQuery("#nf-admin-modal-content").addClass("admin-modal-inside");jQuery("#modal-contents-wrapper").find(".submitbox").show()}else{jQuery("#nf-admin-modal-content").removeClass("admin-modal-inside");jQuery("#modal-contents-wrapper").find(".submitbox").hide()}jQuery("#nf-admin-modal-backdrop").data("backgroundClose",a.backgroundClose);if("close"==d){jQuery.fn.nfAdminModal.close()}else{if("open"==d){jQuery.fn.nfAdminModal.open()}}};jQuery(document).on("click","#nf-admin-modal-backdrop",function(a){if(jQuery(this).data("backgroundClose")==true){jQuery.fn.nfAdminModal.close()}});jQuery(document).on("click",".modal-close",function(a){a.preventDefault();jQuery.fn.nfAdminModal.close()});jQuery.fn.nfAdminModal.close=function(){jQuery("#nf-admin-modal-backdrop").hide();jQuery("#nf-admin-modal-wrap").hide();jQuery(document).triggerHandler("nfAdminModalClose")};jQuery.fn.nfAdminModal.open=function(){jQuery("#nf-admin-modal-backdrop").show();jQuery("#nf-admin-modal-wrap").show();jQuery(document).triggerHandler("nfAdminModalOpen")};