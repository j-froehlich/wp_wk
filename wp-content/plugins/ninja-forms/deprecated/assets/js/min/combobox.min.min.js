(function(b,a){b.widget("ui.combobox",{version:"@VERSION",widgetEventPrefix:"combobox",uiCombo:null,uiInput:null,_wasOpen:false,_create:function(){var d=this,f=this.element.hide(),e,c;e=this.uiInput=b("<input />").insertAfter(f).addClass("ui-widget ui-widget-content ui-corner-left ui-combobox-input").val(f.children(":selected").text()).attr("tabindex",f.attr("tabindex"));c=this.uiCombo=e.wrap("<span>").parent().addClass("ui-combobox").insertAfter(f);e.autocomplete({delay:0,minLength:0,appendTo:c,source:b.proxy(this,"_linkSelectList")});b("<button>").attr("tabIndex",-1).attr("type","button").insertAfter(e).button({icons:{primary:"ui-icon-triangle-1-s"},text:false}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon ui-combobox-button");e.data("ui-autocomplete")._renderItem=function(g,h){return b("<li>").append(b("<a>").html(h.label)).appendTo(g)};this._on(this._events)},_linkSelectList:function(c,e){var d=new RegExp(b.ui.autocomplete.escapeRegex(c.term),"i");e(this.element.children("option").map(function(){var g=b(this).text();if(this.value&&(!c.term||d.test(g))){var f={label:g,value:g,option:this};if(c.term){f.label=g.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.ui.autocomplete.escapeRegex(c.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")}return f}}))},_events:{"autocompletechange input":function(x,g){var d=b(x.currentTarget);var k=g.item?g.item.option:null;if(!g.item){var y=new RegExp("^"+b.ui.autocomplete.escapeRegex(d.val())+"$","i"),e=false,w=null,v=0,p=-1,j=-1,q=null;if(this.options.autofillsinglematch){w=new RegExp(b.ui.autocomplete.escapeRegex(d.val()),"i")}this.element.children("option").each(function(){var c=b(this).text();if(c.match(y)){this.selected=e=true;return false}if(w){p++;if(c.match(w)){v++;q=b(this);j=p}}});if(!e){if(v==1){k=q[0];k.selected=true;var m=q.text();d.val(m);d.data("ui-autocomplete").term=m;this.element.prop("selectedIndex",j);console.log("Found single match with '"+m+"'")}else{d.val("");d.data("ui-autocomplete").term="";this.element.prop("selectedIndex",-1)}}}this._trigger("change",x,{item:k})},"autocompleteselect input":function(d,c){c.item.option.selected=true;this._trigger("select",d,{item:c.item.option})},"autocompleteopen input":function(d,c){this.uiCombo.children(".ui-autocomplete").outerWidth(this.uiCombo.outerWidth(true))},"mousedown .ui-combobox-button":function(c){this._wasOpen=this.uiInput.autocomplete("widget").is(":visible")},"click .ui-combobox-button":function(c){this.uiInput.focus();if(this._wasOpen){return}this.uiInput.autocomplete("search","")}},value:function(f){var c=this.element,g=false,d;if(!arguments.length){d=c.children(":selected");return d.length>0?d.val():null}c.prop("selectedIndex",-1);c.children("option").each(function(){if(this.value==f){this.selected=g=true;return false}});if(g){this.uiInput.val(c.children(":selected").text())}else{this.uiInput.val("");this.element.prop("selectedIndex",-1)}},_destroy:function(){this.element.show();this.uiCombo.replaceWith(this.element)},widget:function(){return this.uiCombo},_getCreateEventData:function(){return{select:this.element,combo:this.uiCombo,input:this.uiInput}}})})(jQuery);