jQuery(function(h){function g(){h(".wc-setup-content").block({message:null,overlayCSS:{background:"#fff",opacity:0.6}})}h(".button-next").on("click",function(){var a=h(this).parents("form").get(0);if(("function"!==typeof a.checkValidity)||a.checkValidity()){g()}return true});h(".wc-wizard-services").on("change",".wc-wizard-service-enable input",function(){if(h(this).is(":checked")){h(this).closest(".wc-wizard-service-toggle").removeClass("disabled");h(this).closest(".wc-wizard-service-item").addClass("checked");h(this).closest(".wc-wizard-service-item").find(".wc-wizard-service-settings").removeClass("hide")}else{h(this).closest(".wc-wizard-service-toggle").addClass("disabled");h(this).closest(".wc-wizard-service-item").removeClass("checked");h(this).closest(".wc-wizard-service-item").find(".wc-wizard-service-settings").addClass("hide")}});h(".wc-wizard-services").on("click",".wc-wizard-service-enable",function(a){var b=h(a.target);if(b.is("input")){a.stopPropagation();return}var c=h(this).find('input[type="checkbox"]');c.prop("checked",!c.prop("checked")).change()});h(".wc-wizard-services-list-toggle").on("change",".wc-wizard-service-enable input",function(){h(this).closest(".wc-wizard-services-list-toggle").toggleClass("closed");h(this).closest(".wc-wizard-services").find(".wc-wizard-service-item").slideToggle().css("display","flex")});h(".wc-wizard-services").on("change",".wc-wizard-shipping-method-select .method",function(b){var k=h(this).closest(".wc-wizard-service-description");var a=b.target.value;var c=k.find(".shipping-method-descriptions");c.find(".shipping-method-description").addClass("hide");c.find("."+a).removeClass("hide");var d=k.find(".shipping-method-settings");d.find(".shipping-method-setting").addClass("hide").find(".shipping-method-required-field").prop("required",false);d.find("."+a).removeClass("hide").find(".shipping-method-required-field").prop("required",true)});h(".wc-wizard-services").on("change",".wc-wizard-shipping-method-enable",function(){var a=h(this).is(":checked");h(this).closest(".wc-wizard-service-item").find(".shipping-method-required-field").prop("required",a)});function e(){h("form.activate-jetpack").submit()}function f(){wp.ajax.post("setup_wizard_check_jetpack").then(function(a){if(!a||!a.is_active||"yes"===a.is_active){return e()}setTimeout(f,3000)}).fail(function(){e()})}h(".activate-jetpack").on("click",".button-primary",function(a){g();if("no"===wc_setup_params.pending_jetpack_install){return true}a.preventDefault();f()});h(".wc-wizard-services").on("change","input#stripe_create_account",function(){if(h(this).is(":checked")){h(this).closest(".wc-wizard-service-settings").find("input.payment-email-input").prop("required",true);h(this).closest(".wc-wizard-service-settings").find(".wc-wizard-service-setting-stripe_email").show()}else{h(this).closest(".wc-wizard-service-settings").find("input.payment-email-input").prop("required",false);h(this).closest(".wc-wizard-service-settings").find(".wc-wizard-service-setting-stripe_email").hide()}});h(".wc-wizard-services input#stripe_create_account").change();h("select#store_country_state").on("change",function(){var a=this.value.split(":")[0];h("select#currency_code").val(wc_setup_currencies[a]).change()})});