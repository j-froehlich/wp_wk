jQuery.fn.toggleSwitch=function(d){var c={highlight:true,width:25,change:null};var a=$.extend({},c,d);$(this).each(function(e,f){b(f)});function b(h){var f=$("<div />").addClass("ui-toggle-switch");$(h).find("option").each(function(j,k){f.append("<label>"+$(k).text()+"</label>")}).end().addClass("ui-toggle-switch");var g=$("<div />").slider({min:0,max:100,animate:"fast",change:a.change,stop:function(l,k){var i=Math.round(k.value/100);var j=this;window.setTimeout(function(){e(j.parentNode,i)},11)},range:(a.highlight&&!$(h).data("hideHighlight"))?"max":null}).width(a.width);g.insertAfter(f.children().eq(0));f.delegate("label","click",function(){if($(this).hasClass("ui-state-active")){return}var i=($(this).is(":first-child"))?0:1;e(this.parentNode,i)});function e(i,j){$(i).find("label").eq(j).addClass("ui-state-active").siblings("label").removeClass("ui-state-active");$(i).parent().find("option").eq(j).attr("selected",true);$(i).find(".ui-slider").slider("value",j*100)}f.find("label").eq(h.selectedIndex).click();$(h).parent().append(f)}};