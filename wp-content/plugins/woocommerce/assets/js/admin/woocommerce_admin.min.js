jQuery(function(e){if("undefined"===typeof woocommerce_admin){return}var a=e(".edit-php.post-type-product"),f=a.find(".page-title-action:first"),d=a.find(".woocommerce-BlankState");if(0===d.length){f.after('<a href="'+woocommerce_admin.urls.export_products+'" class="page-title-action">'+woocommerce_admin.strings.export_products+"</a>");f.after('<a href="'+woocommerce_admin.urls.import_products+'" class="page-title-action">'+woocommerce_admin.strings.import_products+"</a>")}else{f.hide()}e(".woocommerce-progress-form-wrapper .button-next").on("click",function(){e(".wc-progress-form-content").block({message:null,overlayCSS:{background:"#fff",opacity:0.6}});return true});e(document.body).on("wc_add_error_tip",function(j,i,h){var k=i.position();if(i.parent().find(".wc_error_tip").length===0){i.after('<div class="wc_error_tip '+h+'">'+woocommerce_admin[h]+"</div>");i.parent().find(".wc_error_tip").css("left",k.left+i.width()-(i.width()/2)-(e(".wc_error_tip").width()/2)).css("top",k.top+i.height()).fadeIn("100")}}).on("wc_remove_error_tip",function(j,i,h){i.parent().find(".wc_error_tip."+h).fadeOut("100",function(){e(this).remove()})}).on("click",function(){e(".wc_error_tip").fadeOut("100",function(){e(this).remove()})}).on("blur",".wc_input_decimal[type=text], .wc_input_price[type=text], .wc_input_country_iso[type=text]",function(){e(".wc_error_tip").fadeOut("100",function(){e(this).remove()})}).on("change",".wc_input_price[type=text], .wc_input_decimal[type=text], .wc-order-totals #refund_amount[type=text]",function(){var i;if(e(this).is(".wc_input_price")||e(this).is("#refund_amount")){i=new RegExp("[^-0-9%\\"+woocommerce_admin.mon_decimal_point+"]+","gi")}else{i=new RegExp("[^-0-9%\\"+woocommerce_admin.decimal_point+"]+","gi")}var j=e(this).val();var h=j.replace(i,"");if(j!==h){e(this).val(h)}}).on("keyup",".wc_input_price[type=text], .wc_input_decimal[type=text], .wc_input_country_iso[type=text], .wc-order-totals #refund_amount[type=text]",function(){var j,i;if(e(this).is(".wc_input_price")||e(this).is("#refund_amount")){j=new RegExp("[^-0-9%\\"+woocommerce_admin.mon_decimal_point+"]+","gi");i="i18n_mon_decimal_error"}else{if(e(this).is(".wc_input_country_iso")){j=new RegExp("([^A-Z])+|(.){3,}","im");i="i18n_country_iso_error"}else{j=new RegExp("[^-0-9%\\"+woocommerce_admin.decimal_point+"]+","gi");i="i18n_decimal_error"}}var k=e(this).val();var h=k.replace(j,"");if(k!==h){e(document.body).triggerHandler("wc_add_error_tip",[e(this),i])}else{e(document.body).triggerHandler("wc_remove_error_tip",[e(this),i])}}).on("change","#_sale_price.wc_input_price[type=text], .wc_input_price[name^=variable_sale_price]",function(){var h=e(this),i;if(h.attr("name").indexOf("variable")!==-1){i=h.parents(".variable_pricing").find(".wc_input_price[name^=variable_regular_price]")}else{i=e("#_regular_price")}var k=parseFloat(window.accounting.unformat(h.val(),woocommerce_admin.mon_decimal_point));var j=parseFloat(window.accounting.unformat(i.val(),woocommerce_admin.mon_decimal_point));if(k>=j){e(this).val("")}}).on("keyup","#_sale_price.wc_input_price[type=text], .wc_input_price[name^=variable_sale_price]",function(){var h=e(this),i;if(h.attr("name").indexOf("variable")!==-1){i=h.parents(".variable_pricing").find(".wc_input_price[name^=variable_regular_price]")}else{i=e("#_regular_price")}var k=parseFloat(window.accounting.unformat(h.val(),woocommerce_admin.mon_decimal_point));var j=parseFloat(window.accounting.unformat(i.val(),woocommerce_admin.mon_decimal_point));if(k>=j){e(document.body).triggerHandler("wc_add_error_tip",[e(this),"i18_sale_less_than_regular_error"])}else{e(document.body).triggerHandler("wc_remove_error_tip",[e(this),"i18_sale_less_than_regular_error"])}}).on("init_tooltips",function(){var h={attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200};e(".tips, .help_tip, .woocommerce-help-tip").tipTip(h);e(".parent-tips").each(function(){e(this).closest("a, th").attr("data-tip",e(this).data("tip")).tipTip(h).css("cursor","help")})});e(document.body).trigger("init_tooltips");e(".wc_input_table.sortable tbody").sortable({items:"tr",cursor:"move",axis:"y",scrollSensitivity:40,forcePlaceholderSize:true,helper:"clone",opacity:0.65,placeholder:"wc-metabox-sortable-placeholder",start:function(h,i){i.item.css("background-color","#f6f6f6")},stop:function(h,i){i.item.removeAttr("style")}});e(".wc_input_table .remove_rows").click(function(){var h=e(this).closest(".wc_input_table").find("tbody");if(h.find("tr.current").length>0){var i=h.find("tr.current");i.each(function(){e(this).remove()})}return false});var b=false;var c=false;var g=false;e(document.body).bind("keyup keydown",function(h){c=h.shiftKey;b=h.ctrlKey||h.metaKey});e(".wc_input_table").on("focus click","input",function(i){var h=e(this).closest("table, tbody");var j=e(this).closest("tr");if((i.type==="focus"&&g!==j.index())||(i.type==="click"&&e(this).is(":focus"))){g=j.index();if(!c&&!b){e("tr",h).removeClass("current").removeClass("last_selected");j.addClass("current").addClass("last_selected")}else{if(c){e("tr",h).removeClass("current");j.addClass("selected_now").addClass("current");if(e("tr.last_selected",h).length>0){if(j.index()>e("tr.last_selected",h).index()){e("tr",h).slice(e("tr.last_selected",h).index(),j.index()).addClass("current")}else{e("tr",h).slice(j.index(),e("tr.last_selected",h).index()+1).addClass("current")}}e("tr",h).removeClass("last_selected");j.addClass("last_selected")}else{e("tr",h).removeClass("last_selected");if(b&&e(this).closest("tr").is(".current")){j.removeClass("current")}else{j.addClass("current").addClass("last_selected")}}}e("tr",h).removeClass("selected_now")}}).on("blur","input",function(){g=false});e(".woocommerce_page_wc-settings .shippingrows tbody tr:even, table.attributes-table tbody tr:nth-child(odd)").addClass("alternate");e(document.body).on("click",".show_order_items",function(){e(this).closest("td").find("table").toggle();return false});e("select.availability").change(function(){if(e(this).val()==="all"){e(this).closest("tr").next("tr").hide()}else{e(this).closest("tr").next("tr").show()}}).change();e(".hide_options_if_checked").each(function(){e(this).find("input:eq(0)").change(function(){if(e(this).is(":checked")){e(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").hide()}else{e(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").show()}}).change()});e(".show_options_if_checked").each(function(){e(this).find("input:eq(0)").change(function(){if(e(this).is(":checked")){e(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").show()}else{e(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").hide()}}).change()});e("input#woocommerce_demo_store").change(function(){if(e(this).is(":checked")){e("#woocommerce_demo_store_notice").closest("tr").show()}else{e("#woocommerce_demo_store_notice").closest("tr").hide()}}).change();e("input#woocommerce_enable_reviews").change(function(){if(e(this).is(":checked")){e("#woocommerce_enable_review_rating").closest("tr").show()}else{e("#woocommerce_enable_review_rating").closest("tr").hide()}}).change();e("table.attributes-table tbody tr:nth-child(odd)").addClass("alternate");e("#contextual-help-link").on("click",function(){e(".wc-guided-tour-embed").each(function(){var h=e(this).data("video_id");e(this).replaceWith('<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/'+h+'" frameborder="0" allowfullscreen></iframe>')})})});