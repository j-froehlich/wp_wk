jQuery(document).ready(function(a){a("#settings-type").change(function(){var b=this.value;a(".notification-type").hide();a("#notification-"+b).show()});a(document).on("click",".notification-delete",function(f){f.preventDefault();var d=confirm(commonL10n.warnDelete);var c=a(this).parent().parent().parent().parent();var b=a(this).data("n_id");console.log(b);if(d){a.post(ajaxurl,{n_id:b,action:"nf_delete_notification",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(e){a(c).css("background-color","#FF0000").fadeOut("slow",function(){a(this).remove()})})}});a(document).on("click",".notification-activate",function(g){g.preventDefault();var f=a(this).parent().parent().parent().parent();var d=a(this).data("action");var b=a(this).data("n_id");var c=this;a.post(ajaxurl,{n_id:b,activate_action:d,action:"nf_"+d+"_notification",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(e){a(f).removeClass("nf-notification-active");a(f).removeClass("nf-notification-inactive");if(d=="activate"){a(f).addClass("nf-notification-active");a(c).html(nf_notifications.deactivate);a(c).data("action","deactivate")}else{a(f).addClass("nf-notification-inactive");a(c).html(nf_notifications.activate);a(c).data("action","activate")}})});a(".nf-tokenize").each(function(){var b=a(this).data("token-limit");var c=a(this).data("key");var d=a(this).data("type");a(this).tokenfield({autocomplete:{source:nf_notifications.search_fields[d],delay:100},tokens:nf_notifications.tokens[c],delimiter:["`"],showAutocompleteOnFocus:true,beautify:false,limit:b,createTokensOnBlur:true})});a(document).on("click",".nf-insert-field",function(d){d.preventDefault();var b=a(this).prev().prev(".nf-fields-combobox").val();if(b!=""&&b!=null){var c="[ninja_forms_field id="+b+"]";window.parent.send_to_editor(c)}});a(document).on("click",".nf-insert-all-fields",function(c){c.preventDefault();var b="[ninja_forms_all_fields]";window.parent.send_to_editor(b)});a(".nf-fields-combobox").combobox();a(".ui-combobox-input").focus(function(c){var b=a(this).parent().prev(".nf-fields-combobox").val();if(b==""||b==null){this.value=""}else{a(this).select()}});a(".ui-combobox-input").mouseup(function(b){b.preventDefault()});a(".ui-combobox-input").blur(function(b){if(this.value==""){this.value=a(this).parent().prev(".nf-fields-combobox").data("first-option")}});a("#filter-type").change(function(c){if(this.value==""){var b=nf_notifications.filter_type}else{var b=nf_notifications.filter_type+"&type="+this.value}a(".spinner").show();document.location.href=b});a("#toggle_email_advanced").click(function(b){b.preventDefault();a("#email_advanced").toggle()})});