var acf={ajaxurl:"",admin_url:"",wp_version:"",post_id:0,nonce:"",l10n:null,o:null,helpers:{get_atts:null,version_compare:null,uniqid:null,sortable:null,add_message:null,is_clone_field:null,url_to_object:null},validation:null,conditional_logic:null,media:null,fields:{date_picker:null,color_picker:null,Image:null,file:null,wysiwyg:null,gallery:null,relationship:null}};(function(a){acf.helpers.isset=function(){var d=arguments,b=d.length,f=null,e;if(b===0){throw new Error("Empty isset")}f=d[0];for(i=1;i<b;i++){if(d[i]===e||f[d[i]]===e){return false}f=f[d[i]]}return true};acf.helpers.get_atts=function(b){var c={};a.each(b[0].attributes,function(e,d){if(d.name.substr(0,5)=="data-"){c[d.name.replace("data-","")]=d.value}});return c};acf.helpers.version_compare=function(h,g){if(typeof h+typeof g!="stringstring"){return false}var e=h.split("."),d=g.split("."),f=0,c=Math.max(e.length,d.length);for(;f<c;f++){if((e[f]&&!d[f]&&parseInt(e[f])>0)||(parseInt(e[f])>parseInt(d[f]))){return 1}else{if((d[f]&&!e[f]&&parseInt(d[f])>0)||(parseInt(e[f])<parseInt(d[f]))){return -1}}}return 0};acf.helpers.uniqid=function(){var b=new Date;return b.getTime()};acf.helpers.url_to_object=function(b){var e={},d=b.split("&");for(i in d){var c=d[i].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e};acf.helpers.sortable=function(c,b){b.children().each(function(){a(this).width(a(this).width())});return b};acf.helpers.is_clone_field=function(b){if(b.attr("name")&&b.attr("name").indexOf("[acfcloneindex]")!=-1){return true}return false};acf.helpers.add_message=function(b,c){var b=a('<div class="acf-message-wrapper"><div class="message updated"><p>'+b+"</p></div></div>");c.prepend(b);setTimeout(function(){b.animate({opacity:0},250,function(){b.remove()})},1500)};a.fn.exists=function(){return a(this).length>0};acf.media={div:null,frame:null,render_timout:null,clear_frame:function(){if(!this.frame){return}this.frame.detach();this.frame.dispose();this.frame=null},type:function(){var b="thickbox";if(typeof wp!=="undefined"){b="backbone"}return b},init:function(){if(this.type()!=="backbone"){return false}if(!acf.helpers.isset(wp,"media","view","AttachmentCompat","prototype")){return false}var b=wp.media.view.AttachmentCompat.prototype;b.orig_render=b.render;b.orig_dispose=b.dispose;b.className="compat-item acf_postbox no_box";b.render=function(){var c=this;if(c.ignore_render){return this}this.orig_render();setTimeout(function(){var e=c.$el.closest(".media-modal");if(e.hasClass("acf-media-modal")){return}if(e.find(".media-frame-router .acf-expand-details").exists()){return}var d=a(['<a href="#" class="acf-expand-details">','<span class="icon"></span>','<span class="is-closed">'+acf.l10n.core.expand_details+"</span>",'<span class="is-open">'+acf.l10n.core.collapse_details+"</span>","</a>"].join(""));d.on("click",function(f){f.preventDefault();if(e.hasClass("acf-expanded")){e.removeClass("acf-expanded")}else{e.addClass("acf-expanded")}});e.find(".media-frame-router").append(d)},0);clearTimeout(acf.media.render_timout);acf.media.render_timout=setTimeout(function(){a(document).trigger("acf/setup_fields",[c.$el])},50);return this};b.dispose=function(){a(document).trigger("acf/remove_fields",[this.$el]);this.orig_dispose()};b.save=function(c){var d={},e={};if(c){c.preventDefault()}_.each(this.$el.serializeArray(),function(f){if(f.name.slice(-2)==="[]"){f.name=f.name.replace("[]","");if(typeof e[f.name]==="undefined"){e[f.name]=-1}e[f.name]++;f.name+="["+e[f.name]+"]"}d[f.name]=f.value});this.ignore_render=true;this.model.saveCompat(d)}}};acf.conditional_logic={items:[],init:function(){var b=this;a(document).on("change",".field input, .field textarea, .field select",function(){if(a("#acf-has-changed").exists()){a("#acf-has-changed").val(1)}b.change(a(this))});a(document).on("acf/setup_fields",function(d,c){b.refresh(a(c))});b.refresh()},change:function(c){var e=this;var d=c.closest(".field"),b=d.attr("data-field_key");a.each(this.items,function(f,g){a.each(g.rules,function(j,h){if(h.field==b){e.refresh_field(g)}})})},refresh_field:function(b){var d=this;var c=a(".field_key-"+b.field);c.each(function(){var f=true;if(b.allorany=="any"){f=false}var e=a(this),g=true;a.each(b.rules,function(m,l){var h=a(".field_key-"+l.field);if(h.hasClass("sub_field")){h=e.siblings(".field_key-"+l.field);g=false;if(!h.exists()){e.parents("tr").each(function(){h=a(this).find(".field_key-"+l.field);if(h.exists()){return false}});g=true}}var k=e.parent("tr").parent().parent("table").parent(".layout");if(k.exists()){g=true;if(e.is("th")&&h.is("th")){h=e.closest(".layout").find("td.field_key-"+l.field)}}var k=e.parent("tr").parent().parent("table").parent(".repeater");if(k.exists()&&k.attr("data-max_rows")=="1"){g=true;if(e.is("th")&&h.is("th")){h=e.closest("table").find("td.field_key-"+l.field)}}var j=d.calculate(l,h,e);if(b.allorany=="all"){if(j==false){f=false;return false}}else{if(j==true){f=true;return false}}});e.removeClass("acf-conditional_logic-hide acf-conditional_logic-show acf-show-blank");if(f){e.find("input, textarea, select").removeAttr("disabled");e.addClass("acf-conditional_logic-show");a(document).trigger("acf/conditional_logic/show",[e,b])}else{e.find("input, textarea, select").attr("disabled","disabled");e.addClass("acf-conditional_logic-hide");if(!g){e.addClass("acf-show-blank")}a(document).trigger("acf/conditional_logic/hide",[e,b])}})},refresh:function(b){b=b||a("body");var c=this;a.each(this.items,function(d,e){a.each(e.rules,function(g,f){if(!b.find('.field[data-field_key="'+e.field+'"]').exists()){return}c.refresh_field(e)})})},calculate:function(f,c,b){var e=false;if(c.hasClass("field_type-true_false")||c.hasClass("field_type-checkbox")||c.hasClass("field_type-radio")){var d=c.find('input[value="'+f.value+'"]:checked').exists();if(f.operator=="=="){if(d){e=true}}else{if(!d){e=true}}}else{var g=c.find("input, textarea, select").last().val();if(!a.isArray(g)){g=[g]}if(f.operator=="=="){if(a.inArray(f.value,g)>-1){e=true}}else{if(a.inArray(f.value,g)<0){e=true}}}return e}};a(document).ready(function(){acf.conditional_logic.init();a(".acf_postbox > .inside > .options").each(function(){a(this).closest(".acf_postbox").addClass(a(this).attr("data-layout"))});a('#metakeyselect option[value^="field_"]').remove()});a(window).on("load",function(){acf.media.init();setTimeout(function(){try{if(a.isNumeric(acf.o.post_id)){wp.media.view.settings.post.id=acf.o.post_id}}catch(b){}a(document).trigger("acf/setup_fields",[a("#poststuff")])},10)});acf.fields.gallery={add:function(){},edit:function(){},update_count:function(){},hide_selected_items:function(){},text:{title_add:"Select Images"}}})(jQuery);(function(b){acf.screen={action:"acf/location/match_field_groups_ajax",post_id:0,page_template:0,page_parent:0,page_type:0,post_category:0,post_format:0,taxonomy:0,lang:0,nonce:0};b(document).ready(function(){acf.screen.post_id=acf.o.post_id;acf.screen.nonce=acf.o.nonce;if(b("#icl-als-first").length>0){var c=b("#icl-als-first").children("a").attr("href"),e=new RegExp("lang=([^&#]*)"),d=e.exec(c);acf.screen.lang=d[1]}});b(document).on("acf/update_field_groups",function(){if(!acf.screen.post_id||!b.isNumeric(acf.screen.post_id)){return false}b.ajax({url:ajaxurl,data:acf.screen,type:"post",dataType:"json",success:function(c){if(!c){return false}b(".acf_postbox").addClass("acf-hidden");b(".acf_postbox-toggle").addClass("acf-hidden");if(c.length==0){return false}b.each(c,function(e,d){var g=b("#acf_"+d),f=b('#adv-settings .acf_postbox-toggle[for="acf_'+d+'-hide"]');g.removeClass("acf-hidden hide-if-js");f.removeClass("acf-hidden");f.find('input[type="checkbox"]').attr("checked","checked");g.find(".acf-replace-with-fields").each(function(){var h=b(this);b.ajax({url:ajaxurl,data:{action:"acf/post/render_fields",acf_id:d,post_id:acf.o.post_id,nonce:acf.o.nonce},type:"post",dataType:"html",success:function(j){h.replaceWith(j);b(document).trigger("acf/setup_fields",g)}})})});b.ajax({url:ajaxurl,data:{action:"acf/post/get_style",acf_id:c[0],nonce:acf.o.nonce},type:"post",dataType:"html",success:function(d){b("#acf_style").html(d)}})}})});b(document).on("change","#page_template",function(){acf.screen.page_template=b(this).val();b(document).trigger("acf/update_field_groups")});b(document).on("change","#parent_id",function(){var c=b(this).val();if(c!=""){acf.screen.page_type="child";acf.screen.page_parent=c}else{acf.screen.page_type="parent";acf.screen.page_parent=0}b(document).trigger("acf/update_field_groups")});b(document).on("change",'#post-formats-select input[type="radio"]',function(){var c=b(this).val();if(c=="0"){c="standard"}acf.screen.post_format=c;b(document).trigger("acf/update_field_groups")});function a(){var c=[];b(".categorychecklist input:checked, .acf-taxonomy-field input:checked, .acf-taxonomy-field option:selected").each(function(){if(b(this).is(":hidden")||b(this).is(":disabled")){return}if(b(this).closest(".media-frame").exists()){return}if(b(this).closest(".acf-taxonomy-field").exists()){if(b(this).closest(".acf-taxonomy-field").attr("data-load_save")=="0"){return}}if(c.indexOf(b(this).val())===-1){c.push(b(this).val())}});acf.screen.post_category=c;acf.screen.taxonomy=c;b(document).trigger("acf/update_field_groups")}b(document).on("change",".categorychecklist input, .acf-taxonomy-field input, .acf-taxonomy-field select",function(){if(b(this).closest(".acf-taxonomy-field").exists()){if(b(this).closest(".acf-taxonomy-field").attr("data-save")=="0"){return}}if(b(this).closest(".media-frame").exists()){return}setTimeout(function(){a()},1)})})(jQuery);(function(b){var a=acf.fields.color_picker={$el:null,$input:null,set:function(c){b.extend(this,c);this.$input=this.$el.find('input[type="text"]');return this},init:function(){var c=this.$input;if(acf.helpers.is_clone_field(c)){return}this.$input.wpColorPicker()}};b(document).on("acf/setup_fields",function(d,c){b(c).find(".acf-color_picker").each(function(){a.set({$el:b(this)}).init()})})})(jQuery);(function(a){acf.fields.date_picker={$el:null,$input:null,$hidden:null,o:{},set:function(b){a.extend(this,b);this.$input=this.$el.find('input[type="text"]');this.$hidden=this.$el.find('input[type="hidden"]');this.o=acf.helpers.get_atts(this.$el);return this},init:function(){if(acf.helpers.is_clone_field(this.$hidden)){return}this.$input.val(this.$hidden.val());var b=a.extend({},acf.l10n.date_picker,{dateFormat:this.o.save_format,altField:this.$hidden,altFormat:this.o.save_format,changeYear:true,yearRange:"-100:+100",changeMonth:true,showButtonPanel:true,firstDay:this.o.first_day});this.$input.addClass("active").datepicker(b);this.$input.datepicker("option","dateFormat",this.o.display_format);if(a("body > #ui-datepicker-div").length>0){a("#ui-datepicker-div").wrap('<div class="ui-acf" />')}},blur:function(){if(!this.$input.val()){this.$hidden.val("")}}};a(document).on("acf/setup_fields",function(c,b){a(b).find(".acf-date_picker").each(function(){acf.fields.date_picker.set({$el:a(this)}).init()})});a(document).on("blur",'.acf-date_picker input[type="text"]',function(b){acf.fields.date_picker.set({$el:a(this).parent()}).blur()})})(jQuery);(function(b){var a=acf.media;acf.fields.file={$el:null,$input:null,o:{},set:function(c){b.extend(this,c);this.$input=this.$el.find('input[type="hidden"]');this.o=acf.helpers.get_atts(this.$el);this.o.multiple=this.$el.closest(".repeater").exists()?true:false;this.o.query={};if(this.o.library=="uploadedTo"){this.o.query.uploadedTo=acf.o.post_id}return this},init:function(){if(acf.helpers.is_clone_field(this.$input)){return}},add:function(c){var d=a.div;d.find(".acf-file-icon").attr("src",c.icon);d.find(".acf-file-title").text(c.title);d.find(".acf-file-name").text(c.name).attr("href",c.url);d.find(".acf-file-size").text(c.size);d.find(".acf-file-value").val(c.id).trigger("change");d.addClass("active");d.closest(".field").removeClass("error")},new_frame:function(c){a.div=this.$el;a.clear_frame();c.states=[];c.states.push(new wp.media.controller.Library({library:wp.media.query(this.o.query),multiple:c.multiple,title:c.title,priority:20,filterable:"all"}));if(acf.helpers.isset(wp,"media","controller","EditImage")){c.states.push(new wp.media.controller.EditImage())}a.frame=wp.media(c);a.frame.on("content:render:edit-image",function(){var e=this.state().get("image"),d=new wp.media.view.EditImage({model:e,controller:this}).render();this.content.set(d);d.loadEditor()},a.frame);a.frame.on("toolbar:create:select",function(d){d.view=new wp.media.view.Toolbar.Select({text:c.button.text,controller:this})},a.frame);return a.frame},edit:function(){var c=this.$input.val();this.new_frame({title:acf.l10n.file.edit,multiple:false,button:{text:acf.l10n.file.update}});a.frame.on("open",function(){if(a.frame.content._mode!="browse"){a.frame.content.mode("browse")}a.frame.$el.closest(".media-modal").addClass("acf-media-modal acf-expanded");var d=a.frame.state().get("selection"),e=wp.media.attachment(c);if(b.isEmptyObject(e.changed)){e.fetch()}d.add(e)});a.frame.on("close",function(){a.frame.$el.closest(".media-modal").removeClass("acf-media-modal")});acf.media.frame.open()},remove:function(){this.$el.find(".acf-file-icon").attr("src","");this.$el.find(".acf-file-title").text("");this.$el.find(".acf-file-name").text("").attr("href","");this.$el.find(".acf-file-size").text("");this.$el.find(".acf-file-value").val("").trigger("change");this.$el.removeClass("active")},popup:function(){var c=this;this.new_frame({title:acf.l10n.file.select,multiple:c.o.multiple,button:{text:acf.l10n.file.select}});acf.media.frame.on("content:activate",function(){var f=null,d=null;try{f=acf.media.frame.content.get().toolbar;d=f.get("filters")}catch(g){}if(!d){return false}if(c.o.library=="uploadedTo"){d.$el.find('option[value="uploaded"]').remove();d.$el.after("<span>"+acf.l10n.file.uploadedTo+"</span>");b.each(d.filters,function(h,e){e.props.uploadedTo=acf.o.post_id})}});acf.media.frame.on("select",function(){selection=a.frame.state().get("selection");if(selection){var d=0;selection.each(function(l){d++;if(d>1){var k=a.div.closest("td"),j=k.closest(".row"),f=j.closest(".repeater"),h=k.attr("data-field_key"),e="td .acf-file-uploader:first";if(h){e='td[data-field_key="'+h+'"] .acf-file-uploader'}if(!j.next(".row").exists()){f.find(".add-row-end").trigger("click")}a.div=j.next(".row").find(e)}var g={id:l.id,title:l.attributes.title,name:l.attributes.filename,url:l.attributes.url,icon:l.attributes.icon,size:l.attributes.filesize};acf.fields.file.add(g)})}});acf.media.frame.open();return false}};b(document).on("click",".acf-file-uploader .acf-button-edit",function(c){c.preventDefault();acf.fields.file.set({$el:b(this).closest(".acf-file-uploader")}).edit()});b(document).on("click",".acf-file-uploader .acf-button-delete",function(c){c.preventDefault();acf.fields.file.set({$el:b(this).closest(".acf-file-uploader")}).remove()});b(document).on("click",".acf-file-uploader .add-file",function(c){c.preventDefault();acf.fields.file.set({$el:b(this).closest(".acf-file-uploader")}).popup()})})(jQuery);(function(a){acf.fields.google_map={$el:null,$input:null,o:{},api:{sensor:false,libraries:"places"},ready:false,geocoder:false,map:false,maps:{},set:function(b){a.extend(this,b);this.$input=this.$el.find(".input-address");this.o=acf.helpers.get_atts(this.$el);if(this.maps[this.o.id]){this.map=this.maps[this.o.id]}return this},init:function(){if(!this.geocoder){this.geocoder=new google.maps.Geocoder()}this.ready=true;if(acf.helpers.is_clone_field(this.$input)){return}this.render()},render:function(){var g=this,d=this.$el;var c={zoom:parseInt(this.o.zoom),center:new google.maps.LatLng(this.o.lat,this.o.lng),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.$el.find(".canvas")[0],c);var e=new google.maps.places.Autocomplete(this.$el.find(".search")[0]);e.map=this.map;e.bindTo("bounds",this.map);this.map.marker=new google.maps.Marker({draggable:true,raiseOnDrag:true,map:this.map});this.map.$el=this.$el;var f=this.$el.find(".input-lat").val(),b=this.$el.find(".input-lng").val();if(f&&b){this.update(f,b).center()}google.maps.event.addListener(e,"place_changed",function(n){var l=this.map.$el;var j=l.find(".search").val();l.find(".input-address").val(j);l.find(".title h4").text(j);var h=this.getPlace();if(h.geometry){var m=h.geometry.location.lat(),k=h.geometry.location.lng();g.set({$el:l}).update(m,k).center()}else{g.geocoder.geocode({address:j},function(q,o){if(o!=google.maps.GeocoderStatus.OK){console.log("Geocoder failed due to: "+o);return}if(!q[0]){console.log("No results found");return}h=q[0];var r=h.geometry.location.lat(),p=h.geometry.location.lng();g.set({$el:l}).update(r,p).center()})}});google.maps.event.addListener(this.map.marker,"dragend",function(){var k=this.map.$el;var h=this.map.marker.getPosition(),l=h.lat(),j=h.lng();g.set({$el:k}).update(l,j).sync()});google.maps.event.addListener(this.map,"click",function(l){var j=this.$el;var k=l.latLng.lat(),h=l.latLng.lng();g.set({$el:j}).update(k,h).sync()});this.maps[this.o.id]=this.map},update:function(c,b){var d=new google.maps.LatLng(c,b);this.$el.find(".input-lat").val(c);this.$el.find(".input-lng").val(b).trigger("change");this.map.marker.setPosition(d);this.map.marker.setVisible(true);this.$el.addClass("active");this.$el.closest(".field").removeClass("error");return this},center:function(){var b=this.map.marker.getPosition(),d=this.o.lat,c=this.o.lng;if(b){d=b.lat();c=b.lng()}var e=new google.maps.LatLng(d,c);this.map.setCenter(e)},sync:function(){var c=this.$el;var b=this.map.marker.getPosition(),d=new google.maps.LatLng(b.lat(),b.lng());this.geocoder.geocode({latLng:d},function(g,f){if(f!=google.maps.GeocoderStatus.OK){console.log("Geocoder failed due to: "+f);return}if(!g[0]){console.log("No results found");return}var e=g[0];c.find(".title h4").text(e.formatted_address);c.find(".input-address").val(e.formatted_address).trigger("change")});return this},locate:function(){var c=this,b=this.$el;if(!navigator.geolocation){alert(acf.l10n.google_map.browser_support);return this}b.find(".title h4").text(acf.l10n.google_map.locating+"...");b.addClass("active");navigator.geolocation.getCurrentPosition(function(d){var f=d.coords.latitude,e=d.coords.longitude;c.set({$el:b}).update(f,e).sync().center()})},clear:function(){this.$el.removeClass("active");this.$el.find(".search").val("");this.$el.find(".input-address").val("");this.$el.find(".input-lat").val("");this.$el.find(".input-lng").val("");this.map.marker.setVisible(false)},edit:function(){this.$el.removeClass("active");var b=this.$el.find(".title h4").text();this.$el.find(".search").val(b).focus()},refresh:function(){google.maps.event.trigger(this.map,"resize");this.center()}};a(document).on("acf/setup_fields",function(f,d){var b=acf.fields.google_map;var c=a(d).find(".acf-google-map");if(!c.exists()){return false}if(!acf.helpers.isset(window,"google","load")){a.getScript("https://www.google.com/jsapi",function(){google.load("maps","3",{other_params:a.param(b.api),callback:function(){c.each(function(){acf.fields.google_map.set({$el:a(this)}).init()})}})});return false}if(!acf.helpers.isset(window,"google","maps","places")){google.load("maps","3",{other_params:a.param(b.api),callback:function(){c.each(function(){acf.fields.google_map.set({$el:a(this)}).init()})}});return false}c.each(function(){acf.fields.google_map.set({$el:a(this)}).init()});return true});a(document).on("click",".acf-google-map .acf-sprite-remove",function(b){b.preventDefault();acf.fields.google_map.set({$el:a(this).closest(".acf-google-map")}).clear();a(this).blur()});a(document).on("click",".acf-google-map .acf-sprite-locate",function(b){b.preventDefault();acf.fields.google_map.set({$el:a(this).closest(".acf-google-map")}).locate();a(this).blur()});a(document).on("click",".acf-google-map .title h4",function(b){b.preventDefault();acf.fields.google_map.set({$el:a(this).closest(".acf-google-map")}).edit()});a(document).on("keydown",".acf-google-map .search",function(b){if(b.which==13){return false}});a(document).on("blur",".acf-google-map .search",function(c){var b=a(this).closest(".acf-google-map");if(b.find(".input-lat").val()){b.addClass("active")}});a(document).on("acf/fields/tab/show acf/conditional_logic/show",function(c,b){if(!acf.fields.google_map.ready){return}if(b.attr("data-field_type")=="google_map"){acf.fields.google_map.set({$el:b.find(".acf-google-map")}).refresh()}})})(jQuery);(function(b){var a=acf.media;acf.fields.image={$el:null,$input:null,o:{},set:function(c){b.extend(this,c);this.$input=this.$el.find('input[type="hidden"]');this.o=acf.helpers.get_atts(this.$el);this.o.multiple=this.$el.closest(".repeater").exists()?true:false;this.o.query={type:"image"};if(this.o.library=="uploadedTo"){this.o.query.uploadedTo=acf.o.post_id}return this},init:function(){if(acf.helpers.is_clone_field(this.$input)){return}},add:function(c){var d=a.div;d.find(".acf-image-image").attr("src",c.url);d.find(".acf-image-value").val(c.id).trigger("change");d.addClass("active");d.closest(".field").removeClass("error")},new_frame:function(c){a.div=this.$el;a.clear_frame();c.states=[];c.states.push(new wp.media.controller.Library({library:wp.media.query(this.o.query),multiple:c.multiple,title:c.title,priority:20,filterable:"all"}));if(acf.helpers.isset(wp,"media","controller","EditImage")){c.states.push(new wp.media.controller.EditImage())}a.frame=wp.media(c);a.frame.on("content:render:edit-image",function(){var e=this.state().get("image"),d=new wp.media.view.EditImage({model:e,controller:this}).render();this.content.set(d);d.loadEditor()},a.frame);a.frame.on("toolbar:create:select",function(d){d.view=new wp.media.view.Toolbar.Select({text:c.button.text,controller:this})},a.frame);return a.frame},edit:function(){var c=this.$input.val();this.new_frame({title:acf.l10n.image.edit,multiple:false,button:{text:acf.l10n.image.update}});a.frame.on("open",function(){if(a.frame.content._mode!="browse"){a.frame.content.mode("browse")}a.frame.$el.closest(".media-modal").addClass("acf-media-modal acf-expanded");var d=a.frame.state().get("selection"),e=wp.media.attachment(c);if(b.isEmptyObject(e.changed)){e.fetch()}d.add(e)});a.frame.on("close",function(){a.frame.$el.closest(".media-modal").removeClass("acf-media-modal")});a.frame.open()},remove:function(){this.$el.find(".acf-image-image").attr("src","");this.$el.find(".acf-image-value").val("").trigger("change");this.$el.removeClass("active")},popup:function(){var c=this;this.new_frame({title:acf.l10n.image.select,multiple:c.o.multiple,button:{text:acf.l10n.image.select}});a.frame.on("content:activate",function(){var f=null,d=null;try{f=acf.media.frame.content.get().toolbar;d=f.get("filters")}catch(g){}if(!d){return false}b.each(d.filters,function(h,e){e.props.type="image"});if(c.o.library=="uploadedTo"){d.$el.find('option[value="uploaded"]').remove();d.$el.after("<span>"+acf.l10n.image.uploadedTo+"</span>");b.each(d.filters,function(h,e){e.props.uploadedTo=acf.o.post_id})}d.$el.find("option").each(function(){var e=b(this).attr("value");if(e=="uploaded"&&c.o.library=="all"){return}if(e.indexOf("image")===-1){b(this).remove()}});d.$el.val("image").trigger("change")});acf.media.frame.on("select",function(){selection=a.frame.state().get("selection");if(selection){var d=0;selection.each(function(l){d++;if(d>1){var k=a.div.closest("td"),h=k.closest(".row"),f=h.closest(".repeater"),g=k.attr("data-field_key"),e="td .acf-image-uploader:first";if(g){e='td[data-field_key="'+g+'"] .acf-image-uploader'}if(!h.next(".row").exists()){f.find(".add-row-end").trigger("click")}a.div=h.next(".row").find(e)}var j={id:l.id,url:l.attributes.url};if(l.attributes.sizes&&l.attributes.sizes[c.o.preview_size]){j.url=l.attributes.sizes[c.o.preview_size].url}acf.fields.image.add(j)})}});acf.media.frame.open();return false},text:{title_add:"Select Image",title_edit:"Edit Image"}};b(document).on("click",".acf-image-uploader .acf-button-edit",function(c){c.preventDefault();acf.fields.image.set({$el:b(this).closest(".acf-image-uploader")}).edit()});b(document).on("click",".acf-image-uploader .acf-button-delete",function(c){c.preventDefault();acf.fields.image.set({$el:b(this).closest(".acf-image-uploader")}).remove()});b(document).on("click",".acf-image-uploader .add-image",function(c){c.preventDefault();acf.fields.image.set({$el:b(this).closest(".acf-image-uploader")}).popup()})})(jQuery);(function(a){acf.fields.radio={$el:null,$input:null,$other:null,farbtastic:null,set:function(b){a.extend(this,b);this.$input=this.$el.find('input[type="radio"]:checked');this.$other=this.$el.find('input[type="text"]');return this},change:function(){if(this.$input.val()=="other"){this.$other.attr("name",this.$input.attr("name"));this.$other.show()}else{this.$other.attr("name","");this.$other.hide()}}};a(document).on("change",'.acf-radio-list input[type="radio"]',function(b){acf.fields.radio.set({$el:a(this).closest(".acf-radio-list")}).change()})})(jQuery);(function(a){acf.fields.relationship={$el:null,$input:null,$left:null,$right:null,o:{},timeout:null,set:function(b){a.extend(this,b);this.$input=this.$el.children('input[type="hidden"]');this.$left=this.$el.find(".relationship_left"),this.$right=this.$el.find(".relationship_right");this.o=acf.helpers.get_atts(this.$el);return this},init:function(){var c=this;if(acf.helpers.is_clone_field(this.$input)){return}this.$right.find(".relationship_list").height(this.$left.height()-2);this.$right.find(".relationship_list").sortable({axis:"y",items:"> li",forceHelperSize:true,forcePlaceholderSize:true,scroll:true,update:function(){c.$input.trigger("change")}});var b=this.$el;this.$left.find(".relationship_list").scrollTop(0).on("scroll",function(f){if(b.hasClass("loading")||b.hasClass("no-results")){return}if(a(this).scrollTop()+a(this).innerHeight()>=a(this).get(0).scrollHeight){var d=parseInt(b.attr("data-paged"));b.attr("data-paged",(d+1));c.set({$el:b}).fetch()}});this.fetch()},fetch:function(){var c=this,b=this.$el;b.addClass("loading");a.ajax({url:acf.o.ajaxurl,type:"post",dataType:"json",data:a.extend({action:"acf/fields/relationship/query_posts",post_id:acf.o.post_id,nonce:acf.o.nonce},this.o),success:function(d){c.set({$el:b}).render(d)}})},render:function(b){var c=this;this.$el.removeClass("no-results").removeClass("loading");if(this.o.paged==1){this.$el.find(".relationship_left li:not(.load-more)").remove()}if(!b||!b.html){this.$el.addClass("no-results");return}this.$el.find(".relationship_left .load-more").before(b.html);if(!b.next_page_exists){this.$el.addClass("no-results")}this.$left.find("a").each(function(){var d=a(this).attr("data-post_id");if(c.$right.find('a[data-post_id="'+d+'"]').exists()){a(this).parent().addClass("hide")}})},add:function(c){var e=c.attr("data-post_id"),d=c.html();if(this.$right.find("a").length>=this.o.max){alert(acf.l10n.relationship.max.replace("{max}",this.o.max));return false}if(c.parent().hasClass("hide")){return false}c.parent().addClass("hide");var b=["<li>",'<a href="#" data-post_id="'+c.attr("data-post_id")+'">',c.html()+'<span class="acf-button-remove"></span>',"</a>",'<input type="hidden" name="'+this.$input.attr("name")+'[]" value="'+c.attr("data-post_id")+'" />',"</li>"].join("");this.$right.find(".relationship_list").append(b);this.$input.trigger("change");this.$el.closest(".field").removeClass("error")},remove:function(b){b.parent().remove();this.$left.find('a[data-post_id="'+b.attr("data-post_id")+'"]').parent("li").removeClass("hide");this.$input.trigger("change")}};a(document).on("acf/setup_fields",function(c,b){a(b).find(".acf_relationship").each(function(){acf.fields.relationship.set({$el:a(this)}).init()})});a(document).on("change",".acf_relationship .select-post_type",function(c){var d=a(this).val(),b=a(this).closest(".acf_relationship");b.attr("data-post_type",d);b.attr("data-paged",1);acf.fields.relationship.set({$el:b}).fetch()});a(document).on("click",".acf_relationship .relationship_left .relationship_list a",function(b){b.preventDefault();acf.fields.relationship.set({$el:a(this).closest(".acf_relationship")}).add(a(this));a(this).blur()});a(document).on("click",".acf_relationship .relationship_right .relationship_list a",function(b){b.preventDefault();acf.fields.relationship.set({$el:a(this).closest(".acf_relationship")}).remove(a(this));a(this).blur()});a(document).on("keyup",".acf_relationship input.relationship_search",function(c){var d=a(this).val(),b=a(this).closest(".acf_relationship");b.attr("data-s",d);b.attr("data-paged",1);clearTimeout(acf.fields.relationship.timeout);acf.fields.relationship.timeout=setTimeout(function(){acf.fields.relationship.set({$el:b}).fetch()},500)});a(document).on("keypress",".acf_relationship input.relationship_search",function(b){if(b.which==13){b.preventDefault()}})})(jQuery);(function(a){acf.fields.tab={add_group:function(b){var c="";if(b.is("tbody")){c='<tr class="acf-tab-wrap"><td colspan="2"><ul class="hl clearfix acf-tab-group"></ul></td></tr>'}else{c='<div class="acf-tab-wrap"><ul class="hl clearfix acf-tab-group"></ul></div>'}b.children(".field_type-tab:first").before(c)},add_tab:function(f){var e=f.closest(".field"),b=e.parent(),d=e.attr("data-field_key"),c=f.text();if(!b.children(".acf-tab-wrap").exists()){this.add_group(b)}b.children(".acf-tab-wrap").find(".acf-tab-group").append('<li><a class="acf-tab-button" href="#" data-key="'+d+'">'+c+"</a></li>")},toggle:function(d){var e=this;var b=d.closest(".acf-tab-wrap").parent(),c=d.attr("data-key");d.parent("li").addClass("active").siblings("li").removeClass("active");b.children(".field_type-tab").each(function(){var f=a(this);if(f.attr("data-field_key")==c){e.show_tab_fields(a(this))}else{e.hide_tab_fields(a(this))}})},show_tab_fields:function(b){b.nextUntil(".field_type-tab").each(function(){a(this).removeClass("acf-tab_group-hide").addClass("acf-tab_group-show");a(document).trigger("acf/fields/tab/show",[a(this)])})},hide_tab_fields:function(b){b.nextUntil(".field_type-tab").each(function(){a(this).removeClass("acf-tab_group-show").addClass("acf-tab_group-hide");a(document).trigger("acf/fields/tab/hide",[a(this)])})},refresh:function(b){var c=this;b.find(".acf-tab-group").each(function(){a(this).find(".acf-tab-button:first").each(function(){c.toggle(a(this))})})}};a(document).on("acf/setup_fields",function(c,b){a(b).find(".acf-tab").each(function(){acf.fields.tab.add_tab(a(this))});acf.fields.tab.refresh(a(b))});a(document).on("click",".acf-tab-button",function(b){b.preventDefault();acf.fields.tab.toggle(a(this));a(this).trigger("blur")});a(document).on("acf/conditional_logic/hide",function(f,b,c){if(b.attr("data-field_type")!="tab"){return}var d=b.siblings(".acf-tab-wrap").find('a[data-key="'+b.attr("data-field_key")+'"]');if(d.is(":hidden")){return}d.parent().hide();if(d.parent().siblings(":visible").exists()){d.parent().siblings(":visible").first().children("a").trigger("click")}else{acf.fields.tab.hide_tab_fields(b)}});a(document).on("acf/conditional_logic/show",function(f,b,c){if(b.attr("data-field_type")!="tab"){return}var d=b.siblings(".acf-tab-wrap").find('a[data-key="'+b.attr("data-field_key")+'"]');if(d.is(":visible")){return}d.parent().show();if(d.parent().hasClass("active")){d.trigger("click");return}if(d.parent().siblings(".active").is(":hidden")){d.trigger("click");return}})})(jQuery);(function(a){acf.validation={status:true,disabled:false,run:function(){var b=this;b.status=true;a(".field.required, .form-field.required").each(function(){b.validate(a(this))})},show_spinner:function(b){if(!b.exists()){return}var c=acf.o.wp_version;if(parseFloat(c)>=4.2){b.addClass("is-active")}else{b.css("display","inline-block")}},hide_spinner:function(b){if(!b.exists()){return}var c=acf.o.wp_version;if(parseFloat(c)>=4.2){b.removeClass("is-active")}else{b.css("display","none")}},validate:function(b){var g=false,k=null;b.data("validation",true);if(b.is(":hidden")){g=true;if(b.hasClass("acf-tab_group-hide")){g=false;var f=b.prevAll(".field_type-tab:first"),h=b.prevAll(".acf-tab-wrap:first");if(f.hasClass("acf-conditional_logic-hide")){g=true}else{k=h.find('.acf-tab-button[data-key="'+f.attr("data-field_key")+'"]')}}}if(b.hasClass("acf-conditional_logic-hide")){g=true}if(b.closest(".postbox.acf-hidden").exists()){g=true}if(g){return}if(b.find('input[type="text"], input[type="email"], input[type="number"], input[type="hidden"], textarea').val()==""){b.data("validation",false)}if(b.find(".acf_wysiwyg").exists()&&typeof(tinyMCE)=="object"){b.data("validation",true);var c=b.find(".wp-editor-area").attr("id"),e=tinyMCE.get(c);if(e&&!e.getContent()){b.data("validation",false)}}if(b.find("select").exists()){b.data("validation",true);if(b.find("select").val()=="null"||!b.find("select").val()){b.data("validation",false)}}if(b.find('input[type="radio"]').exists()){b.data("validation",false);if(b.find('input[type="radio"]:checked').exists()){b.data("validation",true)}}if(b.find('input[type="checkbox"]').exists()){b.data("validation",false);if(b.find('input[type="checkbox"]:checked').exists()){b.data("validation",true)}}if(b.find(".acf_relationship").exists()){b.data("validation",false);if(b.find(".acf_relationship .relationship_right input").exists()){b.data("validation",true)}}if(b.find(".repeater").exists()){b.data("validation",false);if(b.find(".repeater tr.row").exists()){b.data("validation",true)}}if(b.find(".acf-gallery").exists()){b.data("validation",false);if(b.find(".acf-gallery .thumbnail").exists()){b.data("validation",true)}}a(document).trigger("acf/validate_field",[b]);if(!b.data("validation")){this.status=false;b.closest(".field").addClass("error");if(b.data("validation_message")){var j=b.find("p.label:first"),d=null;j.children(".acf-error-message").remove();j.append('<span class="acf-error-message"><i class="bit"></i>'+b.data("validation_message")+"</span>")}if(k){k.trigger("click")}}}};a(document).on("focus click",".field.required input, .field.required textarea, .field.required select",function(b){a(this).closest(".field").removeClass("error")});a(document).on("click","#save-post",function(){acf.validation.disabled=true});a(document).on("submit","#post",function(){if(acf.validation.disabled){return true}acf.validation.run();if(!acf.validation.status){var b=a(this);b.siblings("#message").remove();b.before('<div id="message" class="error"><p>'+acf.l10n.validation.error+"</p></div>");if(a("#submitdiv").exists()){a("#submitdiv").find(".disabled").removeClass("disabled");a("#submitdiv").find(".button-disabled").removeClass("button-disabled");a("#submitdiv").find(".button-primary-disabled").removeClass("button-primary-disabled");acf.validation.hide_spinner(a("#submitdiv .spinner"))}return false}a(".acf_postbox.acf-hidden").remove();return true})})(jQuery);(function(a){var b=acf.fields.wysiwyg={$el:null,$textarea:null,o:{},set:function(c){a.extend(this,c);this.$textarea=this.$el.find("textarea");this.o=acf.helpers.get_atts(this.$el);this.o.id=this.$textarea.attr("id");return this},has_tinymce:function(){var c=false;if(typeof(tinyMCE)=="object"){c=true}return c},get_toolbar:function(){if(acf.helpers.isset(this,"toolbars",this.o.toolbar)){return this.toolbars[this.o.toolbar]}return false},init:function(){if(acf.helpers.is_clone_field(this.$textarea)){return}var j=this.o.id,g=this.get_toolbar(),h="mceAddControl",e="theme_advanced_buttons{i}";var f=a.extend({},tinyMCE.settings);if(tinymce.majorVersion==4){h="mceAddEditor";e="toolbar{i}"}if(g){for(var d=1;d<5;d++){var c="";if(acf.helpers.isset(g,"theme_advanced_buttons"+d)){c=g["theme_advanced_buttons"+d]}tinyMCE.settings[e.replace("{i}",d)]=c}}tinyMCE.execCommand(h,false,j);a(document).trigger("acf/wysiwyg/load",j);setTimeout(function(){b.add_events(j)},100);tinyMCE.settings=f;wpActiveEditor=null},add_events:function(f){var c=tinyMCE.get(f);if(!c){return}var e=a("#wp-"+f+"-wrap"),d=a(c.getBody());e.on("click",function(){a(document).trigger("acf/wysiwyg/click",f)});d.on("focus",function(){a(document).trigger("acf/wysiwyg/focus",f)});d.on("blur",function(){a(document).trigger("acf/wysiwyg/blur",f)})},destroy:function(){var h=this.o.id,g="mceRemoveControl";try{var c=tinyMCE.get(h);if(!c){return}if(tinymce.majorVersion==4){g="mceRemoveEditor"}var f=c.getContent();tinyMCE.execCommand(g,false,h);this.$textarea.val(f)}catch(d){}wpActiveEditor=null}};a(document).on("acf/setup_fields",function(d,c){if(!b.has_tinymce()){return}a(c).find(".acf_wysiwyg").each(function(){b.set({$el:a(this)}).destroy()});setTimeout(function(){a(c).find(".acf_wysiwyg").each(function(){b.set({$el:a(this)}).init()})},0)});a(document).on("acf/remove_fields",function(d,c){if(!b.has_tinymce()){return}c.find(".acf_wysiwyg").each(function(){b.set({$el:a(this)}).destroy()})});a(document).on("acf/wysiwyg/click",function(c,d){wpActiveEditor=d;container=a("#wp-"+d+"-wrap").closest(".field").removeClass("error")});a(document).on("acf/wysiwyg/focus",function(c,d){wpActiveEditor=d;container=a("#wp-"+d+"-wrap").closest(".field").removeClass("error")});a(document).on("acf/wysiwyg/blur",function(f,g){wpActiveEditor=null;var d=tinyMCE.get(g);if(!d){return}var c=d.getElement();d.save();a(c).trigger("change")});a(document).on("acf/sortable_start",function(d,c){if(!b.has_tinymce()){return}a(c).find(".acf_wysiwyg").each(function(){b.set({$el:a(this)}).destroy()})});a(document).on("acf/sortable_stop",function(d,c){if(!b.has_tinymce()){return}a(c).find(".acf_wysiwyg").each(function(){b.set({$el:a(this)}).init()})});a(window).on("load",function(){if(!b.has_tinymce()){return}var c=a("#wp-content-wrap").exists(),d=a("#wp-acf_settings-wrap").exists();mode="tmce";if(d){if(a("#wp-acf_settings-wrap").hasClass("html-active")){mode="html"}}setTimeout(function(){if(d&&mode=="html"){a("#acf_settings-tmce").trigger("click")}},1);setTimeout(function(){if(d&&mode=="html"){a("#acf_settings-html").trigger("click")}if(c){b.add_events("content")}},11)});a(document).on("click",".acf_wysiwyg a.mce_fullscreen",function(){var c=a(this).closest(".acf_wysiwyg"),d=c.attr("data-upload");if(d=="no"){a("#mce_fullscreen_container td.mceToolbar .mce_add_media").remove()}})})(jQuery);