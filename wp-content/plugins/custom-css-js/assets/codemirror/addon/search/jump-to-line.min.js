"use strict";(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../dialog/dialog"],a):a(CodeMirror)})(function(c){function a(g,i,f,j,h){g.openDialog?g.openDialog(i,h,{value:j,selectValueOnOpen:!0}):h(prompt(f,j))}function b(f,g){var e=Number(g);return/^[-+]/.test(g)?f.getCursor().line+e:e-1}c.commands.jumpToLine=function(e){var f=e.getCursor();a(e,'Jump to line: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use line:column or scroll% syntax)</span>',"Jump to line:",f.line+1+":"+f.ch,function(d){if(d){var g;(g=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(d))?e.setCursor(b(e,g[1]),Number(g[2])):(g=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(d))?(d=Math.round(e.lineCount()*Number(g[1])/100),/^[-+]/.test(g[1])&&(d=f.line+d+1),e.setCursor(d-1,f.ch)):(g=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(d))&&e.setCursor(b(e,g[1]),f.ch)}})};c.keyMap["default"]["Alt-G"]="jumpToLine"});