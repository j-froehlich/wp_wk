function bodyLoad(a){if(window.jush){jush.create_links=' target="_blank" rel="noreferrer"';if(a){for(var d in jush.urls){var f=jush.urls;if(typeof f[d]!="string"){f=f[d];d=0}f[d]=f[d].replace(/\/doc\/mysql/,"/doc/refman/"+a).replace(/\/docs\/current/,"/docs/"+a)}}if(window.jushLinks){jush.custom_links=jushLinks}jush.highlight_tag("code",0);var b=document.getElementsByTagName("textarea");for(var c=0;c<b.length;c++){if(/(^|\s)jush-/.test(b[c].className)){var e=jush.textarea(b[c]);if(e){setupSubmitHighlightInput(e)}}}}}function formField(c,a){for(var b=0;b<c.length;b++){if(c[b].name==a){return c[b]}}}function typePassword(b,a){try{b.type=(a?"text":"password")}catch(c){}}var dbCtrl;var dbPrevious={};function dbMouseDown(b,a){dbCtrl=isCtrl(b);if(dbPrevious[a.name]==undefined){dbPrevious[a.name]=a.value}}function dbChange(a){if(dbCtrl){a.form.target="_blank"}a.form.submit();a.form.target="";if(dbCtrl&&dbPrevious[a.name]!=undefined){a.value=dbPrevious[a.name];dbPrevious[a.name]=undefined}}function selectFieldChange(b){var a=(function(){var j=b.getElementsByTagName("input");for(var f=0;f<j.length;f++){if(j[f].value&&/^fulltext/.test(j[f].name)){return true}}var l=b.limit.value;var k=b.getElementsByTagName("select");var n=false;var e={};for(var f=0;f<k.length;f++){var m=k[f];var d=selectValue(m);var g=/^(where.+)col\]/.exec(m.name);if(g){var h=selectValue(b[g[1]+"op]"]);var c=b[g[1]+"val]"].value;if(d in indexColumns&&(!/LIKE|REGEXP/.test(h)||(h=="LIKE"&&c.charAt(0)!="%"))){return true}else{if(d||c){l=false}}}if((g=/^(columns.+)fun\]/.exec(m.name))){if(/^(avg|count|count distinct|group_concat|max|min|sum)$/.test(d)){n=true}var c=selectValue(b[g[1]+"col]"]);if(c){e[d&&d!="count"?"":c]=1}}if(d&&/^order/.test(m.name)){if(!(d in indexColumns)){l=false}break}}if(n){for(var d in e){if(!(d in indexColumns)){l=false}}}return l})();setHtml("noindex",(a?"":"!"))}var added=".",rowCount;function delimiterEqual(e,d,c){return(e==d+"_"+c||e==d+c||e==d+c.charAt(0).toUpperCase()+c.substr(1))}function idfEscape(a){return a.replace(/`/,"``")}function editingNameChange(k){var b=k.name.substr(0,k.name.length-7);var h=formField(k.form,b+"[type]");var a=h.options;var n;var c=k.value;for(var f=a.length;f--;){var g=/(.+)`(.+)/.exec(a[f].value);if(!g){if(n&&f==a.length-2&&c==a[n].value.replace(/.+`/,"")&&b=="fields[1]"){return}break}var m=g[1];var d=g[2];var l=[m,m.replace(/s$/,""),m.replace(/es$/,"")];for(var e=0;e<l.length;e++){m=l[e];if(c==d||c==m||delimiterEqual(c,m,d)||delimiterEqual(c,d,m)){if(n){return}n=f;break}}}if(n){h.selectedIndex=n;h.onchange()}}function editingAddRow(b,k){var c=/(\d+)(\.\d+)?/.exec(b.name);var e=c[0]+(c[2]?added.substr(c[2].length):added)+"1";var h=parentTag(b,"tr");var g=cloneNode(h);var j=h.getElementsByTagName("select");var f=g.getElementsByTagName("select");for(var a=0;a<j.length;a++){f[a].name=j[a].name.replace(/[0-9.]+/,e);f[a].selectedIndex=j[a].selectedIndex}j=h.getElementsByTagName("input");f=g.getElementsByTagName("input");var d=f[0];for(var a=0;a<j.length;a++){if(j[a].name=="auto_increment_col"){f[a].value=e;f[a].checked=false}f[a].name=j[a].name.replace(/([0-9.]+)/,e);if(/\[(orig|field|comment|default)/.test(j[a].name)){f[a].value=""}if(/\[(has_default)/.test(j[a].name)){f[a].checked=false}}j[0].onchange=function(){editingNameChange(j[0])};j[0].onkeyup=function(){};h.parentNode.insertBefore(g,h.nextSibling);if(k){d.onchange=function(){editingNameChange(d)};d.onkeyup=function(){};d.focus()}added+="0";rowCount++;return true}function editingRemoveRow(b,a){var c=formField(b.form,b.name.replace(/[^\[]+(.+)/,a));c.parentNode.removeChild(c);parentTag(b,"tr").style.display="none";return true}function editingMoveRow(b,a){var c=parentTag(b,"tr");if(!("nextElementSibling" in c)){return false}c.parentNode.insertBefore(c,a?c.previousElementSibling:c.nextElementSibling?c.nextElementSibling.nextElementSibling:c.parentNode.firstChild);return true}var lastType="";function editingTypeChange(d){var a=d.name.substr(0,d.name.length-6);var e=selectValue(d);for(var b=0;b<d.form.elements.length;b++){var c=d.form.elements[b];if(c.name==a+"[length]"){if(!((/(char|binary)$/.test(lastType)&&/(char|binary)$/.test(e))||(/(enum|set)$/.test(lastType)&&/(enum|set)$/.test(e)))){c.value=""}c.onchange.apply(c)}if(lastType=="timestamp"&&c.name==a+"[has_default]"&&/timestamp/i.test(formField(d.form,a+"[default]").value)){c.checked=false}if(c.name==a+"[collation]"){alterClass(c,"hidden",!/(char|text|enum|set)$/.test(e))}if(c.name==a+"[unsigned]"){alterClass(c,"hidden",!/((^|[^o])int|float|double|decimal)$/.test(e))}if(c.name==a+"[on_update]"){alterClass(c,"hidden",!/timestamp|datetime/.test(e))}if(c.name==a+"[on_delete]"){alterClass(c,"hidden",!/`/.test(e))}}helpClose()}function editingLengthChange(a){alterClass(a,"required",!a.value.length&&/var(char|binary)$/.test(selectValue(a.parentNode.previousSibling.firstChild)))}function editingLengthFocus(b){var d=b.parentNode;if(/(enum|set)$/.test(selectValue(d.previousSibling.firstChild))){var a=document.getElementById("enum-edit");var c=b.value;a.value=(/^'.+'$/.test(c)?c.substr(1,c.length-2).replace(/','/g,"\n").replace(/''/g,"'"):c);d.appendChild(a);b.style.display="none";a.style.display="inline";a.focus()}}function editingLengthBlur(a){var b=a.parentNode.firstChild;var c=a.value;b.value=(/^'[^\n]+'$/.test(c)?c:"'"+c.replace(/\n+$/,"").replace(/'/g,"''").replace(/\n/g,"','")+"'");b.style.display="inline";a.style.display="none"}function columnShow(d,c){var a=document.getElementById("edit-fields").getElementsByTagName("tr");for(var b=0;b<a.length;b++){alterClass(a[b].getElementsByTagName("td")[c],"hidden",!d)}}function editingHideDefaults(){if(innerWidth<document.documentElement.scrollWidth){document.getElementById("form")["defaults"].checked=false;columnShow(false,5)}}function partitionByChange(b){var a=/RANGE|LIST/.test(selectValue(b));alterClass(b.form.partitions,"hidden",a||!b.selectedIndex);alterClass(document.getElementById("partition-table"),"hidden",!a);helpClose()}function partitionNameChange(a){var b=cloneNode(parentTag(a,"tr"));b.firstChild.firstChild.value="";parentTag(a,"table").appendChild(b);a.onchange=function(){}}function foreignAddRow(c){c.onchange=function(){};var d=cloneNode(parentTag(c,"tr"));var b=d.getElementsByTagName("select");for(var a=0;a<b.length;a++){b[a].name=b[a].name.replace(/\]/,"1$&");b[a].selectedIndex=0}parentTag(c,"table").appendChild(d)}function indexesAddRow(d){d.onchange=function(){};var e=cloneNode(parentTag(d,"tr"));var c=e.getElementsByTagName("select");for(var b=0;b<c.length;b++){c[b].name=c[b].name.replace(/indexes\[\d+/,"$&1");c[b].selectedIndex=0}var a=e.getElementsByTagName("input");for(var b=0;b<a.length;b++){a[b].name=a[b].name.replace(/indexes\[\d+/,"$&1");a[b].value=""}parentTag(d,"table").appendChild(e)}function indexesChangeColumn(g,e){var f=[];for(var a in {select:1,input:1}){var c=parentTag(g,"td").getElementsByTagName(a);for(var b=0;b<c.length;b++){if(/\[columns\]/.test(c[b].name)){var d=selectValue(c[b]);if(d){f.push(d)}}}}g.form[g.name.replace(/\].*/,"][name]")].value=e+f.join("_")}function indexesAddColumn(h,g){h.onchange=function(){indexesChangeColumn(h,g)};var a=h.form[h.name.replace(/\].*/,"][type]")];if(!a.selectedIndex){while(selectValue(a)!="INDEX"&&a.selectedIndex<a.options.length){a.selectedIndex++}a.onchange()}var f=cloneNode(h.parentNode);var e=f.getElementsByTagName("select");for(var d=0;d<e.length;d++){a=e[d];a.name=a.name.replace(/\]\[\d+/,"$&1");a.selectedIndex=0}var b=f.getElementsByTagName("input");for(var d=0;d<b.length;d++){var c=b[d];c.name=c.name.replace(/\]\[\d+/,"$&1");if(c.type!="checkbox"){c.value=""}}parentTag(h,"td").appendChild(f);h.onchange()}function triggerChange(a,d,c){var b=selectValue(c.Event);if(a.test(c.Trigger.value)){c.Trigger.value=d+"_"+(selectValue(c.Timing).charAt(0)+b.charAt(0)).toLowerCase()}alterClass(c.Of,"hidden",b!="UPDATE OF")}var that,x,y;function schemaMousedown(a,b){if((b.which?b.which:b.button)==1){that=a;x=b.clientX-a.offsetLeft;y=b.clientY-a.offsetTop}}function schemaMousemove(j){if(that!==undefined){j=j||event;var c=(j.clientX-x)/em;var h=(j.clientY-y)/em;var f=that.getElementsByTagName("div");var l={};for(var d=0;d<f.length;d++){if(f[d].className=="references"){var e=document.getElementById((/^refs/.test(f[d].id)?"refd":"refs")+f[d].id.substr(4));var b=(tablePos[f[d].title]?tablePos[f[d].title]:[e.parentNode.offsetTop/em,0]);var n=-1;var a=f[d].id.replace(/^ref.(.+)-.+/,"$1");if(f[d].parentNode!=e.parentNode){n=Math.min(0,b[1]-c)-1;f[d].style.left=n+"em";f[d].getElementsByTagName("div")[0].style.width=-n+"em";var m=Math.min(0,c-b[1])-1;e.style.left=m+"em";e.getElementsByTagName("div")[0].style.width=-m+"em"}if(!l[a]){var o=document.getElementById(f[d].id.replace(/^....(.+)-.+$/,"refl$1"));var k=h+f[d].offsetTop/em;var g=h+e.offsetTop/em;if(f[d].parentNode!=e.parentNode){g+=b[0]-h;o.getElementsByTagName("div")[0].style.height=Math.abs(k-g)+"em"}o.style.left=(c+n)+"em";o.style.top=Math.min(k,g)+"em";l[a]=true}}}that.style.left=c+"em";that.style.top=h+"em"}}function schemaMouseup(e,a){if(that!==undefined){e=e||event;tablePos[that.firstChild.firstChild.firstChild.data]=[(e.clientY-y)/em,(e.clientX-x)/em];that=undefined;var c="";for(var b in tablePos){c+="_"+b+":"+Math.round(tablePos[b][0]*10000)/10000+"x"+Math.round(tablePos[b][1]*10000)/10000}c=encodeURIComponent(c.substr(1));var d=document.getElementById("schema-link");d.href=d.href.replace(/[^=]+$/,"")+c;cookie("adminer_schema-"+a+"="+c,30)}}var helpOpen,helpIgnore;function helpMouseover(d,f,h,c){var g=getTarget(f);if(!h){helpClose()}else{if(window.jush&&(!helpIgnore||d!=g)){helpOpen=1;var b=document.getElementById("help");b.innerHTML=h;jush.highlight_tag([b]);alterClass(b,"hidden");var e=g.getBoundingClientRect();var a=document.documentElement;b.style.top=(a.scrollTop+e.top-(c?(b.offsetHeight-g.offsetHeight)/2:b.offsetHeight))+"px";b.style.left=(a.scrollLeft+e.left-(c?b.offsetWidth:(b.offsetWidth-g.offsetWidth)/2))+"px"}}}function helpMouseout(a,b){helpOpen=0;helpIgnore=(a!=getTarget(b));setTimeout(function(){if(!helpOpen){helpClose()}},200)}function helpClose(){alterClass(document.getElementById("help"),"hidden",true)};