jQuery(function(f){function e(){return{language:{errorLoading:function(){return wc_enhanced_select_params.i18n_searching},inputTooLong:function(b){var a=b.input.length-b.maximum;if(1===a){return wc_enhanced_select_params.i18n_input_too_long_1}return wc_enhanced_select_params.i18n_input_too_long_n.replace("%qty%",a)},inputTooShort:function(b){var a=b.minimum-b.input.length;if(1===a){return wc_enhanced_select_params.i18n_input_too_short_1}return wc_enhanced_select_params.i18n_input_too_short_n.replace("%qty%",a)},loadingMore:function(){return wc_enhanced_select_params.i18n_load_more},maximumSelected:function(a){if(a.maximum===1){return wc_enhanced_select_params.i18n_selection_too_long_1}return wc_enhanced_select_params.i18n_selection_too_long_n.replace("%qty%",a.maximum)},noResults:function(){return wc_enhanced_select_params.i18n_no_matches},searching:function(){return wc_enhanced_select_params.i18n_searching}}}}try{f(document.body).on("wc-enhanced-select-init",function(){f(":input.wc-enhanced-select, :input.chosen_select").filter(":not(.enhanced)").each(function(){var a=f.extend({minimumResultsForSearch:10,allowClear:f(this).data("allow_clear")?true:false,placeholder:f(this).data("placeholder")},e());f(this).selectWoo(a).addClass("enhanced")});f(":input.wc-enhanced-select-nostd, :input.chosen_select_nostd").filter(":not(.enhanced)").each(function(){var a=f.extend({minimumResultsForSearch:10,allowClear:true,placeholder:f(this).data("placeholder")},e());f(this).selectWoo(a).addClass("enhanced")});f(":input.wc-product-search").filter(":not(.enhanced)").each(function(){var a={allowClear:f(this).data("allow_clear")?true:false,placeholder:f(this).data("placeholder"),minimumInputLength:f(this).data("minimum_input_length")?f(this).data("minimum_input_length"):"3",escapeMarkup:function(h){return h},ajax:{url:wc_enhanced_select_params.ajax_url,dataType:"json",delay:250,data:function(h){return{term:h.term,action:f(this).data("action")||"woocommerce_json_search_products_and_variations",security:wc_enhanced_select_params.search_products_nonce,exclude:f(this).data("exclude"),include:f(this).data("include"),limit:f(this).data("limit")}},processResults:function(i){var j=[];if(i){f.each(i,function(g,h){j.push({id:g,text:h})})}return{results:j}},cache:true}};a=f.extend(a,e());f(this).selectWoo(a).addClass("enhanced");if(f(this).data("sortable")){var b=f(this);var c=f(this).next(".select2-container").find("ul.select2-selection__rendered");c.sortable({placeholder:"ui-state-highlight select2-selection__choice",forcePlaceholderSize:true,items:"li:not(.select2-search__field)",tolerance:"pointer",stop:function(){f(c.find(".select2-selection__choice").get().reverse()).each(function(){var i=f(this).data("data").id;var j=b.find('option[value="'+i+'"]')[0];b.prepend(j)})}})}else{if(f(this).prop("multiple")){f(this).on("change",function(){var h=f(this).children();h.sort(function(m,n){var g=m.text.toLowerCase();var l=n.text.toLowerCase();if(g>l){return 1}if(g<l){return -1}return 0});f(this).html(h)})}}});f(":input.wc-customer-search").filter(":not(.enhanced)").each(function(){var a={allowClear:f(this).data("allow_clear")?true:false,placeholder:f(this).data("placeholder"),minimumInputLength:f(this).data("minimum_input_length")?f(this).data("minimum_input_length"):"1",escapeMarkup:function(h){return h},ajax:{url:wc_enhanced_select_params.ajax_url,dataType:"json",delay:1000,data:function(h){return{term:h.term,action:"woocommerce_json_search_customers",security:wc_enhanced_select_params.search_customers_nonce,exclude:f(this).data("exclude")}},processResults:function(i){var j=[];if(i){f.each(i,function(g,h){j.push({id:g,text:h})})}return{results:j}},cache:true}};a=f.extend(a,e());f(this).selectWoo(a).addClass("enhanced");if(f(this).data("sortable")){var b=f(this);var c=f(this).next(".select2-container").find("ul.select2-selection__rendered");c.sortable({placeholder:"ui-state-highlight select2-selection__choice",forcePlaceholderSize:true,items:"li:not(.select2-search__field)",tolerance:"pointer",stop:function(){f(c.find(".select2-selection__choice").get().reverse()).each(function(){var i=f(this).data("data").id;var j=b.find('option[value="'+i+'"]')[0];b.prepend(j)})}})}});f(":input.wc-category-search").filter(":not(.enhanced)").each(function(){var a=f.extend({allowClear:f(this).data("allow_clear")?true:false,placeholder:f(this).data("placeholder"),minimumInputLength:f(this).data("minimum_input_length")?f(this).data("minimum_input_length"):3,escapeMarkup:function(b){return b},ajax:{url:wc_enhanced_select_params.ajax_url,dataType:"json",delay:250,data:function(b){return{term:b.term,action:"woocommerce_json_search_categories",security:wc_enhanced_select_params.search_categories_nonce}},processResults:function(b){var c=[];if(b){f.each(b,function(i,j){c.push({id:j.slug,text:j.formatted_name})})}return{results:c}},cache:true}},e());f(this).selectWoo(a).addClass("enhanced")})}).on("wc_backbone_modal_before_remove",function(){f(".wc-enhanced-select, :input.wc-product-search, :input.wc-customer-search").filter(".select2-hidden-accessible").selectWoo("close")}).trigger("wc-enhanced-select-init");f("html").on("click",function(a){if(this===a.target){f(".wc-enhanced-select, :input.wc-product-search, :input.wc-customer-search").filter(".select2-hidden-accessible").selectWoo("close")}})}catch(d){window.console.log(d)}});