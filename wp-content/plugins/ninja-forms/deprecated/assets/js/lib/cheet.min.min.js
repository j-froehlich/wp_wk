!function(d){function f(m){var n,l=m?m.keyCode:event.keyCode;if(!j[l]){j[l]=!0;for(n in h){h[n].keydown(l)}}}function b(m){var l=m?m.keyCode:event.keyCode;j[l]=!1}function e(){var l;for(l in j){j[l]=!1}}function g(n,m,l){n.addEventListener?n.addEventListener(m,l,!1):n.attachEvent&&(n["e"+m+l]=l,n[m+l]=function(){n["e"+m+l](window.event)},n.attachEvent("on"+m,n[m+l]))}var a,c,h={},k={backspace:8,tab:9,enter:13,"return":13,shift:16,"⇧":16,control:17,ctrl:17,"⌃":17,alt:18,option:18,"⌥":18,pause:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,L:37,"←":37,up:38,U:38,"↑":38,right:39,R:39,"→":39,down:40,D:40,"↓":40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"⌘":91,command:91,kp_0:96,kp_1:97,kp_2:98,kp_3:99,kp_4:100,kp_5:101,kp_6:102,kp_7:103,kp_8:104,kp_9:105,kp_multiply:106,kp_plus:107,kp_minus:109,kp_decimal:110,kp_divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,equal:187,"=":187,comma:188,",":188,minus:189,"-":189,period:190,".":190},i=function(){},j={};c=function(p,o,m,l){var n;for(this.str=p,this.next=o?o:i,this.fail=m?m:i,this.done=l?l:i,this.seq=p.split(" "),this.keys=[],n=0;n<this.seq.length;++n){this.keys.push(k[this.seq[n]])}this.idx=0},c.prototype.keydown=function(m){var l=this.idx;return m!==this.keys[l]?void (l>0&&(this.reset(),this.fail(this.str),a.__fail(this.str))):(this.next(this.str,this.seq[l],l,this.seq),a.__next(this.str,this.seq[l],l,this.seq),void (++this.idx===this.keys.length&&(this.done(this.str),a.__done(this.str),this.reset())))},c.prototype.reset=function(){this.idx=0},a=function(p,n){var o,m,l;"function"==typeof n?l=n:null!==n&&void 0!==n&&(o=n.next,m=n.fail,l=n.done),h[p]=new c(p,o,m,l)},a.disable=function(l){delete h[l]},g(window,"keydown",f),g(window,"keyup",b),g(window,"blur",e),g(window,"focus",e),a.__next=i,a.next=function(l){a.__next=null===l?i:l},a.__fail=i,a.fail=function(l){a.__fail=null===l?i:l},a.__done=i,a.done=function(l){a.__done=null===l?i:l},a.reset=function(m){var l=h[m];return l instanceof c?void l.reset():void console.warn("cheet: Unknown sequence: "+m)},d.cheet=a,"function"==typeof define&&define.amd?define([],function(){return a}):"undefined"!=typeof module&&null!==module&&(module.exports=a)}(this);