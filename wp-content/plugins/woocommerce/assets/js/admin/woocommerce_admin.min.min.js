jQuery(function(l){if("undefined"===typeof woocommerce_admin){return}var i=l(".edit-php.post-type-product"),k=i.find(".page-title-action:first"),m=i.find(".woocommerce-BlankState");if(0===m.length){k.after('<a href="'+woocommerce_admin.urls.export_products+'" class="page-title-action">'+woocommerce_admin.strings.export_products+"</a>");k.after('<a href="'+woocommerce_admin.urls.import_products+'" class="page-title-action">'+woocommerce_admin.strings.import_products+"</a>")}else{k.hide()}l(".woocommerce-progress-form-wrapper .button-next").on("click",function(){l(".wc-progress-form-content").block({message:null,overlayCSS:{background:"#fff",opacity:0.6}});return true});l(document.body).on("wc_add_error_tip",function(b,c,d){var a=c.position();if(c.parent().find(".wc_error_tip").length===0){c.after('<div class="wc_error_tip '+d+'">'+woocommerce_admin[d]+"</div>");c.parent().find(".wc_error_tip").css("left",a.left+c.width()-(c.width()/2)-(l(".wc_error_tip").width()/2)).css("top",a.top+c.height()).fadeIn("100")}}).on("wc_remove_error_tip",function(a,b,c){b.parent().find(".wc_error_tip."+c).fadeOut("100",function(){l(this).remove()})}).on("click",function(){l(".wc_error_tip").fadeOut("100",function(){l(this).remove()})}).on("blur",".wc_input_decimal[type=text], .wc_input_price[type=text], .wc_input_country_iso[type=text]",function(){l(".wc_error_tip").fadeOut("100",function(){l(this).remove()})}).on("change",".wc_input_price[type=text], .wc_input_decimal[type=text], .wc-order-totals #refund_amount[type=text]",function(){var b;if(l(this).is(".wc_input_price")||l(this).is("#refund_amount")){b=new RegExp("[^-0-9%\\"+woocommerce_admin.mon_decimal_point+"]+","gi")}else{b=new RegExp("[^-0-9%\\"+woocommerce_admin.decimal_point+"]+","gi")}var a=l(this).val();var c=a.replace(b,"");if(a!==c){l(this).val(c)}}).on("keyup",".wc_input_price[type=text], .wc_input_decimal[type=text], .wc_input_country_iso[type=text], .wc-order-totals #refund_amount[type=text]",function(){var b,c;if(l(this).is(".wc_input_price")||l(this).is("#refund_amount")){b=new RegExp("[^-0-9%\\"+woocommerce_admin.mon_decimal_point+"]+","gi");c="i18n_mon_decimal_error"}else{if(l(this).is(".wc_input_country_iso")){b=new RegExp("([^A-Z])+|(.){3,}","im");c="i18n_country_iso_error"}else{b=new RegExp("[^-0-9%\\"+woocommerce_admin.decimal_point+"]+","gi");c="i18n_decimal_error"}}var a=l(this).val();var d=a.replace(b,"");if(a!==d){l(document.body).triggerHandler("wc_add_error_tip",[l(this),c])}else{l(document.body).triggerHandler("wc_remove_error_tip",[l(this),c])}}).on("change","#_sale_price.wc_input_price[type=text], .wc_input_price[name^=variable_sale_price]",function(){var d=l(this),c;if(d.attr("name").indexOf("variable")!==-1){c=d.parents(".variable_pricing").find(".wc_input_price[name^=variable_regular_price]")}else{c=l("#_regular_price")}var a=parseFloat(window.accounting.unformat(d.val(),woocommerce_admin.mon_decimal_point));var b=parseFloat(window.accounting.unformat(c.val(),woocommerce_admin.mon_decimal_point));if(a>=b){l(this).val("")}}).on("keyup","#_sale_price.wc_input_price[type=text], .wc_input_price[name^=variable_sale_price]",function(){var d=l(this),c;if(d.attr("name").indexOf("variable")!==-1){c=d.parents(".variable_pricing").find(".wc_input_price[name^=variable_regular_price]")}else{c=l("#_regular_price")}var a=parseFloat(window.accounting.unformat(d.val(),woocommerce_admin.mon_decimal_point));var b=parseFloat(window.accounting.unformat(c.val(),woocommerce_admin.mon_decimal_point));if(a>=b){l(document.body).triggerHandler("wc_add_error_tip",[l(this),"i18_sale_less_than_regular_error"])}else{l(document.body).triggerHandler("wc_remove_error_tip",[l(this),"i18_sale_less_than_regular_error"])}}).on("init_tooltips",function(){var a={attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200};l(".tips, .help_tip, .woocommerce-help-tip").tipTip(a);l(".parent-tips").each(function(){l(this).closest("a, th").attr("data-tip",l(this).data("tip")).tipTip(a).css("cursor","help")})});l(document.body).trigger("init_tooltips");l(".wc_input_table.sortable tbody").sortable({items:"tr",cursor:"move",axis:"y",scrollSensitivity:40,forcePlaceholderSize:true,helper:"clone",opacity:0.65,placeholder:"wc-metabox-sortable-placeholder",start:function(b,a){a.item.css("background-color","#f6f6f6")},stop:function(b,a){a.item.removeAttr("style")}});l(".wc_input_table .remove_rows").click(function(){var b=l(this).closest(".wc_input_table").find("tbody");if(b.find("tr.current").length>0){var a=b.find("tr.current");a.each(function(){l(this).remove()})}return false});var h=false;var n=false;var j=false;l(document.body).bind("keyup keydown",function(a){n=a.shiftKey;h=a.ctrlKey||a.metaKey});l(".wc_input_table").on("focus click","input",function(b){var c=l(this).closest("table, tbody");var a=l(this).closest("tr");if((b.type==="focus"&&j!==a.index())||(b.type==="click"&&l(this).is(":focus"))){j=a.index();if(!n&&!h){l("tr",c).removeClass("current").removeClass("last_selected");a.addClass("current").addClass("last_selected")}else{if(n){l("tr",c).removeClass("current");a.addClass("selected_now").addClass("current");if(l("tr.last_selected",c).length>0){if(a.index()>l("tr.last_selected",c).index()){l("tr",c).slice(l("tr.last_selected",c).index(),a.index()).addClass("current")}else{l("tr",c).slice(a.index(),l("tr.last_selected",c).index()+1).addClass("current")}}l("tr",c).removeClass("last_selected");a.addClass("last_selected")}else{l("tr",c).removeClass("last_selected");if(h&&l(this).closest("tr").is(".current")){a.removeClass("current")}else{a.addClass("current").addClass("last_selected")}}}l("tr",c).removeClass("selected_now")}}).on("blur","input",function(){j=false});l(".woocommerce_page_wc-settings .shippingrows tbody tr:even, table.attributes-table tbody tr:nth-child(odd)").addClass("alternate");l(document.body).on("click",".show_order_items",function(){l(this).closest("td").find("table").toggle();return false});l("select.availability").change(function(){if(l(this).val()==="all"){l(this).closest("tr").next("tr").hide()}else{l(this).closest("tr").next("tr").show()}}).change();l(".hide_options_if_checked").each(function(){l(this).find("input:eq(0)").change(function(){if(l(this).is(":checked")){l(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").hide()}else{l(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").show()}}).change()});l(".show_options_if_checked").each(function(){l(this).find("input:eq(0)").change(function(){if(l(this).is(":checked")){l(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").show()}else{l(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").hide()}}).change()});l("input#woocommerce_demo_store").change(function(){if(l(this).is(":checked")){l("#woocommerce_demo_store_notice").closest("tr").show()}else{l("#woocommerce_demo_store_notice").closest("tr").hide()}}).change();l("input#woocommerce_enable_reviews").change(function(){if(l(this).is(":checked")){l("#woocommerce_enable_review_rating").closest("tr").show()}else{l("#woocommerce_enable_review_rating").closest("tr").hide()}}).change();l("table.attributes-table tbody tr:nth-child(odd)").addClass("alternate");l("#contextual-help-link").on("click",function(){l(".wc-guided-tour-embed").each(function(){var a=l(this).data("video_id");l(this).replaceWith('<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/'+a+'" frameborder="0" allowfullscreen></iframe>')})})});