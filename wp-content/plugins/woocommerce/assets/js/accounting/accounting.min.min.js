/*!
 * accounting.js v0.4.2
 * Copyright 2014 Open Exchange Rates
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://openexchangerates.github.io/accounting.js/
 */
;!function(q,b){function B(a){return !!(""===a||a&&a.charCodeAt&&a.substr)}function G(a){return j?j(a):"[object Array]"===w.call(a)}function k(a){return a&&"[object Object]"===w.call(a)}function E(d,a){var c;d=d||{},a=a||{};for(c in a){a.hasOwnProperty(c)&&null==d[c]&&(d[c]=a[c])}return d}function x(i,f,g){var d,h,c=[];if(!i){return c}if(A&&i.map===A){return i.map(f,g)}for(d=0,h=i.length;d<h;d++){c[d]=f.call(g,i[d],d,i)}return c}function F(c,a){return c=Math.round(Math.abs(c)),isNaN(c)?a:c}function D(c){var a=H.settings.currency.format;return"function"==typeof c&&(c=c()),B(c)&&c.match("%v")?{pos:c,neg:c.replace("-","").replace("%v","-%v"),zero:c}:c&&c.pos&&c.pos.match("%v")?c:B(a)?H.settings.currency.format={pos:a,neg:a.replace("%v","-%v"),zero:a}:a}var H={};H.version="0.4.1",H.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var A=Array.prototype.map,j=Array.isArray,w=Object.prototype.toString,v=H.unformat=H.parse=function(f,a){if(G(f)){return x(f,function(e){return v(e,a)})}if("number"==typeof(f=f||0)){return f}a=a||H.settings.number.decimal;var c=new RegExp("[^0-9-"+a+"]",["g"]),d=parseFloat((""+f).replace(/\((.*)\)/,"-$1").replace(c,"").replace(a,"."));return isNaN(d)?0:d},C=H.toFixed=function(d,a){a=F(a,H.settings.number.precision);var c=Math.pow(10,a);return(Math.round(H.unformat(d)*c)/c).toFixed(a)},z=H.formatNumber=H.format=function(g,a,s,t){if(G(g)){return x(g,function(c){return z(c,a,s,t)})}g=v(g);var o=E(k(a)?a:{precision:a,thousand:s,decimal:t},H.settings.number),d=F(o.precision),i=g<0?"-":"",m=parseInt(C(Math.abs(g||0),d),10)+"",u=m.length>3?m.length%3:0;return i+(u?m.substr(0,u)+o.thousand:"")+m.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+o.thousand)+(d?o.decimal+C(Math.abs(g),d).split(".")[1]:"")},y=H.formatMoney=function(s,c,i,g,h,a){if(G(s)){return x(s,function(d){return y(d,c,i,g,h,a)})}s=v(s);var m=E(k(c)?c:{symbol:c,precision:i,thousand:g,decimal:h,format:a},H.settings.currency),o=D(m.format);return(s>0?o.pos:s<0?o.neg:o.zero).replace("%s",m.symbol).replace("%v",z(Math.abs(s),F(m.precision),m.thousand,m.decimal))};H.formatColumn=function(e,a,m,c,g,o){if(!e){return[]}var i=E(k(a)?a:{symbol:a,precision:m,thousand:c,decimal:g,format:o},H.settings.currency),t=D(i.format),s=t.pos.indexOf("%s")<t.pos.indexOf("%v"),u=0;return x(x(e,function(h,d){if(G(h)){return H.formatColumn(h,i)}var f=((h=v(h))>0?t.pos:h<0?t.neg:t.zero).replace("%s",i.symbol).replace("%v",z(Math.abs(h),F(i.precision),i.thousand,i.decimal));return f.length>u&&(u=f.length),f}),function(f,d){return B(f)&&f.length<u?s?f.replace(i.symbol,i.symbol+new Array(u-f.length+1).join(" ")):new Array(u-f.length+1).join(" ")+f:f})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=H),exports.accounting=H):"function"==typeof define&&define.amd?define([],function(){return H}):(H.noConflict=function(a){return function(){
/*!
 * accounting.js v0.4.2
 * Copyright 2014 Open Exchange Rates
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://openexchangerates.github.io/accounting.js/
 */
;return q.accounting=a,H.noConflict=void 0,H}}(q.accounting),q.accounting=H)}(this);