jQuery(document).ready(function(e){var b=e("#progressbar"),a=e(".progress-label");b.progressbar({value:false,change:function(){var f=parseInt(b.progressbar("value"));if(f==90){d.currentLabel=1}else{if(f%10==0){d.changeTextLabel()}}var g=d.getTextLabel();a.text(g+" "+b.progressbar("value")+"%")},complete:function(){a.text("Complete!")}});if(nfProcessingAction!="none"){var d={labels:nf_processing.step_labels,currentLabel:0,getTextLabel:function(){var f=this.labels[this.currentLabel];return f},changeTextLabel:function(){var f=Object.keys(this.labels).length;if(f==1){f=0}var g=Math.floor(Math.random()*(f-2+1))+1;this.currentLabel=g}};var c={setup:function(){this.interval=Math.floor(100/parseInt(this.totalSteps))},process:function(){e.post(ajaxurl,{step:this.step,total_steps:c.totalSteps,args:this.args,action:nfProcessingAction},function(f){f=e.parseJSON(f);c.step=f.step;c.totalSteps=f.total_steps;c.args=f.args;c.errors=f.errors;if(c.errors){e("#nf-upgrade-errors").removeClass("hidden");e.each(c.errors,function(h,g){e(".nf-upgrade-errors-list").append("<li>ERROR: "+g+"</li>")})}if(c.runSetup==1){c.setup();c.runSetup=0}if(!f.complete){c.progress();c.process()}else{b.progressbar("value",100);if(typeof f.redirect!="undefined"&&f.redirect!=""){document.location.href=f.redirect}}})},progress:function(){var f=b.progressbar("value")||0;b.progressbar("value",f+this.interval)},step:"loading",totalSteps:0,runSetup:1,interval:0,args:nfProcessingArgs};c.process()}});