init_all_the_ninja_things();function init_all_the_ninja_things(){jQuery(".ninja-forms-form input").bind("keypress",function(e){if(e.keyCode==13){var type=jQuery(this).attr("type");if(type!="textarea"){}}});jQuery(document).ready(function(){jQuery("div.label-inside input, div.label-inside textarea").focus(function(){var label=jQuery("#"+this.id+"_label_hidden").val();if(this.value==label){this.value=""}});jQuery("div.label-inside input, div.label-inside textarea").blur(function(){var label=jQuery("#"+this.id+"_label_hidden").val();if(this.value==""){this.value=label}});if(jQuery.fn.mask){jQuery(".ninja-forms-mask").each(function(){var mask=jQuery(this).data("mask");mask=mask.toString();jQuery(this).mask(mask)});var date_format_mask=ninja_forms_settings.date_format;date_format_mask=date_format_mask.replace(/m/g,9);date_format_mask=date_format_mask.replace(/d/g,9);date_format_mask=date_format_mask.replace(/y/g,99);date_format_mask=date_format_mask.replace(/Y/g,9999);jQuery(".ninja-forms-date").mask(date_format_mask)}if(jQuery.fn.datepicker){jQuery(".ninja-forms-datepicker").datepicker(ninja_forms_settings.datepicker_args)}if(jQuery.fn.autoNumeric){jQuery(".ninja-forms-currency").autoNumeric({aSign:ninja_forms_settings.currency_symbol,aSep:thousandsSeparator,aDec:decimalPoint})}});if(jQuery.fn.qtip){jQuery(".ninja-forms-help-text").qtip({style:{classes:"qtip-shadow qtip-dark"}})}jQuery(document).ready(function(){jQuery(".input-limit").each(function(){var input_limit=jQuery(this).data("input-limit");var input_limit_type=jQuery(this).data("input-limit-type");var input_limit_msg=jQuery(this).data("input-limit-msg");jQuery(this).counter({count:"down",goal:input_limit,type:input_limit_type,msg:input_limit_msg})})});jQuery(".ninja-forms-form").each(function(){var form_id=this.id.replace("ninja_forms_form_","");var settings=window["ninja_forms_form_"+form_id+"_settings"];if(typeof settings!="undefined"){ajax=settings.ajax}else{ajax=0}if(ajax==1){var options={beforeSerialize:function($form,add_product_form_options){if(typeof tinyMCE!=="undefined"){tinyMCE.triggerSave()}},beforeSubmit:ninja_forms_before_submit,success:ninja_forms_response,dataType:"json"};jQuery(this).ajaxForm(options);jQuery(this).on("submitResponse.default",function(e,response){return ninja_forms_default_response(response)});jQuery(this).on("beforeSubmit.default",function(e,formData,jqForm,options){return ninja_forms_default_before_submit(formData,jqForm,options)})}else{jQuery(this).submit(function(e){var formData=jQuery(this).serialize();var jqForm=this;var options="";return ninja_forms_before_submit(formData,jqForm,options)})}});jQuery(".pass1").val("").keyup(function(){var pass1=this.value;var pass2=this.id.replace("pass1","pass2");pass2=jQuery("#"+pass2).val();check_pass_strength(pass1,pass2)});jQuery(".pass2").val("").keyup(function(){var pass2=this.value;var pass1=this.id.replace("pass2","pass1");pass1=jQuery("#"+pass1).val();check_pass_strength(pass1,pass2)});jQuery(".countdown-timer").each(function(index){jQuery(this).attr("disabled","disabled").parents(".field-wrap:first").find("input.no-js").remove();id=jQuery(this).attr("id");if(window.ninja_forms_timer){window.clearInterval(window.ninja_forms_timer.index)}window.ninja_forms_timer={index:window.setInterval(function(){ninja_forms_countdown(id,index)},1000)}});function ninja_forms_countdown(id,index){$countdown=jQuery("#"+id);counter=parseInt($countdown.data("countdown"))-1;$countdown.val(counter).data("countdown",counter).find("span").html(counter);if(counter<=0){window.clearInterval(window.ninja_forms_timer.index);$countdown.removeAttr("disabled").html($countdown.data("text"))}}var calc_fields=jQuery(".ninja-forms-field-calc-listen");calc_fields.each(function(i,element){if(this.type=="checkbox"){if(this.checked){var previousValue="checked"}else{var previousValue="unchecked"}}else{if(typeof this.type==="undefined"){var previousValue=jQuery(this).prop("innerHTML")}else{var previousValue=jQuery(this).val()}}var form_id=ninja_forms_get_form_id(this);var field_id=jQuery(this).attr("rel");var calc_settings=window["ninja_forms_form_"+form_id+"_calc_settings"];for(calc_id in calc_settings.calc_fields){if(calc_id!=field_id){jQuery(element).data(calc_id+"-oldValue",previousValue)}}});jQuery("body").on("focus",".ninja-forms-field-list-options-span-calc-listen",function(e){var field_id=jQuery(this).attr("rel");if(jQuery("#ninja_forms_field_"+field_id+"_type").val()=="list"&&jQuery("#ninja_forms_field_"+field_id+"_list_type").val()=="radio"){var form_id=ninja_forms_get_form_id(this);var calc_settings=window["ninja_forms_form_"+form_id+"_calc_settings"];for(calc_id in calc_settings.calc_fields){if(calc_id!=field_id){jQuery(this).data(calc_id+"-oldValue",jQuery("input[name='ninja_forms_field_"+field_id+"']:checked").val())}}}});jQuery("body").on("mousedown",".ninja-forms-field-list-options-span-calc-listen",function(e){var field_id=jQuery(this).attr("rel");if(jQuery("#ninja_forms_field_"+field_id+"_type").val()=="list"&&jQuery("#ninja_forms_field_"+field_id+"_list_type").val()=="radio"){var form_id=ninja_forms_get_form_id(this);var calc_settings=window["ninja_forms_form_"+form_id+"_calc_settings"];for(calc_id in calc_settings.calc_fields){if(calc_id!=field_id){jQuery(this).data(calc_id+"-oldValue",jQuery("input[name='ninja_forms_field_"+field_id+"']:checked").val())}}}});jQuery("body").on("change",".ninja-forms-field-calc-listen",function(event){if(this==event.target){var form_id=ninja_forms_get_form_id(this);var field_id=jQuery(this).attr("rel");var calc_settings=window["ninja_forms_form_"+form_id+"_calc_settings"];var visible=jQuery("#ninja_forms_field_"+field_id+"_div_wrap").data("visible");for(calc_id in calc_settings.calc_fields){if(calc_id!=field_id){var calc_method=calc_settings.calc_fields[calc_id]["method"];var calc_places=calc_settings.calc_fields[calc_id]["places"];if(calc_method=="fields"){var change=false;for(var i=calc_settings.calc_fields[calc_id]["fields"].length-1;i>=0;i--){if(calc_settings.calc_fields[calc_id]["fields"][i]["field"]==field_id){change=true;break}}}else{if(calc_method=="eq"){var change=false;if(typeof calc_settings.calc_fields[calc_id]["fields"]!=="undefined"){for(var i=calc_settings.calc_fields[calc_id]["fields"].length-1;i>=0;i--){if(calc_settings.calc_fields[calc_id]["fields"][i]==field_id){change=true;break}}}}}if(((calc_method=="fields"||calc_method=="eq")&&change)||calc_method=="auto"){if(calc_method=="auto"||calc_method=="fields"){var key=jQuery(this).val();var new_value="";old_value=jQuery(this).data(calc_id+"-oldValue");if(jQuery("#ninja_forms_field_"+field_id+"_type").val()=="list"){var key=jQuery(this).val();if(jQuery("#ninja_forms_field_"+field_id+"_list_type").val()=="checkbox"){if(this.checked){jQuery(this).data(calc_id+"-oldValue","checked")}else{jQuery(this).data(calc_id+"-oldValue","unchecked")}if(this.checked&&visible==1){old_value=0}else{if(this.checked&&visible!=1){old_value=key;new_value=0}else{if(!this.checked&&visible==1){if(old_value=="checked"){old_value=key}else{old_value=0}new_value=0}else{if(!this.checked&&visible!=1){if(old_value=="checked"){old_value=key}else{old_value=0}new_value=0}}}}}else{if(jQuery("#ninja_forms_field_"+field_id+"_list_type").val()=="radio"){var span=jQuery(this).parent().parent().parent().parent();old_value=jQuery(span).data(calc_id+"-oldValue");if(typeof old_value==="undefined"){if(this.checked){old_value=jQuery(this).val()}}if(this.checked&&visible==1){if(old_value==key){old_value=0}}else{if(this.checked&&visible!=1){new_value=0}else{if(!this.checked){old_value=0;new_value=0}}}if(this.checked){jQuery(span).data(calc_id+"-oldValue",key)}}else{if(jQuery("#ninja_forms_field_"+field_id+"_list_type").val()=="multi"){if(jQuery.isArray(key)){var tmp=0;for(var i=key.length-1;i>=0;i--){if(typeof calc_settings.calc_value[field_id][key[i]]!=="undefined"){tmp+=parseFloat(calc_settings.calc_value[field_id][key[i]])}}new_value=tmp}if(jQuery.isArray(old_value)){var tmp=0;for(var i=old_value.length-1;i>=0;i--){if(typeof calc_settings.calc_value[field_id][old_value[i]]!=="undefined"){tmp+=parseFloat(calc_settings.calc_value[field_id][old_value[i]])}}old_value=tmp}}else{var old_value=jQuery(this).data(calc_id+"-oldValue")}}}}else{if(jQuery("#ninja_forms_field_"+field_id+"_type").val()=="checkbox"){if(this.checked&&visible==1){var key="checked";old_value="unchecked"}else{if(this.checked&&visible!=1){var key="unchecked";if(jQuery(this).data(calc_id+"-oldValue")=="checked"||typeof jQuery(this).data(calc_id+"-oldValue")==="undefined"){old_value="checked"}else{old_value=0}}else{if(!this.checked&&visible!=1){var key="unchecked";old_value=0}else{var key="unchecked";if(jQuery(this).data(calc_id+"-oldValue")=="checked"||typeof jQuery(this).data(calc_id+"-oldValue")==="undefined"){old_value="checked"}else{old_value=0}}}}}else{if(jQuery("#ninja_forms_field_"+field_id+"_type").val()=="calc"){if(key==""){key=jQuery("#ninja_forms_field_"+field_id).prop("innerHTML")}}}}if(new_value===""){if(typeof calc_settings.calc_value[field_id]!=="undefined"&&typeof calc_settings.calc_value[field_id][key]!=="undefined"){var new_value=calc_settings.calc_value[field_id][key]}else{if(typeof this.type==="undefined"){var new_value=this.innerHTML}else{var new_value=this.value}if(typeof ninja_forms_settings.currency_symbol!=="undefined"){f_value=new_value.replace(ninja_forms_settings.currency_symbol,"");f_value=f_value.replace(/thousandsSeparator/g,"");if("."!=decimalPoint){f_value=f_value.replace(decimalPoint,".")}}if(isNaN(new_value)){new_value=0}}}if(typeof calc_settings.calc_value[field_id]!=="undefined"&&typeof calc_settings.calc_value[field_id][old_value]!=="undefined"){old_value=calc_settings.calc_value[field_id][old_value]}else{if(old_value==""||typeof old_value==="undefined"){old_value=0}else{if(isNaN(old_value)){if(typeof ninja_forms_settings.currency_symbol!=="undefined"){old_value=old_value.replace(ninja_forms_settings.currency_symbol,"");old_value=old_value.replace(/,/g,"")}}}}if(jQuery("#ninja_forms_field_"+calc_id).attr("type")=="text"){var current_value=jQuery("#ninja_forms_field_"+calc_id).val()}else{var current_value=jQuery("#ninja_forms_field_"+calc_id).html()}current_value=current_value.replace(/thousandsSeparator/g,"");if("."!=decimalPoint){current_value=current_value.replace(decimalPoint,".")}if(typeof ninja_forms_settings.currency_symbol!=="undefined"&&typeof current_value!="undefined"){f_value=current_value.replace(ninja_forms_settings.currency_symbol,"");f_value=f_value.replace(/thousandsSeparator/g,"");if("."!=decimalPoint){f_value=f_value.replace(decimalPoint,".")}}if(!isNaN(current_value)){current_value=parseFloat(current_value)}else{current_value=0}if(calc_method=="auto"){var old_op="subtract";var new_op="add";if(!jQuery(this).hasClass("ninja-forms-field-calc-auto")){old_value="";new_value=""}}else{if(calc_method=="fields"){for(var i=calc_settings.calc_fields[calc_id]["fields"].length-1;i>=0;i--){if(calc_settings.calc_fields[calc_id]["fields"][i]["field"]==field_id){var old_op=ninja_forms_find_opposite_op(calc_settings.calc_fields[calc_id]["fields"][i]["op"]);var new_op=calc_settings.calc_fields[calc_id]["fields"][i]["op"]}}}}if(old_value&&!isNaN(old_value)&&old_value!=0&&old_value!=""&&!jQuery(this).hasClass("ninja-forms-field-calc-no-old-op")){old_value=parseFloat(old_value);var asdf=current_value;tmp=new ninja_forms_var_operator(old_op);current_value=tmp.evaluate(current_value,old_value)}if(new_value&&!isNaN(new_value)&&new_value!=0&&new_value!=""&&!jQuery(this).hasClass("ninja-forms-field-calc-no-new-op")){new_value=parseFloat(new_value);tmp=new ninja_forms_var_operator(new_op);var calc_value=tmp.evaluate(current_value,new_value)}else{var calc_value=current_value}}else{if(calc_method=="eq"){var tmp_eq=calc_settings.calc_fields[calc_id]["eq"];for(var i=calc_settings.calc_fields[calc_id]["fields"].length-1;i>=0;i--){var f_id=calc_settings.calc_fields[calc_id]["fields"][i];var key=jQuery("#ninja_forms_field_"+f_id).val();var f_value="";if(jQuery("#ninja_forms_field_"+f_id+"_type").val()=="list"){if(jQuery("#ninja_forms_field_"+f_id+"_list_type").val()=="radio"){key=jQuery(".ninja-forms-field-"+f_id+"-options :checked").val()}else{if(jQuery("#ninja_forms_field_"+f_id+"_list_type").val()=="multi"){if(jQuery.isArray(key)){var tmp=0;for(var x=key.length-1;x>=0;x--){if(typeof calc_settings.calc_value[f_id][key[x]]!=="undefined"){tmp+=parseFloat(calc_settings.calc_value[f_id][key[x]])}}f_value=tmp}}else{if(jQuery("#ninja_forms_field_"+f_id+"_list_type").val()=="checkbox"){var tmp=0;jQuery(".ninja-forms-field-"+f_id+"-options :checked").each(function(){if(typeof calc_settings.calc_value[f_id][this.value]!=="undefined"){tmp+=parseFloat(calc_settings.calc_value[f_id][this.value])}});f_value=tmp}}}}else{if(jQuery("#ninja_forms_field_"+f_id+"_type").val()=="checkbox"){if(jQuery("#ninja_forms_field_"+f_id).attr("checked")){var key="checked"}else{var key="unchecked"}}else{if(jQuery("#ninja_forms_field_"+f_id+"_type").val()=="calc"){if(key==""){f_value=jQuery("#ninja_forms_field_"+f_id).prop("innerHTML")}}}}if(f_value==""){if(typeof calc_settings.calc_value[f_id]!=="undefined"&&typeof calc_settings.calc_value[f_id][key]!=="undefined"){f_value=calc_settings.calc_value[f_id][key]}else{f_value=key}}if(typeof f_value!=="undefined"&&typeof f_value==="string"){if(f_value.indexOf("%")>=0){f_value=f_value.replace("%","");if(!isNaN(f_value)){f_value=parseFloat(f_value)/100}}}if(typeof this.type==="undefined"&&key==""){f_value=this.innerHTML}if(typeof ninja_forms_settings.currency_symbol!=="undefined"&&isNaN(f_value)&&typeof f_value!="undefined"){f_value=f_value.replace(ninja_forms_settings.currency_symbol,"");f_value=f_value.replace(/thousandsSeparator/g,"");if("."!=decimalPoint){f_value=f_value.replace(decimalPoint,".")}}if(isNaN(f_value)||f_value==""||!f_value||typeof f_value==="undefined"){f_value=0}var find="field_"+f_id;var re=new RegExp(find,"g");tmp_eq=tmp_eq.replace(re,f_value)}var calc_value=eval(tmp_eq)}}if(jQuery("#ninja_forms_field_"+calc_id).attr("type")=="text"){var current_value=jQuery("#ninja_forms_field_"+calc_id).val()}else{var current_value=jQuery("#ninja_forms_field_"+calc_id).html()}if(typeof ninja_forms_settings.currency_symbol!=="undefined"&&typeof current_value!="undefined"){current_value=current_value.replace(ninja_forms_settings.currency_symbol,"")}if(!isNaN(current_value)){current_value=parseFloat(current_value)}else{current_value=0}if(current_value!==calc_value){if(jQuery("#ninja_forms_field_"+field_id+"_list_type").val()!="checkbox"){jQuery(this).data(calc_id+"-oldValue",key)}if(jQuery("#ninja_forms_field_"+field_id+"_list_type").val()=="checkbox"||jQuery("#ninja_forms_field_"+field_id+"_list_type").val()=="radio"){jQuery("#ninja_forms_field_"+field_id+"_div_wrap").find(".ninja-forms-field").each(function(){jQuery(this).removeClass("ninja-forms-field-calc-no-old-op")})}else{jQuery(this).removeClass("ninja-forms-field-calc-no-old-op")}calc_value=calc_value.toFixed(calc_places);if("."!=decimalPoint){calc_value=calc_value.toString().replace(".",decimalPoint)}if(jQuery("#ninja_forms_field_"+calc_id).attr("type")=="text"){jQuery("#ninja_forms_field_"+calc_id).val(calc_value)}else{jQuery("#ninja_forms_field_"+calc_id).html(calc_value)}jQuery("#ninja_forms_field_"+calc_id).trigger("change")}}}}}})}function ninja_forms_before_submit(e,d,c){var b=jQuery(d).prop("id").replace("ninja_forms_form_","");jQuery("#nf_submit_"+b).hide();jQuery("#nf_processing_"+b).show();jQuery(document).data("submit_action","submit");var a=jQuery(d).triggerHandler("beforeSubmit",[e,d,c]);if(a!==false){a=jQuery("body").triggerHandler("beforeSubmit",[e,d,c])}if(a!==false){a=jQuery(document).triggerHandler("beforeSubmit",[e,d,c])}return a}function ninja_forms_response(d,e,f,c){var b=d.form_id;jQuery("#nf_processing_"+b).hide();jQuery("#nf_submit_"+b).show();if(ninja_forms_settings.ajax_msg_format=="inline"){var a=jQuery(c).triggerHandler("submitResponse",[d]);if(a!==false){a=jQuery("body").triggerHandler("submitResponse",[d])}if(a!==false){a=jQuery(document).triggerHandler("submitResponse",[d])}return a}}function ninja_forms_default_before_submit(d,c,b){var a=jQuery(c).prop("id").replace("ninja_forms_form_","");jQuery("#ninja_forms_form_"+a+"_response_msg").prop("innerHTML","");jQuery("#ninja_forms_form_"+a+"_response_msg").removeClass("ninja-forms-error-msg");jQuery("#ninja_forms_form_"+a+"_response_msg").removeClass("ninja-forms-success-msg");jQuery(".ninja-forms-field-error").prop("innerHTML","");jQuery(".ninja-forms-error").removeClass("ninja-forms-error");return true}function ninja_forms_default_response(b){var a=b.form_id;ninja_forms_update_error_msgs(b);ninja_forms_update_success_msg(b);if(b.errors==false&&typeof b.form_settings.landing_page!="undefined"&&b.form_settings.landing_page!=""){window.location=b.form_settings.landing_page}return true}function ninja_forms_update_success_msg(c){var h="";var a=c.form_id;var g=c.success;var b=c.form_settings;var f=b.hide_complete;var e=b.clear_complete;if(g!=false){for(var d in g){h+="<p>"+g[d]+"</p>"}if(h!=""){jQuery("#ninja_forms_form_"+a+"_response_msg").removeClass("ninja-forms-error-msg");jQuery("#ninja_forms_form_"+a+"_response_msg").addClass("ninja-forms-success-msg");jQuery("#ninja_forms_form_"+a+"_response_msg").prop("innerHTML",h);jQuery("#ninja_forms_form_"+a+"_response_msg").show()}if(f==1){jQuery("#ninja_forms_form_"+a).hide()}if(e==1){jQuery("#ninja_forms_form_"+a).clearForm();jQuery("div.label-inside input.ninja-forms-field, div.label-inside textarea.ninja-forms-field").each(function(){var i=jQuery("#"+this.id+"_label_hidden").val();this.value=i});if("rating" in jQuery("input[type=radio].ninja-forms-star")){jQuery("input[type=radio].ninja-forms-star").rating("drain")}}}}function ninja_forms_update_error_msgs(b){var f="";var a=b.form_id;var e=b.errors;if(e!=false){for(var d in e){if(e[d]["location"]=="general"){f+="<p>"+e[d]["msg"]+"</p>"}else{var c=e[d]["location"];jQuery("#ninja_forms_field_"+c+"_error").show();jQuery("#ninja_forms_field_"+c+"_error").prop("innerHTML",e[d]["msg"]);jQuery("#ninja_forms_field_"+c+"_div_wrap").addClass("ninja-forms-error")}}if(f!=""){jQuery("#ninja_forms_form_"+a+"_response_msg").removeClass("ninja-forms-success-msg");jQuery("#ninja_forms_form_"+a+"_response_msg").addClass("ninja-forms-error-msg");jQuery("#ninja_forms_form_"+a+"_response_msg").prop("innerHTML",f)}}}function ninja_forms_html_decode(b){if(b){var a=jQuery("<div />").html(b).text();a=jQuery("<div />").html(a).text();return a}else{return""}}function ninja_forms_toggle_login_register(f,c){var b="ninja_forms_form_"+c+"_"+f+"_form";if(f=="login"){var a="ninja_forms_form_"+c+"_register_form"}else{var a="ninja_forms_form_"+c+"_login_form"}var e=document.getElementById(b);var d=document.getElementById(a);if(e.style.display=="block"){e.style.display="none"}else{e.style.display="block";d.style.display="none"}}function ninja_forms_get_form_id(b){var a=jQuery(b).closest("form").prop("id");if("undefined"===typeof a){return false}a=a.replace("ninja_forms_form_","");if(a==""||a=="ninja_forms_admin"){a=jQuery("#_form_id").val()}return a}function check_pass_strength(b,a){jQuery("#pass-strength-result").removeClass("short bad good strong");if(!b){jQuery("#pass-strength-result").html(ninja_forms_password_strength.empty);return}strength=passwordStrength(b,a);switch(strength){case 2:jQuery("#pass-strength-result").addClass("bad").html(ninja_forms_password_strength.bad);break;case 3:jQuery("#pass-strength-result").addClass("good").html(ninja_forms_password_strength.good);break;case 4:jQuery("#pass-strength-result").addClass("strong").html(ninja_forms_password_strength.strong);break;case 5:jQuery("#pass-strength-result").addClass("short").html(ninja_forms_password_strength.mismatch);break;default:jQuery("#pass-strength-result").addClass("short").html(ninja_forms_password_strength["short"])}}function passwordStrength(f,d){var j=1,h=2,b=3,a=4,c=5,g=0,i,e;if((f!=d)&&d.length>0){return c}if(f.length<4){return j}if(f.match(/[0-9]/)){g+=10}if(f.match(/[a-z]/)){g+=26}if(f.match(/[A-Z]/)){g+=26}if(f.match(/[^a-zA-Z0-9]/)){g+=31}i=Math.log(Math.pow(g,f.length));e=i/Math.LN2;if(e<40){return h}if(e<56){return b}return a}function ninja_forms_find_opposite_op(a){switch(a){case"add":return"subtract";case"subtract":return"add";case"multiply":return"divide";case"divide":return"multiply"}}function ninja_forms_var_operator(b){this.operation=b;this.evaluate=function a(d,c){switch(this.operation){case"add":return d+c;case"subtract":return d-c;case"multiply":return d*c;case"divide":return d/c}}};