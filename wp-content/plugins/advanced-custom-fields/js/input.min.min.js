var acf={ajaxurl:"",admin_url:"",wp_version:"",post_id:0,nonce:"",l10n:null,o:null,helpers:{get_atts:null,version_compare:null,uniqid:null,sortable:null,add_message:null,is_clone_field:null,url_to_object:null},validation:null,conditional_logic:null,media:null,fields:{date_picker:null,color_picker:null,Image:null,file:null,wysiwyg:null,gallery:null,relationship:null}};!function(a){acf.helpers.isset=function(){var d=arguments,c=d.length,b=null,f;if(0===c){throw new Error("Empty isset")}for(b=d[0],i=1;i<c;i++){if(d[i]===f||b[d[i]]===f){return !1}b=b[d[i]]}return !0},acf.helpers.get_atts=function(c){var b={};return a.each(c[0].attributes,function(f,d){"data-"==d.name.substr(0,5)&&(b[d.name.replace("data-","")]=d.value)}),b},acf.helpers.version_compare=function(g,d){if(typeof g+typeof d!="stringstring"){return !1}for(var c=g.split("."),b=d.split("."),h=0,f=Math.max(c.length,b.length);f>h;h++){if(c[h]&&!b[h]&&parseInt(c[h])>0||parseInt(c[h])>parseInt(b[h])){return 1}if(b[h]&&!c[h]&&parseInt(b[h])>0||parseInt(c[h])<parseInt(b[h])){return -1}}return 0},acf.helpers.uniqid=function(){var b=new Date;return b.getTime()},acf.helpers.url_to_object=function(d){var c={},b=d.split("&");for(i in b){var f=b[i].split("=");c[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return c},acf.helpers.sortable=function(c,b){return b.children().each(function(){a(this).width(a(this).width())}),b},acf.helpers.is_clone_field=function(b){return !(!b.attr("name")||-1==b.attr("name").indexOf("[acfcloneindex]"))},acf.helpers.add_message=function(c,b){var c=a('<div class="acf-message-wrapper"><div class="message updated"><p>'+c+"</p></div></div>");b.prepend(c),setTimeout(function(){c.animate({opacity:0},250,function(){c.remove()})},1500)},a.fn.exists=function(){return a(this).length>0},acf.media={div:null,frame:null,render_timout:null,clear_frame:function(){this.frame&&(this.frame.detach(),this.frame.dispose(),this.frame=null)},type:function(){var b="thickbox";return"undefined"!=typeof wp&&(b="backbone"),b},init:function(){if("backbone"!==this.type()){return !1}if(!acf.helpers.isset(wp,"media","view","AttachmentCompat","prototype")){return !1}var b=wp.media.view.AttachmentCompat.prototype;b.orig_render=b.render,b.orig_dispose=b.dispose,b.className="compat-item acf_postbox no_box",b.render=function(){var c=this;return c.ignore_render?this:(this.orig_render(),setTimeout(function(){var e=c.$el.closest(".media-modal");if(!e.hasClass("acf-media-modal")&&!e.find(".media-frame-router .acf-expand-details").exists()){var d=a(['<a href="#" class="acf-expand-details">','<span class="icon"></span>','<span class="is-closed">'+acf.l10n.core.expand_details+"</span>",'<span class="is-open">'+acf.l10n.core.collapse_details+"</span>","</a>"].join(""));d.on("click",function(f){f.preventDefault(),e.hasClass("acf-expanded")?e.removeClass("acf-expanded"):e.addClass("acf-expanded")}),e.find(".media-frame-router").append(d)}},0),clearTimeout(acf.media.render_timout),acf.media.render_timout=setTimeout(function(){a(document).trigger("acf/setup_fields",[c.$el])},50),this)},b.dispose=function(){a(document).trigger("acf/remove_fields",[this.$el]),this.orig_dispose()},b.save=function(f){var d={},c={};f&&f.preventDefault(),_.each(this.$el.serializeArray(),function(g){"[]"===g.name.slice(-2)&&(g.name=g.name.replace("[]",""),"undefined"==typeof c[g.name]&&(c[g.name]=-1),c[g.name]++,g.name+="["+c[g.name]+"]"),d[g.name]=g.value}),this.ignore_render=!0,this.model.saveCompat(d)}}},acf.conditional_logic={items:[],init:function(){var b=this;a(document).on("change",".field input, .field textarea, .field select",function(){a("#acf-has-changed").exists()&&a("#acf-has-changed").val(1),b.change(a(this))}),a(document).on("acf/setup_fields",function(d,c){b.refresh(a(c))}),b.refresh()},change:function(f){var d=this,c=f.closest(".field"),b=c.attr("data-field_key");a.each(this.items,function(h,g){a.each(g.rules,function(j,k){k.field==b&&d.refresh_field(g)})})},refresh_field:function(d){var c=this,b=a(".field_key-"+d.field);b.each(function(){var f=!0;"any"==d.allorany&&(f=!1);var e=a(this),g=!0;a.each(d.rules,function(j,m){var h=a(".field_key-"+m.field);h.hasClass("sub_field")&&(h=e.siblings(".field_key-"+m.field),g=!1,h.exists()||(e.parents("tr").each(function(){return h=a(this).find(".field_key-"+m.field),h.exists()?!1:void 0}),g=!0));var k=e.parent("tr").parent().parent("table").parent(".layout");k.exists()&&(g=!0,e.is("th")&&h.is("th")&&(h=e.closest(".layout").find("td.field_key-"+m.field)));var k=e.parent("tr").parent().parent("table").parent(".repeater");k.exists()&&"1"==k.attr("data-max_rows")&&(g=!0,e.is("th")&&h.is("th")&&(h=e.closest("table").find("td.field_key-"+m.field)));var n=c.calculate(m,h,e);if("all"==d.allorany){if(0==n){return f=!1,!1}}else{if(1==n){return f=!0,!1}}}),e.removeClass("acf-conditional_logic-hide acf-conditional_logic-show acf-show-blank"),f?(e.find("input, textarea, select").removeAttr("disabled"),e.addClass("acf-conditional_logic-show"),a(document).trigger("acf/conditional_logic/show",[e,d])):(e.find("input, textarea, select").attr("disabled","disabled"),e.addClass("acf-conditional_logic-hide"),g||e.addClass("acf-show-blank"),a(document).trigger("acf/conditional_logic/hide",[e,d]))})},refresh:function(c){c=c||a("body");var b=this;a.each(this.items,function(e,d){a.each(d.rules,function(f,g){c.find('.field[data-field_key="'+d.field+'"]').exists()&&b.refresh_field(d)})})},calculate:function(g,d,c){var b=!1;if(d.hasClass("field_type-true_false")||d.hasClass("field_type-checkbox")||d.hasClass("field_type-radio")){var h=d.find('input[value="'+g.value+'"]:checked').exists();"=="==g.operator?h&&(b=!0):h||(b=!0)}else{var f=d.find("input, textarea, select").last().val();a.isArray(f)||(f=[f]),"=="==g.operator?a.inArray(g.value,f)>-1&&(b=!0):a.inArray(g.value,f)<0&&(b=!0)}return b}},a(document).ready(function(){acf.conditional_logic.init(),a(".acf_postbox > .inside > .options").each(function(){a(this).closest(".acf_postbox").addClass(a(this).attr("data-layout"))}),a('#metakeyselect option[value^="field_"]').remove()}),a(window).on("load",function(){acf.media.init(),setTimeout(function(){try{a.isNumeric(acf.o.post_id)&&(wp.media.view.settings.post.id=acf.o.post_id)}catch(b){}a(document).trigger("acf/setup_fields",[a("#poststuff")])},10)}),acf.fields.gallery={add:function(){},edit:function(){},update_count:function(){},hide_selected_items:function(){},text:{title_add:"Select Images"}}}(jQuery),function(a){function b(){var c=[];a(".categorychecklist input:checked, .acf-taxonomy-field input:checked, .acf-taxonomy-field option:selected").each(function(){a(this).is(":hidden")||a(this).is(":disabled")||a(this).closest(".media-frame").exists()||a(this).closest(".acf-taxonomy-field").exists()&&"0"==a(this).closest(".acf-taxonomy-field").attr("data-load_save")||-1===c.indexOf(a(this).val())&&c.push(a(this).val())}),acf.screen.post_category=c,acf.screen.taxonomy=c,a(document).trigger("acf/update_field_groups")}acf.screen={action:"acf/location/match_field_groups_ajax",post_id:0,page_template:0,page_parent:0,page_type:0,post_category:0,post_format:0,taxonomy:0,lang:0,nonce:0},a(document).ready(function(){if(acf.screen.post_id=acf.o.post_id,acf.screen.nonce=acf.o.nonce,a("#icl-als-first").length>0){var f=a("#icl-als-first").children("a").attr("href"),d=new RegExp("lang=([^&#]*)"),c=d.exec(f);acf.screen.lang=c[1]}}),a(document).on("acf/update_field_groups",function(){return acf.screen.post_id&&a.isNumeric(acf.screen.post_id)?void a.ajax({url:ajaxurl,data:acf.screen,type:"post",dataType:"json",success:function(c){return c?(a(".acf_postbox").addClass("acf-hidden"),a(".acf_postbox-toggle").addClass("acf-hidden"),0==c.length?!1:(a.each(c,function(h,g){var f=a("#acf_"+g),d=a('#adv-settings .acf_postbox-toggle[for="acf_'+g+'-hide"]');f.removeClass("acf-hidden hide-if-js"),d.removeClass("acf-hidden"),d.find('input[type="checkbox"]').attr("checked","checked"),f.find(".acf-replace-with-fields").each(function(){var j=a(this);a.ajax({url:ajaxurl,data:{action:"acf/post/render_fields",acf_id:g,post_id:acf.o.post_id,nonce:acf.o.nonce},type:"post",dataType:"html",success:function(e){j.replaceWith(e),a(document).trigger("acf/setup_fields",f)}})})}),void a.ajax({url:ajaxurl,data:{action:"acf/post/get_style",acf_id:c[0],nonce:acf.o.nonce},type:"post",dataType:"html",success:function(d){a("#acf_style").html(d)}}))):!1}}):!1}),a(document).on("change","#page_template",function(){acf.screen.page_template=a(this).val(),a(document).trigger("acf/update_field_groups")}),a(document).on("change","#parent_id",function(){var c=a(this).val();""!=c?(acf.screen.page_type="child",acf.screen.page_parent=c):(acf.screen.page_type="parent",acf.screen.page_parent=0),a(document).trigger("acf/update_field_groups")}),a(document).on("change",'#post-formats-select input[type="radio"]',function(){var c=a(this).val();"0"==c&&(c="standard"),acf.screen.post_format=c,a(document).trigger("acf/update_field_groups")}),a(document).on("change",".categorychecklist input, .acf-taxonomy-field input, .acf-taxonomy-field select",function(){a(this).closest(".acf-taxonomy-field").exists()&&"0"==a(this).closest(".acf-taxonomy-field").attr("data-save")||a(this).closest(".media-frame").exists()||setTimeout(function(){b()},1)})}(jQuery),function(a){var b=acf.fields.color_picker={$el:null,$input:null,set:function(c){return a.extend(this,c),this.$input=this.$el.find('input[type="text"]'),this},init:function(){var c=this.$input;acf.helpers.is_clone_field(c)||this.$input.wpColorPicker()}};a(document).on("acf/setup_fields",function(d,c){a(c).find(".acf-color_picker").each(function(){b.set({$el:a(this)}).init()})})}(jQuery),function(a){acf.fields.date_picker={$el:null,$input:null,$hidden:null,o:{},set:function(b){return a.extend(this,b),this.$input=this.$el.find('input[type="text"]'),this.$hidden=this.$el.find('input[type="hidden"]'),this.o=acf.helpers.get_atts(this.$el),this},init:function(){if(!acf.helpers.is_clone_field(this.$hidden)){this.$input.val(this.$hidden.val());var b=a.extend({},acf.l10n.date_picker,{dateFormat:this.o.save_format,altField:this.$hidden,altFormat:this.o.save_format,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.o.first_day});this.$input.addClass("active").datepicker(b),this.$input.datepicker("option","dateFormat",this.o.display_format),a("body > #ui-datepicker-div").length>0&&a("#ui-datepicker-div").wrap('<div class="ui-acf" />')}},blur:function(){this.$input.val()||this.$hidden.val("")}},a(document).on("acf/setup_fields",function(c,b){a(b).find(".acf-date_picker").each(function(){acf.fields.date_picker.set({$el:a(this)}).init()})}),a(document).on("blur",'.acf-date_picker input[type="text"]',function(b){acf.fields.date_picker.set({$el:a(this).parent()}).blur()})}(jQuery),function(a){var b=acf.media;acf.fields.file={$el:null,$input:null,o:{},set:function(c){return a.extend(this,c),this.$input=this.$el.find('input[type="hidden"]'),this.o=acf.helpers.get_atts(this.$el),this.o.multiple=!!this.$el.closest(".repeater").exists(),this.o.query={},"uploadedTo"==this.o.library&&(this.o.query.uploadedTo=acf.o.post_id),this},init:function(){acf.helpers.is_clone_field(this.$input)},add:function(d){var c=b.div;c.find(".acf-file-icon").attr("src",d.icon),c.find(".acf-file-title").text(d.title),c.find(".acf-file-name").text(d.name).attr("href",d.url),c.find(".acf-file-size").text(d.size),c.find(".acf-file-value").val(d.id).trigger("change"),c.addClass("active"),c.closest(".field").removeClass("error")},new_frame:function(c){return b.div=this.$el,b.clear_frame(),c.states=[],c.states.push(new wp.media.controller.Library({library:wp.media.query(this.o.query),multiple:c.multiple,title:c.title,priority:20,filterable:"all"})),acf.helpers.isset(wp,"media","controller","EditImage")&&c.states.push(new wp.media.controller.EditImage),b.frame=wp.media(c),b.frame.on("content:render:edit-image",function(){var f=this.state().get("image"),d=new wp.media.view.EditImage({model:f,controller:this}).render();this.content.set(d),d.loadEditor()},b.frame),b.frame.on("toolbar:create:select",function(d){d.view=new wp.media.view.Toolbar.Select({text:c.button.text,controller:this})},b.frame),b.frame},edit:function(){var c=this.$input.val();this.new_frame({title:acf.l10n.file.edit,multiple:!1,button:{text:acf.l10n.file.update}}),b.frame.on("open",function(){"browse"!=b.frame.content._mode&&b.frame.content.mode("browse"),b.frame.$el.closest(".media-modal").addClass("acf-media-modal acf-expanded");var e=b.frame.state().get("selection"),d=wp.media.attachment(c);a.isEmptyObject(d.changed)&&d.fetch(),e.add(d)}),b.frame.on("close",function(){b.frame.$el.closest(".media-modal").removeClass("acf-media-modal")}),acf.media.frame.open()},remove:function(){this.$el.find(".acf-file-icon").attr("src",""),this.$el.find(".acf-file-title").text(""),this.$el.find(".acf-file-name").text("").attr("href",""),this.$el.find(".acf-file-size").text(""),this.$el.find(".acf-file-value").val("").trigger("change"),this.$el.removeClass("active")},popup:function(){var c=this;return this.new_frame({title:acf.l10n.file.select,multiple:c.o.multiple,button:{text:acf.l10n.file.select}}),acf.media.frame.on("content:activate",function(){var g=null,f=null;try{g=acf.media.frame.content.get().toolbar,f=g.get("filters")}catch(d){}return f?void ("uploadedTo"==c.o.library&&(f.$el.find('option[value="uploaded"]').remove(),f.$el.after("<span>"+acf.l10n.file.uploadedTo+"</span>"),a.each(f.filters,function(j,h){h.props.uploadedTo=acf.o.post_id}))):!1}),acf.media.frame.on("select",function(){if(selection=b.frame.state().get("selection"),selection){var d=0;selection.each(function(g){if(d++,d>1){var f=b.div.closest("td"),m=f.closest(".row"),h=m.closest(".repeater"),k=f.attr("data-field_key"),e="td .acf-file-uploader:first";k&&(e='td[data-field_key="'+k+'"] .acf-file-uploader'),m.next(".row").exists()||h.find(".add-row-end").trigger("click"),b.div=m.next(".row").find(e)}var j={id:g.id,title:g.attributes.title,name:g.attributes.filename,url:g.attributes.url,icon:g.attributes.icon,size:g.attributes.filesize};acf.fields.file.add(j)})}}),acf.media.frame.open(),!1}},a(document).on("click",".acf-file-uploader .acf-button-edit",function(c){c.preventDefault(),acf.fields.file.set({$el:a(this).closest(".acf-file-uploader")}).edit()}),a(document).on("click",".acf-file-uploader .acf-button-delete",function(c){c.preventDefault(),acf.fields.file.set({$el:a(this).closest(".acf-file-uploader")}).remove()}),a(document).on("click",".acf-file-uploader .add-file",function(c){c.preventDefault(),acf.fields.file.set({$el:a(this).closest(".acf-file-uploader")}).popup()})}(jQuery),function(a){acf.fields.google_map={$el:null,$input:null,o:{},api:{sensor:!1,libraries:"places"},ready:!1,geocoder:!1,map:!1,maps:{},set:function(b){return a.extend(this,b),this.$input=this.$el.find(".input-address"),this.o=acf.helpers.get_atts(this.$el),this.maps[this.o.id]&&(this.map=this.maps[this.o.id]),this},init:function(){this.geocoder||(this.geocoder=new google.maps.Geocoder),this.ready=!0,acf.helpers.is_clone_field(this.$input)||this.render()},render:function(){var g=this,d=this.$el,c={zoom:parseInt(this.o.zoom),center:new google.maps.LatLng(this.o.lat,this.o.lng),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.$el.find(".canvas")[0],c);var b=new google.maps.places.Autocomplete(this.$el.find(".search")[0]);b.map=this.map,b.bindTo("bounds",this.map),this.map.marker=new google.maps.Marker({draggable:!0,raiseOnDrag:!0,map:this.map}),this.map.$el=this.$el;var h=this.$el.find(".input-lat").val(),f=this.$el.find(".input-lng").val();h&&f&&this.update(h,f).center(),google.maps.event.addListener(b,"place_changed",function(k){var j=this.map.$el,e=j.find(".search").val();j.find(".input-address").val(e),j.find(".title h4").text(e);var p=this.getPlace();if(p.geometry){var l=p.geometry.location.lat(),m=p.geometry.location.lng();g.set({$el:j}).update(l,m).center()}else{g.geocoder.geocode({address:e},function(q,n){if(n!=google.maps.GeocoderStatus.OK){return void console.log("Geocoder failed due to: "+n)}if(!q[0]){return void console.log("No results found")}p=q[0];var r=p.geometry.location.lat(),u=p.geometry.location.lng();g.set({$el:j}).update(r,u).center()})}}),google.maps.event.addListener(this.map.marker,"dragend",function(){var k=this.map.$el,j=this.map.marker.getPosition(),e=j.lat(),l=j.lng();g.set({$el:k}).update(e,l).sync()}),google.maps.event.addListener(this.map,"click",function(k){var j=this.$el,e=k.latLng.lat(),l=k.latLng.lng();g.set({$el:j}).update(e,l).sync()}),this.maps[this.o.id]=this.map},update:function(d,c){var b=new google.maps.LatLng(d,c);return this.$el.find(".input-lat").val(d),this.$el.find(".input-lng").val(c).trigger("change"),this.map.marker.setPosition(b),this.map.marker.setVisible(!0),this.$el.addClass("active"),this.$el.closest(".field").removeClass("error"),this},center:function(){var f=this.map.marker.getPosition(),d=this.o.lat,c=this.o.lng;f&&(d=f.lat(),c=f.lng());var b=new google.maps.LatLng(d,c);this.map.setCenter(b)},sync:function(){var d=this.$el,c=this.map.marker.getPosition(),b=new google.maps.LatLng(c.lat(),c.lng());return this.geocoder.geocode({latLng:b},function(g,f){if(f!=google.maps.GeocoderStatus.OK){return void console.log("Geocoder failed due to: "+f)}if(!g[0]){return void console.log("No results found")}var e=g[0];d.find(".title h4").text(e.formatted_address),d.find(".input-address").val(e.formatted_address).trigger("change")}),this},locate:function(){var c=this,b=this.$el;return navigator.geolocation?(b.find(".title h4").text(acf.l10n.google_map.locating+"..."),b.addClass("active"),void navigator.geolocation.getCurrentPosition(function(e){var d=e.coords.latitude,f=e.coords.longitude;c.set({$el:b}).update(d,f).sync().center()})):(alert(acf.l10n.google_map.browser_support),this)},clear:function(){this.$el.removeClass("active"),this.$el.find(".search").val(""),this.$el.find(".input-address").val(""),this.$el.find(".input-lat").val(""),this.$el.find(".input-lng").val(""),this.map.marker.setVisible(!1)},edit:function(){this.$el.removeClass("active");var b=this.$el.find(".title h4").text();this.$el.find(".search").val(b).focus()},refresh:function(){google.maps.event.trigger(this.map,"resize"),this.center()}},a(document).on("acf/setup_fields",function(f,d){var c=acf.fields.google_map,b=a(d).find(".acf-google-map");return b.exists()?acf.helpers.isset(window,"google","load")?acf.helpers.isset(window,"google","maps","places")?(b.each(function(){acf.fields.google_map.set({$el:a(this)}).init()}),!0):(google.load("maps","3",{other_params:a.param(c.api),callback:function(){b.each(function(){acf.fields.google_map.set({$el:a(this)}).init()})}}),!1):(a.getScript("https://www.google.com/jsapi",function(){google.load("maps","3",{other_params:a.param(c.api),callback:function(){b.each(function(){acf.fields.google_map.set({$el:a(this)}).init()})}})}),!1):!1}),a(document).on("click",".acf-google-map .acf-sprite-remove",function(b){b.preventDefault(),acf.fields.google_map.set({$el:a(this).closest(".acf-google-map")}).clear(),a(this).blur()}),a(document).on("click",".acf-google-map .acf-sprite-locate",function(b){b.preventDefault(),acf.fields.google_map.set({$el:a(this).closest(".acf-google-map")}).locate(),a(this).blur()}),a(document).on("click",".acf-google-map .title h4",function(b){b.preventDefault(),acf.fields.google_map.set({$el:a(this).closest(".acf-google-map")}).edit()}),a(document).on("keydown",".acf-google-map .search",function(b){return 13==b.which?!1:void 0}),a(document).on("blur",".acf-google-map .search",function(c){var b=a(this).closest(".acf-google-map");b.find(".input-lat").val()&&b.addClass("active")}),a(document).on("acf/fields/tab/show acf/conditional_logic/show",function(c,b){acf.fields.google_map.ready&&"google_map"==b.attr("data-field_type")&&acf.fields.google_map.set({$el:b.find(".acf-google-map")}).refresh()})}(jQuery),function(a){var b=acf.media;acf.fields.image={$el:null,$input:null,o:{},set:function(c){return a.extend(this,c),this.$input=this.$el.find('input[type="hidden"]'),this.o=acf.helpers.get_atts(this.$el),this.o.multiple=!!this.$el.closest(".repeater").exists(),this.o.query={type:"image"},"uploadedTo"==this.o.library&&(this.o.query.uploadedTo=acf.o.post_id),this},init:function(){acf.helpers.is_clone_field(this.$input)},add:function(d){var c=b.div;c.find(".acf-image-image").attr("src",d.url),c.find(".acf-image-value").val(d.id).trigger("change"),c.addClass("active"),c.closest(".field").removeClass("error")},new_frame:function(c){return b.div=this.$el,b.clear_frame(),c.states=[],c.states.push(new wp.media.controller.Library({library:wp.media.query(this.o.query),multiple:c.multiple,title:c.title,priority:20,filterable:"all"})),acf.helpers.isset(wp,"media","controller","EditImage")&&c.states.push(new wp.media.controller.EditImage),b.frame=wp.media(c),b.frame.on("content:render:edit-image",function(){var f=this.state().get("image"),d=new wp.media.view.EditImage({model:f,controller:this}).render();this.content.set(d),d.loadEditor()},b.frame),b.frame.on("toolbar:create:select",function(d){d.view=new wp.media.view.Toolbar.Select({text:c.button.text,controller:this})},b.frame),b.frame},edit:function(){var c=this.$input.val();this.new_frame({title:acf.l10n.image.edit,multiple:!1,button:{text:acf.l10n.image.update}}),b.frame.on("open",function(){"browse"!=b.frame.content._mode&&b.frame.content.mode("browse"),b.frame.$el.closest(".media-modal").addClass("acf-media-modal acf-expanded");var e=b.frame.state().get("selection"),d=wp.media.attachment(c);a.isEmptyObject(d.changed)&&d.fetch(),e.add(d)}),b.frame.on("close",function(){b.frame.$el.closest(".media-modal").removeClass("acf-media-modal")}),b.frame.open()},remove:function(){this.$el.find(".acf-image-image").attr("src",""),this.$el.find(".acf-image-value").val("").trigger("change"),this.$el.removeClass("active")},popup:function(){var c=this;return this.new_frame({title:acf.l10n.image.select,multiple:c.o.multiple,button:{text:acf.l10n.image.select}}),b.frame.on("content:activate",function(){var g=null,f=null;try{g=acf.media.frame.content.get().toolbar,f=g.get("filters")}catch(d){}return f?(a.each(f.filters,function(j,h){h.props.type="image"}),"uploadedTo"==c.o.library&&(f.$el.find('option[value="uploaded"]').remove(),f.$el.after("<span>"+acf.l10n.image.uploadedTo+"</span>"),a.each(f.filters,function(j,h){h.props.uploadedTo=acf.o.post_id})),f.$el.find("option").each(function(){var h=a(this).attr("value");"uploaded"==h&&"all"==c.o.library||-1===h.indexOf("image")&&a(this).remove()}),void f.$el.val("image").trigger("change")):!1}),acf.media.frame.on("select",function(){if(selection=b.frame.state().get("selection"),selection){var d=0;selection.each(function(f){if(d++,d>1){var m=b.div.closest("td"),g=m.closest(".row"),j=g.closest(".repeater"),e=m.attr("data-field_key"),h="td .acf-image-uploader:first";e&&(h='td[data-field_key="'+e+'"] .acf-image-uploader'),g.next(".row").exists()||j.find(".add-row-end").trigger("click"),b.div=g.next(".row").find(h)}var k={id:f.id,url:f.attributes.url};f.attributes.sizes&&f.attributes.sizes[c.o.preview_size]&&(k.url=f.attributes.sizes[c.o.preview_size].url),acf.fields.image.add(k)})}}),acf.media.frame.open(),!1},text:{title_add:"Select Image",title_edit:"Edit Image"}},a(document).on("click",".acf-image-uploader .acf-button-edit",function(c){c.preventDefault(),acf.fields.image.set({$el:a(this).closest(".acf-image-uploader")}).edit()}),a(document).on("click",".acf-image-uploader .acf-button-delete",function(c){c.preventDefault(),acf.fields.image.set({$el:a(this).closest(".acf-image-uploader")}).remove()}),a(document).on("click",".acf-image-uploader .add-image",function(c){c.preventDefault(),acf.fields.image.set({$el:a(this).closest(".acf-image-uploader")}).popup()})}(jQuery),function(a){acf.fields.radio={$el:null,$input:null,$other:null,farbtastic:null,set:function(b){return a.extend(this,b),this.$input=this.$el.find('input[type="radio"]:checked'),this.$other=this.$el.find('input[type="text"]'),this},change:function(){"other"==this.$input.val()?(this.$other.attr("name",this.$input.attr("name")),this.$other.show()):(this.$other.attr("name",""),this.$other.hide())}},a(document).on("change",'.acf-radio-list input[type="radio"]',function(b){acf.fields.radio.set({$el:a(this).closest(".acf-radio-list")}).change()})}(jQuery),function(a){acf.fields.relationship={$el:null,$input:null,$left:null,$right:null,o:{},timeout:null,set:function(b){return a.extend(this,b),this.$input=this.$el.children('input[type="hidden"]'),this.$left=this.$el.find(".relationship_left"),this.$right=this.$el.find(".relationship_right"),this.o=acf.helpers.get_atts(this.$el),this},init:function(){var c=this;if(!acf.helpers.is_clone_field(this.$input)){this.$right.find(".relationship_list").height(this.$left.height()-2),this.$right.find(".relationship_list").sortable({axis:"y",items:"> li",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,update:function(){c.$input.trigger("change")}});var b=this.$el;this.$left.find(".relationship_list").scrollTop(0).on("scroll",function(e){if(!b.hasClass("loading")&&!b.hasClass("no-results")&&a(this).scrollTop()+a(this).innerHeight()>=a(this).get(0).scrollHeight){var d=parseInt(b.attr("data-paged"));b.attr("data-paged",d+1),c.set({$el:b}).fetch()}}),this.fetch()}},fetch:function(){var c=this,b=this.$el;b.addClass("loading"),a.ajax({url:acf.o.ajaxurl,type:"post",dataType:"json",data:a.extend({action:"acf/fields/relationship/query_posts",post_id:acf.o.post_id,nonce:acf.o.nonce},this.o),success:function(d){c.set({$el:b}).render(d)}})},render:function(c){var b=this;return this.$el.removeClass("no-results").removeClass("loading"),1==this.o.paged&&this.$el.find(".relationship_left li:not(.load-more)").remove(),c&&c.html?(this.$el.find(".relationship_left .load-more").before(c.html),c.next_page_exists||this.$el.addClass("no-results"),void this.$left.find("a").each(function(){var d=a(this).attr("data-post_id");b.$right.find('a[data-post_id="'+d+'"]').exists()&&a(this).parent().addClass("hide")})):void this.$el.addClass("no-results")},add:function(f){var d=f.attr("data-post_id"),c=f.html();if(this.$right.find("a").length>=this.o.max){return alert(acf.l10n.relationship.max.replace("{max}",this.o.max)),!1}if(f.parent().hasClass("hide")){return !1}f.parent().addClass("hide");var b=["<li>",'<a href="#" data-post_id="'+f.attr("data-post_id")+'">',f.html()+'<span class="acf-button-remove"></span>',"</a>",'<input type="hidden" name="'+this.$input.attr("name")+'[]" value="'+f.attr("data-post_id")+'" />',"</li>"].join("");this.$right.find(".relationship_list").append(b),this.$input.trigger("change"),this.$el.closest(".field").removeClass("error")},remove:function(b){b.parent().remove(),this.$left.find('a[data-post_id="'+b.attr("data-post_id")+'"]').parent("li").removeClass("hide"),this.$input.trigger("change")}},a(document).on("acf/setup_fields",function(c,b){a(b).find(".acf_relationship").each(function(){acf.fields.relationship.set({$el:a(this)}).init()})}),a(document).on("change",".acf_relationship .select-post_type",function(d){var c=a(this).val(),b=a(this).closest(".acf_relationship");b.attr("data-post_type",c),b.attr("data-paged",1),acf.fields.relationship.set({$el:b}).fetch()}),a(document).on("click",".acf_relationship .relationship_left .relationship_list a",function(b){b.preventDefault(),acf.fields.relationship.set({$el:a(this).closest(".acf_relationship")}).add(a(this)),a(this).blur()}),a(document).on("click",".acf_relationship .relationship_right .relationship_list a",function(b){b.preventDefault(),acf.fields.relationship.set({$el:a(this).closest(".acf_relationship")}).remove(a(this)),a(this).blur()}),a(document).on("keyup",".acf_relationship input.relationship_search",function(d){var c=a(this).val(),b=a(this).closest(".acf_relationship");b.attr("data-s",c),b.attr("data-paged",1),clearTimeout(acf.fields.relationship.timeout),acf.fields.relationship.timeout=setTimeout(function(){acf.fields.relationship.set({$el:b}).fetch()},500)}),a(document).on("keypress",".acf_relationship input.relationship_search",function(b){13==b.which&&b.preventDefault()})}(jQuery),function(a){acf.fields.tab={add_group:function(c){var b="";b=c.is("tbody")?'<tr class="acf-tab-wrap"><td colspan="2"><ul class="hl clearfix acf-tab-group"></ul></td></tr>':'<div class="acf-tab-wrap"><ul class="hl clearfix acf-tab-group"></ul></div>',c.children(".field_type-tab:first").before(b)},add_tab:function(f){var d=f.closest(".field"),c=d.parent(),b=d.attr("data-field_key"),g=f.text();c.children(".acf-tab-wrap").exists()||this.add_group(c),c.children(".acf-tab-wrap").find(".acf-tab-group").append('<li><a class="acf-tab-button" href="#" data-key="'+b+'">'+g+"</a></li>")},toggle:function(f){var d=this,c=f.closest(".acf-tab-wrap").parent(),b=f.attr("data-key");f.parent("li").addClass("active").siblings("li").removeClass("active"),c.children(".field_type-tab").each(function(){var g=a(this);g.attr("data-field_key")==b?d.show_tab_fields(a(this)):d.hide_tab_fields(a(this))})},show_tab_fields:function(b){b.nextUntil(".field_type-tab").each(function(){a(this).removeClass("acf-tab_group-hide").addClass("acf-tab_group-show"),a(document).trigger("acf/fields/tab/show",[a(this)])})},hide_tab_fields:function(b){b.nextUntil(".field_type-tab").each(function(){a(this).removeClass("acf-tab_group-show").addClass("acf-tab_group-hide"),a(document).trigger("acf/fields/tab/hide",[a(this)])})},refresh:function(c){var b=this;c.find(".acf-tab-group").each(function(){a(this).find(".acf-tab-button:first").each(function(){b.toggle(a(this))})})}},a(document).on("acf/setup_fields",function(c,b){a(b).find(".acf-tab").each(function(){acf.fields.tab.add_tab(a(this))}),acf.fields.tab.refresh(a(b))}),a(document).on("click",".acf-tab-button",function(b){b.preventDefault(),acf.fields.tab.toggle(a(this)),a(this).trigger("blur")}),a(document).on("acf/conditional_logic/hide",function(f,d,c){if("tab"==d.attr("data-field_type")){var b=d.siblings(".acf-tab-wrap").find('a[data-key="'+d.attr("data-field_key")+'"]');b.is(":hidden")||(b.parent().hide(),b.parent().siblings(":visible").exists()?b.parent().siblings(":visible").first().children("a").trigger("click"):acf.fields.tab.hide_tab_fields(d))}}),a(document).on("acf/conditional_logic/show",function(f,d,c){if("tab"==d.attr("data-field_type")){var b=d.siblings(".acf-tab-wrap").find('a[data-key="'+d.attr("data-field_key")+'"]');if(!b.is(":visible")){return b.parent().show(),b.parent().hasClass("active")?void b.trigger("click"):b.parent().siblings(".active").is(":hidden")?void b.trigger("click"):void 0}}})}(jQuery),function(a){acf.validation={status:!0,disabled:!1,run:function(){var b=this;b.status=!0,a(".field.required, .form-field.required").each(function(){b.validate(a(this))})},show_spinner:function(c){if(c.exists()){var b=acf.o.wp_version;parseFloat(b)>=4.2?c.addClass("is-active"):c.css("display","inline-block")}},hide_spinner:function(c){if(c.exists()){var b=acf.o.wp_version;parseFloat(b)>=4.2?c.removeClass("is-active"):c.css("display","none")}},validate:function(h){var k=!1,g=null;if(h.data("validation",!0),h.is(":hidden")&&(k=!0,h.hasClass("acf-tab_group-hide"))){k=!1;var j=h.prevAll(".field_type-tab:first"),d=h.prevAll(".acf-tab-wrap:first");j.hasClass("acf-conditional_logic-hide")?k=!0:g=d.find('.acf-tab-button[data-key="'+j.attr("data-field_key")+'"]')}if(h.hasClass("acf-conditional_logic-hide")&&(k=!0),h.closest(".postbox.acf-hidden").exists()&&(k=!0),!k){if(""==h.find('input[type="text"], input[type="email"], input[type="number"], input[type="hidden"], textarea').val()&&h.data("validation",!1),h.find(".acf_wysiwyg").exists()&&"object"==typeof tinyMCE){h.data("validation",!0);var m=h.find(".wp-editor-area").attr("id"),c=tinyMCE.get(m);c&&!c.getContent()&&h.data("validation",!1)}if(h.find("select").exists()&&(h.data("validation",!0),"null"!=h.find("select").val()&&h.find("select").val()||h.data("validation",!1)),h.find('input[type="radio"]').exists()&&(h.data("validation",!1),h.find('input[type="radio"]:checked').exists()&&h.data("validation",!0)),h.find('input[type="checkbox"]').exists()&&(h.data("validation",!1),h.find('input[type="checkbox"]:checked').exists()&&h.data("validation",!0)),h.find(".acf_relationship").exists()&&(h.data("validation",!1),h.find(".acf_relationship .relationship_right input").exists()&&h.data("validation",!0)),h.find(".repeater").exists()&&(h.data("validation",!1),h.find(".repeater tr.row").exists()&&h.data("validation",!0)),h.find(".acf-gallery").exists()&&(h.data("validation",!1),h.find(".acf-gallery .thumbnail").exists()&&h.data("validation",!0)),a(document).trigger("acf/validate_field",[h]),!h.data("validation")){if(this.status=!1,h.closest(".field").addClass("error"),h.data("validation_message")){var f=h.find("p.label:first"),b=null;f.children(".acf-error-message").remove(),f.append('<span class="acf-error-message"><i class="bit"></i>'+h.data("validation_message")+"</span>")}g&&g.trigger("click")}}}},a(document).on("focus click",".field.required input, .field.required textarea, .field.required select",function(b){a(this).closest(".field").removeClass("error")}),a(document).on("click","#save-post",function(){acf.validation.disabled=!0}),a(document).on("submit","#post",function(){if(acf.validation.disabled){return !0}if(acf.validation.run(),!acf.validation.status){var b=a(this);return b.siblings("#message").remove(),b.before('<div id="message" class="error"><p>'+acf.l10n.validation.error+"</p></div>"),a("#submitdiv").exists()&&(a("#submitdiv").find(".disabled").removeClass("disabled"),a("#submitdiv").find(".button-disabled").removeClass("button-disabled"),a("#submitdiv").find(".button-primary-disabled").removeClass("button-primary-disabled"),acf.validation.hide_spinner(a("#submitdiv .spinner"))),!1}return a(".acf_postbox.acf-hidden").remove(),!0})}(jQuery),function(a){var b=acf.fields.wysiwyg={$el:null,$textarea:null,o:{},set:function(c){return a.extend(this,c),this.$textarea=this.$el.find("textarea"),this.o=acf.helpers.get_atts(this.$el),this.o.id=this.$textarea.attr("id"),this},has_tinymce:function(){var c=!1;return"object"==typeof tinyMCE&&(c=!0),c},get_toolbar:function(){return acf.helpers.isset(this,"toolbars",this.o.toolbar)?this.toolbars[this.o.toolbar]:!1},init:function(){if(!acf.helpers.is_clone_field(this.$textarea)){var f=this.o.id,e=this.get_toolbar(),d="mceAddControl",j="theme_advanced_buttons{i}",g=a.extend({},tinyMCE.settings);if(4==tinymce.majorVersion&&(d="mceAddEditor",j="toolbar{i}"),e){for(var h=1;5>h;h++){var c="";acf.helpers.isset(e,"theme_advanced_buttons"+h)&&(c=e["theme_advanced_buttons"+h]),tinyMCE.settings[j.replace("{i}",h)]=c}}tinyMCE.execCommand(d,!1,f),a(document).trigger("acf/wysiwyg/load",f),setTimeout(function(){b.add_events(f)},100),tinyMCE.settings=g,wpActiveEditor=null}},add_events:function(g){var f=tinyMCE.get(g);if(f){var d=a("#wp-"+g+"-wrap"),c=a(f.getBody());d.on("click",function(){a(document).trigger("acf/wysiwyg/click",g)}),c.on("focus",function(){a(document).trigger("acf/wysiwyg/focus",g)}),c.on("blur",function(){a(document).trigger("acf/wysiwyg/blur",g)})}},destroy:function(){var g=this.o.id,f="mceRemoveControl";try{var d=tinyMCE.get(g);if(!d){return}4==tinymce.majorVersion&&(f="mceRemoveEditor");var c=d.getContent();tinyMCE.execCommand(f,!1,g),this.$textarea.val(c)}catch(h){}wpActiveEditor=null}};a(document).on("acf/setup_fields",function(d,c){b.has_tinymce()&&(a(c).find(".acf_wysiwyg").each(function(){b.set({$el:a(this)}).destroy()}),setTimeout(function(){a(c).find(".acf_wysiwyg").each(function(){b.set({$el:a(this)}).init()})},0))}),a(document).on("acf/remove_fields",function(d,c){b.has_tinymce()&&c.find(".acf_wysiwyg").each(function(){b.set({$el:a(this)}).destroy()})}),a(document).on("acf/wysiwyg/click",function(d,c){wpActiveEditor=c,container=a("#wp-"+c+"-wrap").closest(".field").removeClass("error")}),a(document).on("acf/wysiwyg/focus",function(d,c){wpActiveEditor=c,container=a("#wp-"+c+"-wrap").closest(".field").removeClass("error")}),a(document).on("acf/wysiwyg/blur",function(g,f){wpActiveEditor=null;var d=tinyMCE.get(f);if(d){var c=d.getElement();d.save(),a(c).trigger("change")}}),a(document).on("acf/sortable_start",function(d,c){b.has_tinymce()&&a(c).find(".acf_wysiwyg").each(function(){b.set({$el:a(this)}).destroy()})}),a(document).on("acf/sortable_stop",function(d,c){b.has_tinymce()&&a(c).find(".acf_wysiwyg").each(function(){b.set({$el:a(this)}).init()})}),a(window).on("load",function(){if(b.has_tinymce()){var d=a("#wp-content-wrap").exists(),c=a("#wp-acf_settings-wrap").exists();mode="tmce",c&&a("#wp-acf_settings-wrap").hasClass("html-active")&&(mode="html"),setTimeout(function(){c&&"html"==mode&&a("#acf_settings-tmce").trigger("click")},1),setTimeout(function(){c&&"html"==mode&&a("#acf_settings-html").trigger("click"),d&&b.add_events("content")},11)}}),a(document).on("click",".acf_wysiwyg a.mce_fullscreen",function(){var d=a(this).closest(".acf_wysiwyg"),c=d.attr("data-upload");"no"==c&&a("#mce_fullscreen_container td.mceToolbar .mce_add_media").remove()})}(jQuery);