function alterClass(c,b,a){if(c){c.className=c.className.replace(RegExp("(^|\\s)"+b+"(\\s|$)"),"$2")+(a?" "+b:"")}}function toggle(b){var a=document.getElementById(b);a.className=(a.className=="hidden"?"":"hidden");return true}function cookie(a,c){var b=new Date();b.setDate(b.getDate()+c);document.cookie=a+"; expires="+b}function verifyVersion(b){cookie("adminer_version=0",1);var a=document.createElement("iframe");a.src="https://www.adminer.org/version/?current="+b;a.frameBorder=0;a.marginHeight=0;a.scrolling="no";a.style.width="7ex";a.style.height="1.25em";if(window.postMessage&&window.addEventListener){a.style.display="none";addEventListener("message",function(d){if(d.origin=="https://www.adminer.org"){var c=/version=(.+)/.exec(d.data);if(c){cookie("adminer_version="+c[1],1)}}},false)}document.getElementById("version").appendChild(a)}function selectValue(a){if(!a.selectedIndex){return a.value}var b=a.options[a.selectedIndex];return((b.attributes.value||{}).specified?b.value:b.text)}function isTag(c,a){var b=new RegExp("^("+a+")$","i");return b.test(c.tagName)}function parentTag(b,a){while(b&&!isTag(b,a)){b=b.parentNode}return b}function trCheck(a){var b=parentTag(a,"tr");alterClass(b,"checked",a.checked);if(a.form&&a.form.all&&a.form.all.onclick){a.form.all.onclick()}}function selectCount(e,d){setHtml(e,(d===""?"":"("+(d+"").replace(/\B(?=(\d{3})+$)/g," ")+")"));var a=document.getElementById(e).parentNode.parentNode.getElementsByTagName("input");for(var c=0;c<a.length;c++){var b=a[c];if(b.type=="submit"){b.disabled=(d=="0")}}}function formCheck(d,b){var a=d.form.elements;for(var c=0;c<a.length;c++){if(b.test(a[c].name)){a[c].checked=d.checked;trCheck(a[c])}}}function tableCheck(){var d=document.getElementsByTagName("table");for(var c=0;c<d.length;c++){if(/(^|\s)checkable(\s|$)/.test(d[c].className)){var a=d[c].getElementsByTagName("tr");for(var b=0;b<a.length;b++){trCheck(a[b].firstChild.firstChild)}}}}function formUncheck(b){var a=document.getElementById(b);a.checked=false;trCheck(a)}function formChecked(d,b){var e=0;var a=d.form.elements;for(var c=0;c<a.length;c++){if(b.test(a[c].name)&&a[c].checked){e++}}return e}function tableClick(c,b){b=(b||!window.getSelection||getSelection().isCollapsed);var a=getTarget(c);while(!isTag(a,"tr")){if(isTag(a,"table|a|input|textarea")){if(a.type!="checkbox"){return}checkboxClick(c,a);b=false}a=a.parentNode;if(!a){return}}a=a.firstChild.firstChild;if(b){a.checked=!a.checked;a.onclick&&a.onclick()}trCheck(a)}var lastChecked;function checkboxClick(g,e){if(!e.name){return}if(g.shiftKey&&(!lastChecked||lastChecked.name==e.name)){var f=(lastChecked?lastChecked.checked:true);var a=parentTag(e,"table").getElementsByTagName("input");var d=!lastChecked;for(var c=0;c<a.length;c++){var b=a[c];if(b.name===e.name){if(d){b.checked=f;trCheck(b)}if(b===e||b===lastChecked){if(d){break}d=true}}}}else{lastChecked=e}}function setHtml(c,a){var b=document.getElementById(c);if(b){if(a==null){b.parentNode.innerHTML="&nbsp;"}else{b.innerHTML=a}}}function nodePosition(a){var b=0;while(a=a.previousSibling){b++}return b}function pageClick(a,c,b){if(!isNaN(c)&&c){a+=(c!=1?"&page="+(c-1):"");location.href=a}}function menuOver(c,d){var b=getTarget(d);if(isTag(b,"a|span")&&b.offsetLeft+b.offsetWidth>b.parentNode.offsetWidth-15){c.style.overflow="visible"}}function menuOut(a){a.style.overflow="auto"}function selectAddRow(d){d.onchange=function(){selectFieldChange(d.form)};d.onchange();var e=cloneNode(d.parentNode);var c=e.getElementsByTagName("select");for(var b=0;b<c.length;b++){c[b].name=c[b].name.replace(/[a-z]\[\d+/,"$&1");c[b].selectedIndex=0}var a=e.getElementsByTagName("input");for(var b=0;b<a.length;b++){a[b].name=a[b].name.replace(/[a-z]\[\d+/,"$&1");a[b].className="";if(a[b].type=="checkbox"){a[b].checked=false}else{a[b].value=""}}d.parentNode.parentNode.appendChild(e)}function selectSearchKeydown(a,b){if(b.keyCode==13||b.keyCode==10){a.onsearch=function(){}}}function selectSearchSearch(a){if(!a.value){a.parentNode.firstChild.selectedIndex=0}}function columnMouse(d,c){var b=d.getElementsByTagName("span");for(var a=0;a<b.length;a++){if(/column/.test(b[a].className)){b[a].className="column"+(c||"")}}}function selectSearch(a){var d=document.getElementById("fieldset-search");d.className="";var c=d.getElementsByTagName("div");for(var b=0;b<c.length;b++){var e=c[b];if(isTag(e.firstChild,"select")&&selectValue(e.firstChild)==a){break}}if(b==c.length){e.firstChild.value=a;e.firstChild.onchange()}e.lastChild.focus()}function isCtrl(a){return(a.ctrlKey||a.metaKey)&&!a.altKey}function getTarget(a){return a.target||a.srcElement}function bodyKeydown(b,a){var c=getTarget(b);if(c.jushTextarea){c=c.jushTextarea}if(isCtrl(b)&&(b.keyCode==13||b.keyCode==10)&&isTag(c,"select|textarea|input")){c.blur();if(a){c.form[a].click()}else{c.form.submit()}c.focus();return false}return true}function bodyClick(a){var b=getTarget(a);if((isCtrl(a)||a.shiftKey)&&b.type=="submit"&&isTag(b,"input")){b.form.target="_blank";setTimeout(function(){b.form.target=""},0)}}function editingKeydown(c){if((c.keyCode==40||c.keyCode==38)&&isCtrl(c)){var d=getTarget(c);var b=(c.keyCode==40?"nextSibling":"previousSibling");var a=d.parentNode.parentNode[b];if(a&&(isTag(a,"tr")||(a=a[b]))&&isTag(a,"tr")&&(a=a.childNodes[nodePosition(d.parentNode)])&&(a=a.childNodes[nodePosition(d)])){a.focus()}return false}if(c.shiftKey&&!bodyKeydown(c,"insert")){eventStop(c);return false}return true}function functionChange(a){var b=a.form[a.name.replace(/^function/,"fields")];if(selectValue(a)){if(b.origType===undefined){b.origType=b.type;b.origMaxLength=b.getAttribute("data-maxlength")}b.removeAttribute("data-maxlength");b.type="text"}else{if(b.origType){b.type=b.origType;if(b.origMaxLength>=0){b.setAttribute("data-maxlength",b.origMaxLength)}}}oninput({target:b});helpClose()}function keyupChange(){if(this.value!=this.getAttribute("value")){this.onchange();this.setAttribute("value",this.value)}}function fieldChange(c){var d=cloneNode(parentTag(c,"tr"));var a=d.getElementsByTagName("input");for(var b=0;b<a.length;b++){a[b].value=""}parentTag(c,"table").appendChild(d);c.onchange=function(){}}function ajax(b,f,e,d){var c=(window.XMLHttpRequest?new XMLHttpRequest():(window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):false));if(c){var a=document.getElementById("ajaxstatus");if(d){a.innerHTML='<div class="message">'+d+"</div>";a.className=a.className.replace(/ hidden/g,"")}else{a.className+=" hidden"}c.open((e?"POST":"GET"),b);if(e){c.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}c.setRequestHeader("X-Requested-With","XMLHttpRequest");c.onreadystatechange=function(){if(c.readyState==4){if(/^2/.test(c.status)){f(c)}else{a.innerHTML=(c.status?c.responseText:'<div class="error">'+offlineMessage+"</div>");a.className=a.className.replace(/ hidden/g,"")}}};c.send(e)}return c}function ajaxSetHtml(url){return ajax(url,function(request){var data=eval("("+request.responseText+")");for(var key in data){setHtml(key,data[key])}})}function ajaxForm(g,f,d){var h=[];var c=g.elements;for(var b=0;b<c.length;b++){var e=c[b];if(e.name&&!e.disabled){if(/^file$/i.test(e.type)&&e.value){return false}if(!/^(checkbox|radio|submit|file)$/i.test(e.type)||e.checked||e==d){h.push(encodeURIComponent(e.name)+"="+encodeURIComponent(isTag(e,"select")?selectValue(e):e.value))}}}h=h.join("&");var a=g.action;if(!/post/i.test(g.method)){a=a.replace(/\?.*/,"")+"?"+h;h=""}return ajax(a,function(i){setHtml("ajaxstatus",i.responseText);if(window.jush){jush.highlight_tag(document.getElementById("ajaxstatus").getElementsByTagName("code"),0)}},h,f)}function selectClick(c,a,k,g){var e=getTarget(a);if(!isCtrl(a)||isTag(c.firstChild,"input|textarea")||isTag(e,"a")){return}if(g){return alert(g)}var b=c.innerHTML;k=k||/\n/.test(b);var h=document.createElement(k?"textarea":"input");h.onkeydown=function(m){if(!m){m=window.event}if(m.keyCode==27&&!m.shiftKey&&!m.altKey&&!isCtrl(m)){inputBlur.apply(h);c.innerHTML=b}};var f=a.rangeOffset;var i=c.firstChild.alt||c.textContent||c.innerText;h.style.width=Math.max(c.clientWidth-14,20)+"px";if(k){var l=1;i.replace(/\n/g,function(){l++});h.rows=l}if(i=="\u00A0"||c.getElementsByTagName("i").length){i=""}if(document.selection){var d=document.selection.createRange();d.moveToPoint(a.clientX,a.clientY);var j=d.duplicate();j.moveToElementText(c);j.setEndPoint("EndToEnd",d);f=j.text.length}c.innerHTML="";c.appendChild(h);setupSubmitHighlight(c);h.focus();if(k==2){return ajax(location.href+"&"+encodeURIComponent(c.id)+"=",function(m){if(m.responseText){h.value=m.responseText;h.name=c.id}})}h.value=i;h.name=c.id;h.selectionStart=f;h.selectionEnd=f;if(document.selection){var d=document.selection.createRange();d.moveEnd("character",-h.value.length+f);d.select()}}function selectLoadMore(c,b,f){var e=c.innerHTML;var d=c.href;c.innerHTML=f;if(d){c.removeAttribute("href");return ajax(d,function(g){var a=document.createElement("tbody");a.innerHTML=g.responseText;document.getElementById("table").appendChild(a);if(a.children.length<b){c.parentNode.removeChild(c)}else{c.href=d.replace(/\d+$/,function(h){return +h+1});c.innerHTML=e}})}}function eventStop(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}}function setupSubmitHighlight(d){for(var c in {input:1,select:1,textarea:1}){var a=d.getElementsByTagName(c);for(var b=0;b<a.length;b++){setupSubmitHighlightInput(a[b])}}}function setupSubmitHighlightInput(a){if(!/submit|image|file/.test(a.type)){addEvent(a,"focus",inputFocus);addEvent(a,"blur",inputBlur)}}function inputFocus(){var a=findDefaultSubmit(this);if(a){alterClass(a,"default",true)}}function inputBlur(){var a=findDefaultSubmit(this);if(a){alterClass(a,"default")}}function findDefaultSubmit(d){if(d.jushTextarea){d=d.jushTextarea}var a=d.form.getElementsByTagName("input");for(var c=0;c<a.length;c++){var b=a[c];if(b.type=="submit"&&!b.style.zIndex){return b}}}function addEvent(b,c,a){if(b.addEventListener){b.addEventListener(c,a,false)}else{b.attachEvent("on"+c,a)}}function focus(a){setTimeout(function(){a.focus()},0)}function cloneNode(b){var a=b.cloneNode(true);setupSubmitHighlight(a);return a}oninput=function(b){var c=b.target;var a=c.getAttribute("data-maxlength");alterClass(c,"maxlength",c.value&&a!=null&&c.value.length>a)};